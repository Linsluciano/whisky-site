(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77429,55378,58789,75014,82750,35957,56023,57176,73748],{226501:e=>{var t,o,n,i,s,r,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowersModalGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Literal",name:"first",value:50}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},n,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:r,filters:null,handle:"connection",key:"FollowerList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"7f54b95197a47388f59b7bd84197a9ff",id:null,metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:"query FollowersControllerQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        username\n        followerCount\n        ...FollowersModalGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment FollowersModalGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 50) {\n        edges {\n          node {\n            ...UserListItem_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_user on User {\n  entityId\n  explicitlyFollowedByMe\n  fullName\n  id\n  imageMediumUrl\n  username\n}\n"}};a.hash="95a5c8f44373cb886b3ffafcb85ae779",e.exports=a},675600:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"20e8523ead27d083bd2750554d0ae59d",id:null,metadata:{},name:"FollowersListDuploPaginationQuery",operationKind:"query",text:"query FollowersListDuploPaginationQuery(\n  $count: Int = 10\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProfileFollowersGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment ProfileFollowersGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=r},510289:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(961555),identifierField:"id"}},name:"FollowersModalGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowerList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UserListItem_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="07da788f519ed2da36ec3add6b94599e",e.exports=i},961555:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersModalPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"FollowersModalGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersModalPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowerList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"0d9b6f231db4b9e7917c3b1117fa6574",id:null,metadata:{},name:"FollowersModalPaginationQuery",operationKind:"query",text:"query FollowersModalPaginationQuery(\n  $count: Int = 50\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...FollowersModalGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment FollowersModalGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...UserListItem_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_user on User {\n  entityId\n  explicitlyFollowedByMe\n  fullName\n  id\n  imageMediumUrl\n  username\n}\n"}};r.hash="07da788f519ed2da36ec3add6b94599e",e.exports=r},958045:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:i=[{kind:"Literal",name:"first",value:10}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:10)"},{alias:null,args:i,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"9bfea921a9728aaf9194efb0947c110e",id:null,metadata:{},name:"ProfileFollowersControllerGraphQLDuploQuery",operationKind:"query",text:"query ProfileFollowersControllerGraphQLDuploQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        ...ProfileFollowersGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment ProfileFollowersGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 10) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="790a1cc582da875dd51867ea26d81354",e.exports=r},44438:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(675600),identifierField:"id"}},name:"ProfileFollowersGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowersList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileUserRepGraphQL_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=i},382375:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"05a0eab4c4529047294d099977481a89",id:null,metadata:{},name:"ProfileUserRepGraphQLFollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLFollowMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="80ca7b23e17dc132070cd2e1a348eef3",e.exports=r},200722:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"82c4b0892e8ed324c4125f0453209bbe",id:null,metadata:{},name:"ProfileUserRepGraphQLUnfollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLUnfollowMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="2faed66ab14b45f67a0df0446b21703d",e.exports=r},896355:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQL_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"22d1ebb77d326b5a38c56d478e47ea07"};e.exports=t},811761:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemFollowUserMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserListItemFollowUserMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"0c4d960e4fd0d89e812eeae97b6a0aae",id:null,metadata:{},name:"UserListItemFollowUserMutation",operationKind:"mutation",text:"mutation UserListItemFollowUserMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="b2477a22e1fff6487bd98e65c4fdf8a6",e.exports=r},17495:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemUnfollowUserMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserListItemUnfollowUserMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"cb59122a193001f727b7d7e362b4c8e2",id:null,metadata:{},name:"UserListItemUnfollowUserMutation",operationKind:"mutation",text:"mutation UserListItemUnfollowUserMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="988b2995dab75b324c1a18737f26ba0c",e.exports=r},126885:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserListItem_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null,hash:"c0b9ba5cef50b985a853ed8c397f1d6e"};e.exports=t},641661:(e,t,o)=>{var n={"./":[466421,9],"./CZ":[181589,9,81589],"./CZ.js":[181589,9,81589],"./DA":[35301,9,35301],"./DA.js":[35301,9,35301],"./DE":[936918,9,36918],"./DE.js":[936918,9,36918],"./ENUK":[504906,9,4906],"./ENUK.js":[504906,9,4906],"./ENUS":[598077,9,98077],"./ENUS.js":[598077,9,98077],"./ESAR":[854876,9,54876],"./ESAR.js":[854876,9,54876],"./ESES":[606612,9,6612],"./ESES.js":[606612,9,6612],"./ESMX":[829434,9,29434],"./ESMX.js":[829434,9,29434],"./FI":[384,9,384],"./FI.js":[384,9,384],"./FR":[414583,9,14583],"./FR.js":[414583,9,14583],"./GR":[740688,9,40688],"./GR.js":[740688,9,40688],"./HI":[7359,9,7359],"./HI.js":[7359,9,7359],"./HU":[907839,9,7839],"./HU.js":[907839,9,7839],"./ID":[251163,9,51163],"./ID.js":[251163,9,51163],"./IT":[757783,9,57783],"./IT.js":[757783,9,57783],"./JP":[445841,9,45841],"./JP.js":[445841,9,45841],"./KR":[73729,9,73729],"./KR.js":[73729,9,73729],"./MS":[60796,9,60796],"./MS.js":[60796,9,60796],"./NL":[440274,9,40274],"./NL.js":[440274,9,40274],"./NO":[867542,9,67542],"./NO.js":[867542,9,67542],"./PL":[270536,9,70536],"./PL.js":[270536,9,70536],"./PTBR":[298612,9,98612],"./PTBR.js":[298612,9,98612],"./PTPT":[438342,9,38342],"./PTPT.js":[438342,9,38342],"./RO":[902331,9,2331],"./RO.js":[902331,9,2331],"./RU":[587088,9,87088],"./RU.js":[587088,9,87088],"./SK":[150894,9,50894],"./SK.js":[150894,9,50894],"./SV":[265498,9,65498],"./SV.js":[265498,9,65498],"./TH":[863386,9,63386],"./TH.js":[863386,9,63386],"./TL":[288849,9,88849],"./TL.js":[288849,9,88849],"./TR":[312981,9,12981],"./TR.js":[312981,9,12981],"./UA":[158461,9,58461],"./UA.js":[158461,9,58461],"./VT":[238901,9,38901],"./VT.js":[238901,9,38901],"./ZHCN":[686452,9,86452],"./ZHCN.js":[686452,9,86452],"./ZHTW":[504505,9,4505],"./ZHTW.js":[504505,9,4505],"./index":[466421,9],"./index.js":[466421,9],"./localeToFilename":[925963,9],"./localeToFilename.js":[925963,9],"./types":[368347,7,68347],"./types.js":[368347,7,68347]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(2).map(o.e)).then((()=>o.t(i,16|t[1])))}i.keys=()=>Object.keys(n),i.id=641661,e.exports=i},263116:(e,t,o)=>{o.d(t,{ZP:()=>T,TA:()=>E});var n=o(667294);function i(e,t){if(null==e)return{};var o,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=o(659864),a=o(108679),c=o.n(a);function d(e,t){if(!e){var o=new Error("loadable: "+t);throw o.framesToPop=1,o.name="Invariant Violation",o}}function u(e){console.warn("loadable: "+e)}var _=n.createContext();function h(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var p={initialChunks:{}},m="PENDING",g="REJECTED";var f=function(e){return e};function x(e){var t=e.defaultResolveComponent,o=void 0===t?f:t,a=e.render,u=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),f={};function x(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function b(e,n,i){var s=t.resolveComponent?t.resolveComponent(e,n):o(e);if(t.resolveComponent&&!(0,l.isValidElementType)(s))throw new Error("resolveComponent returned something that is not a React component!");return c()(i,s,{preload:!0}),s}var y,v=function(e){var o,n;function l(o){var n;return(n=e.call(this,o)||this).state={result:null,error:null,loading:!0,cacheKey:x(o)},d(!o.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),o.__chunkExtractor?(!1===t.ssr||(h.requireAsync(o).catch((function(){return null})),n.loadSync(),o.__chunkExtractor.addChunk(h.chunkName(o))),r(n)):(!1!==t.ssr&&(h.isReady&&h.isReady(o)||h.chunkName&&p.initialChunks[h.chunkName(o)])&&n.loadSync(),n)}n=e,(o=l).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,l.getDerivedStateFromProps=function(e,t){var o=x(e);return s({},t,{cacheKey:o,loading:t.loading||t.cacheKey!==o})};var c=l.prototype;return c.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},c.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},c.componentWillUnmount=function(){this.mounted=!1},c.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},c.getCacheKey=function(){return x(this.props)},c.getCache=function(){return f[this.getCacheKey()]},c.setCache=function(e){void 0===e&&(e=void 0),f[this.getCacheKey()]=e},c.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},c.loadSync=function(){if(this.state.loading)try{var e=b(h.requireSync(this.props),this.props,w);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},c.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var o=b(t,e.props,{Loadable:w});e.safeSetState({result:o,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},c.resolveAsync=function(){var e=this,t=this.props,o=(t.__chunkExtractor,t.forwardedRef,i(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=h.requireAsync(o)).status=m,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),n.status=g}))),n},c.render=function(){var e=this.props,o=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,i(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,c=l.error,d=l.loading,u=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(c)throw c;var _=n||t.fallback||null;return d?_:a({fallback:_,result:u,options:t,props:s({},r,{ref:o})})},l}(n.Component),P=(y=v,function(e){return n.createElement(_.Consumer,null,(function(t){return n.createElement(y,Object.assign({__chunkExtractor:t},e))}))}),w=n.forwardRef((function(e,t){return n.createElement(P,Object.assign({forwardedRef:t},e))}));return w.preload=function(e){h.requireAsync(e)},w.load=function(e){return h.requireAsync(e)},w}return{loadable:h,lazy:function(e,t){return h(e,s({},t,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,o=e.props;return n.createElement(t,o)}}),y=b.loadable,v=b.lazy,P=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,o=e.props;return o.children?o.children(t):null}}),w=P.loadable,A=P.lazy,C="undefined"!=typeof window;function E(e,t){void 0===e&&(e=function(){});var o=(void 0===t?{}:t).namespace,n=void 0===o?"":o;if(!C)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(C){var s=h(n),r=document.getElementById(s);if(r){i=JSON.parse(r.textContent);var l=document.getElementById(s+"_ext");if(!l)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(l.textContent).namedChunks.forEach((function(e){p.initialChunks[e]=!0}))}}if(!i)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var a=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,o=t.push.bind(t);function n(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(a||(a=!0,e()))}t.push=function(){o.apply(void 0,arguments),n()},n()})).then(e)}var j=y;j.lib=w,v.lib=A;const T=j},701305:e=>{var t=[],o=[];function n(e,t,o,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var s=Object.prototype.toString,r=s.call(e);if(r!=s.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=o.length;l--;)if(o[l]==e)return i[l]==t;o.push(e),i.push(t);var a=0;if("[object Array]"===r){if((a=e.length)!==t.length)return!1;for(;a--;)if(!n(e[a],t[a],o,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!n(e[c[d]],t[c[d]],o,i))return!1}return o.pop(),i.pop(),!0}e.exports=function(e,i){var s=t.length?t.pop():[],r=o.length?o.pop():[],l=n(e,i,s,r);return s.length=0,r.length=0,t.push(s),o.push(r),l}},60139:e=>{function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},663620:(e,t,o)=>{var n=o(60139);e.exports=n},968337:(e,t,o)=>{function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(o){e[o]=t[o]}))})),e}function i(e){return Object.prototype.toString.call(e)}function s(e){return"[object Function]"===i(e)}function r(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var a={"http:":{validate:function(e,t,o){var n=e.slice(t);return o.re.http||(o.re.http=new RegExp("^\\/\\/"+o.re.src_auth+o.re.src_host_port_strict+o.re.src_path,"i")),o.re.http.test(n)?n.match(o.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,o){var n=e.slice(t);return o.re.no_http||(o.re.no_http=new RegExp("^"+o.re.src_auth+"(?:localhost|(?:(?:"+o.re.src_domain+")\\.)+"+o.re.src_domain_root+")"+o.re.src_port+o.re.src_host_terminator+o.re.src_path,"i")),o.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(o.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,o){var n=e.slice(t);return o.re.mailto||(o.re.mailto=new RegExp("^"+o.re.src_email_name+"@"+o.re.src_host_strict,"i")),o.re.mailto.test(n)?n.match(o.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=o(136066)(e.__opts__),n=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var a=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var o=e.__schemas__[t];if(null!==o){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(o))return!function(e){return"[object RegExp]"===i(e)}(o.validate)?s(o.validate)?n.validate=o.validate:c(t,o):n.validate=function(e){return function(t,o){var n=t.slice(o);return e.test(n)?n.match(e)[0].length:0}}(o.validate),void(s(o.normalize)?n.normalize=o.normalize:o.normalize?c(t,o):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(o)?c(t,o):a.push(t)}})),a.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(r).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var o=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(o,n);this.schema=e.__schema__.toLowerCase(),this.index=o+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function _(e,t){var o=new u(e,t);return e.__compiled__[o.schema].normalize(o,e),o}function h(e,t){if(!(this instanceof h))return new h(e,t);var o;t||(o=e,Object.keys(o||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},a,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,o,n,i,s,r,l,a;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(i=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||a<this.__index__)&&null!==(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(s=o.index+o[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=o.index+o[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(s=n.index+n[1].length,r=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=r)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0},h.prototype.match=function(e){var t=0,o=[];this.__index__>=0&&this.__text_cache__===e&&(o.push(_(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)o.push(_(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return o.length?o:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,o){return e!==o[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},136066:(e,t,o)=>{e.exports=function(e){var t={};t.src_Any=o(329369).source,t.src_Cc=o(499413).source,t.src_Z=o(335045).source,t.src_P=o(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},288668:(e,t,o)=>{var n=o(883369),i=o(90619),s=o(572385);function r(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}r.prototype.add=r.prototype.push=i,r.prototype.has=s,e.exports=r},477412:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}},234963:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,s=[];++o<n;){var r=e[o];t(r,o,e)&&(s[i++]=r)}return s}},862488:e=>{e.exports=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e}},282908:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},744037:(e,t,o)=>{var n=o(698363),i=o(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},163886:(e,t,o)=>{var n=o(698363),i=o(481704);e.exports=function(e,t){return e&&n(t,i(t),e)}},285990:(e,t,o)=>{var n=o(646384),i=o(477412),s=o(234865),r=o(744037),l=o(163886),a=o(364626),c=o(200278),d=o(318805),u=o(201911),_=o(458234),h=o(946904),p=o(664160),m=o(43824),g=o(529148),f=o(738517),x=o(701469),b=o(644144),y=o(356688),v=o(513218),P=o(472928),w=o(3674),A=o(481704),C="[object Arguments]",E="[object Function]",j="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[j]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[E]=T["[object WeakMap]"]=!1,e.exports=function e(t,o,I,S,z,k){var D,R=1&o,O=2&o,L=4&o;if(I&&(D=z?I(t,S,z,k):I(t)),void 0!==D)return D;if(!v(t))return t;var F=x(t);if(F){if(D=m(t),!R)return c(t,D)}else{var M=p(t),B=M==E||"[object GeneratorFunction]"==M;if(b(t))return a(t,R);if(M==j||M==C||B&&!z){if(D=O||B?{}:f(t),!R)return O?u(t,l(D,t)):d(t,r(D,t))}else{if(!T[M])return z?t:{};D=g(t,M,R)}}k||(k=new n);var N=k.get(t);if(N)return N;k.set(t,D),P(t)?t.forEach((function(n){D.add(e(n,o,I,n,t,k))})):y(t)&&t.forEach((function(n,i){D.set(i,e(n,o,I,i,t,k))}));var U=F?void 0:(L?O?h:_:O?A:w)(t);return i(U||t,(function(n,i){U&&(n=t[i=n]),s(D,i,e(n,o,I,i,t,k))})),D}},121078:(e,t,o)=>{var n=o(862488),i=o(137285);e.exports=function e(t,o,s,r,l){var a=-1,c=t.length;for(s||(s=i),l||(l=[]);++a<c;){var d=t[a];o>0&&s(d)?o>1?e(d,o-1,s,r,l):n(l,d):r||(l[l.length]=d)}return l}},868866:(e,t,o)=>{var n=o(862488),i=o(701469);e.exports=function(e,t,o){var s=t(e);return i(e)?s:n(s,o(e))}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},690939:(e,t,o)=>{var n=o(902492),i=o(637005);e.exports=function e(t,o,s,r,l){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,s,r,e,l))}},902492:(e,t,o)=>{var n=o(646384),i=o(967114),s=o(518351),r=o(916096),l=o(664160),a=o(701469),c=o(644144),d=o(936719),u="[object Arguments]",_="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,m,g,f){var x=a(e),b=a(t),y=x?_:l(e),v=b?_:l(t),P=(y=y==u?h:y)==h,w=(v=v==u?h:v)==h,A=y==v;if(A&&c(e)){if(!c(t))return!1;x=!0,P=!1}if(A&&!P)return f||(f=new n),x||d(e)?i(e,t,o,m,g,f):s(e,t,y,o,m,g,f);if(!(1&o)){var C=P&&p.call(e,"__wrapped__"),E=w&&p.call(t,"__wrapped__");if(C||E){var j=C?e.value():e,T=E?t.value():t;return f||(f=new n),g(j,T,o,m,f)}}return!!A&&(f||(f=new n),r(e,t,o,m,g,f))}},225588:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},829221:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},325970:(e,t,o)=>{var n=o(863012),i=o(379095);e.exports=function(e,t){return n(e,t,(function(t,o){return i(e,o)}))}},863012:(e,t,o)=>{var n=o(297786),i=o(10611),s=o(671811);e.exports=function(e,t,o){for(var r=-1,l=t.length,a={};++r<l;){var c=t[r],d=n(e,c);o(d,c)&&i(a,s(c,e),d)}return a}},10611:(e,t,o)=>{var n=o(234865),i=o(671811),s=o(565776),r=o(513218),l=o(240327);e.exports=function(e,t,o,a){if(!r(e))return e;for(var c=-1,d=(t=i(t,e)).length,u=d-1,_=e;null!=_&&++c<d;){var h=l(t[c]),p=o;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=u){var m=_[h];void 0===(p=a?a(m,h,_):void 0)&&(p=r(m)?m:s(t[c+1])?[]:{})}n(_,h,p),_=_[h]}return e}},274757:e=>{e.exports=function(e,t){return e.has(t)}},257157:(e,t,o)=>{var n=o(274318);e.exports=function(e,t){var o=t?n(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var o=new e.constructor(e.source,t.exec(e));return o.lastIndex=e.lastIndex,o}},540419:(e,t,o)=>{var n=o(562705),i=n?n.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},318805:(e,t,o)=>{var n=o(698363),i=o(799551);e.exports=function(e,t){return n(e,i(e),t)}},201911:(e,t,o)=>{var n=o(698363),i=o(151442);e.exports=function(e,t){return n(e,i(e),t)}},967114:(e,t,o)=>{var n=o(288668),i=o(282908),s=o(274757);e.exports=function(e,t,o,r,l,a){var c=1&o,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var _=a.get(e),h=a.get(t);if(_&&h)return _==t&&h==e;var p=-1,m=!0,g=2&o?new n:void 0;for(a.set(e,t),a.set(t,e);++p<d;){var f=e[p],x=t[p];if(r)var b=c?r(x,f,p,t,e,a):r(f,x,p,e,t,a);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!s(g,t)&&(f===e||l(f,e,o,r,a)))return g.push(t)}))){m=!1;break}}else if(f!==x&&!l(f,x,o,r,a)){m=!1;break}}return a.delete(e),a.delete(t),m}},518351:(e,t,o)=>{var n=o(562705),i=o(611149),s=o(977813),r=o(967114),l=o(668776),a=o(321814),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,o,n,c,u,_){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=l;case"[object Set]":var p=1&n;if(h||(h=a),e.size!=t.size&&!p)return!1;var m=_.get(e);if(m)return m==t;n|=2,_.set(e,t);var g=r(h(e),h(t),n,c,u,_);return _.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,o)=>{var n=o(458234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,s,r,l){var a=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!a)return!1;for(var u=d;u--;){var _=c[u];if(!(a?_ in t:i.call(t,_)))return!1}var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var m=!0;l.set(e,t),l.set(t,e);for(var g=a;++u<d;){var f=e[_=c[u]],x=t[_];if(s)var b=a?s(x,f,_,t,e,l):s(f,x,_,e,t,l);if(!(void 0===b?f===x||r(f,x,o,s,l):b)){m=!1;break}g||(g="constructor"==_)}if(m&&!g){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(m=!1)}return l.delete(e),l.delete(t),m}},499021:(e,t,o)=>{var n=o(385564),i=o(545357),s=o(430061);e.exports=function(e){return s(i(e,void 0,n),e+"")}},458234:(e,t,o)=>{var n=o(868866),i=o(799551),s=o(3674);e.exports=function(e){return n(e,s,i)}},946904:(e,t,o)=>{var n=o(868866),i=o(151442),s=o(481704);e.exports=function(e){return n(e,s,i)}},799551:(e,t,o)=>{var n=o(234963),i=o(770479),s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,l=r?function(e){return null==e?[]:(e=Object(e),n(r(e),(function(t){return s.call(e,t)})))}:i;e.exports=l},151442:(e,t,o)=>{var n=o(862488),i=o(385924),s=o(799551),r=o(770479),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,s(e)),e=i(e);return t}:r;e.exports=l},900222:(e,t,o)=>{var n=o(671811),i=o(135694),s=o(701469),r=o(565776),l=o(541780),a=o(240327);e.exports=function(e,t,o){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var _=a(t[c]);if(!(u=null!=e&&o(e,_)))break;e=e[_]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&l(d)&&r(_,d)&&(s(e)||i(e))}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var o=e.length,n=new e.constructor(o);return o&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,o)=>{var n=o(274318),i=o(257157),s=o(593147),r=o(540419),l=o(477133);e.exports=function(e,t,o){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return i(e,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,o);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return s(e);case"[object Set]":return new a;case"[object Symbol]":return r(e)}}},137285:(e,t,o)=>{var n=o(562705),i=o(135694),s=o(701469),r=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(r&&e&&e[r])}},668776:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},150361:(e,t,o)=>{var n=o(285990);e.exports=function(e){return n(e,5)}},379095:(e,t,o)=>{var n=o(200013),i=o(900222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},618446:(e,t,o)=>{var n=o(690939);e.exports=function(e,t){return n(e,t)}},356688:(e,t,o)=>{var n=o(225588),i=o(307518),s=o(531167),r=s&&s.isMap,l=r?i(r):n;e.exports=l},472928:(e,t,o)=>{var n=o(829221),i=o(307518),s=o(531167),r=s&&s.isSet,l=r?i(r):n;e.exports=l},3674:(e,t,o)=>{var n=o(14636),i=o(400280),s=o(498612);e.exports=function(e){return s(e)?n(e):i(e)}},478718:(e,t,o)=>{var n=o(325970),i=o(499021)((function(e,t){return null==e?{}:n(e,t)}));e.exports=i},770479:e=>{e.exports=function(){return[]}},823493:(e,t,o)=>{var n=o(23279),i=o(513218);e.exports=function(e,t,o){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(o)&&(s="leading"in o?!!o.leading:s,r="trailing"in o?!!o.trailing:r),n(e,t,{leading:s,maxWait:t,trailing:r})}},418601:(e,t,o)=>{var n=o(14841),i=1/0;e.exports=function(e){return e?(e=n(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,o)=>{var n=o(418601);e.exports=function(e){var t=n(e),o=t%1;return t==t?o?t-o:t:0}},782677:(e,t,o)=>{function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function a(e,t,o){return Object.keys(e).reduce((function(t,n){var i=""+n;return t.has(i)?t.set(i,o(t.get(i),e[i])):t}),t)}o.d(t,{Fv:()=>P,cY:()=>C,fK:()=>v});var c=function(){function e(e,t,o){if(void 0===t&&(t={}),void 0===o&&(o={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=o,i=n.idAttribute,r=void 0===i?"id":i,a=n.mergeStrategy,c=void 0===a?function(e,t){return s({},e,t)}:a,d=n.processStrategy,u=void 0===d?function(e){return s({},e)}:d,_=n.fallbackStrategy,h=void 0===_?function(e,t){}:_;this._key=e,this._getId="function"==typeof r?r:function(e){return function(t){return l(t)?t.get(e):t[e]}}(r),this._idAttribute=r,this._mergeStrategy=c,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,o){var n,i=e[o];return s({},t,((n={})[o]=i,n))}),this.schema||{})},t.getId=function(e,t,o){return this._getId(e,t,o)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,o,n,i,s){var r=this,l=this.getId(e,t,o),a=this.key;if(a in s||(s[a]={}),l in s[a]||(s[a][l]=[]),s[a][l].some((function(t){return t===e})))return l;s[a][l].push(e);var c=this._processStrategy(e,t,o);return Object.keys(this.schema).forEach((function(t){if(c.hasOwnProperty(t)&&"object"==typeof c[t]){var o=r.schema[t],l="function"==typeof o?o(e):o;c[t]=n(c[t],c,t,l,i,s)}})),i(this,c,e,t,o),l},t.denormalize=function(e,t){var o=this;return l(e)?a(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var i=o.schema[n];e[n]=t(e[n],i)}})),e)},i(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,o){return!this.isSingleSchema&&this._schemaAttribute(e,t,o)},t.inferSchema=function(e,t,o){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,o);return this.schema[n]},t.normalizeValue=function(e,t,o,n,i,s){var r=this.inferSchema(e,t,o);if(!r)return e;var l=n(e,t,o,r,i,s);return this.isSingleSchema||null==l?l:{id:l,schema:this.getSchemaAttribute(e,t,o)}},t.denormalizeValue=function(e,t){var o=l(e)?e.get("schema"):e.schema;return this.isSingleSchema||o?t((this.isSingleSchema?void 0:l(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[o]):e},i(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,o){if(!o)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,o)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,s){return this.normalizeValue(e,t,o,n,i,s)},o.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),_=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,r){var l=this;return Object.keys(e).reduce((function(t,o,a){var c,d=e[o];return null!=d?s({},t,((c={})[o]=l.normalizeValue(d,e,o,n,i,r),c)):t}),{})},o.denormalize=function(e,t){var o=this;return Object.keys(e).reduce((function(n,i){var r,l=e[i];return s({},n,((r={})[i]=o.denormalizeValue(l,t),r))}),{})},t}(d),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},p=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},m=function(e,t,o,n,i,s,r){return e=h(e),p(t).map((function(t,l){return i(t,o,n,e,s,r)}))},g=function(e,t,o){return e=h(e),t&&t.map?t.map((function(t){return o(t,e)})):t},f=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,s){var r=this;return p(e).map((function(e,l){return r.normalizeValue(e,t,o,n,i,s)})).filter((function(e){return null!=e}))},o.denormalize=function(e,t){var o=this;return e&&e.map?e.map((function(e){return o.denormalizeValue(e,t)})):e},t}(d),x=function(e,t,o,n,i,r,l){var a=s({},t);return Object.keys(e).forEach((function(o){var n=e[o],s="function"==typeof n?n(t):n,c=i(t[o],t,o,s,r,l);null==c?delete a[o]:a[o]=c})),a},b=function(e,t,o){if(l(t))return a(e,t,o);var n=s({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=o(n[t],e[t]))})),n},y=function e(t,o,n,i,s,r){return"object"==typeof t&&t?"object"!=typeof i||i.normalize&&"function"==typeof i.normalize?i.normalize(t,o,n,e,s,r):(Array.isArray(i)?m:x)(i,t,o,n,e,s,r):t},v={Array:f,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,o){var n,i=e[o];return s({},t,((n={})[o]=i,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return x.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return b.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:_},P=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var o={},n=function(e){return function(t,o,n,i,s){var r=t.key,l=t.getId(n,i,s);r in e||(e[r]={});var a=e[r][l];e[r][l]=a?t.merge(a,o):o}}(o);return{entities:o,result:y(e,e,null,t,n,{})}},w=function(e){var t={},o=A(e);return function e(n,i){return"object"!=typeof i||i.denormalize&&"function"==typeof i.denormalize?null==n?n:i instanceof c?function(e,t,o,n,i){var r=n(e,t);if(void 0===r&&t instanceof c&&(r=t.fallback(e,t)),"object"!=typeof r||null===r)return r;if(i[t.key]||(i[t.key]={}),!i[t.key][e]){var a=l(r)?r:s({},r);i[t.key][e]=a,i[t.key][e]=t.denormalize(a,o)}return i[t.key][e]}(n,i,e,o,t):i.denormalize(n,e):(Array.isArray(i)?g:b)(i,n,e)}},A=function(e){var t=l(e);return function(o,n){var i=n.key;return"object"==typeof o?o:t?e.getIn([i,o.toString()]):e[i]&&e[i][o]}},C=function(e,t,o){if(void 0!==e)return w(o)(e,t)}},442279:(e,t)=>{function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],o=null,i=null;return function(){for(var n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];return null!==o&&o.length===s.length&&s.every((function(e,n){return t(e,o[n])}))||(i=e.apply(void 0,s)),o=s,i}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var o=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+o+"]")}return t}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var l=0,a=i.pop(),c=s(i),d=e.apply(void 0,[function(){return l++,a.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=c.map((function(o){return o.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,o(r))};return u.resultFunc=a,u.recomputations=function(){return l},u.resetRecomputations=function(){return l=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e);return t(o.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[o[n]]=t,e}),{})}))};var l=t.P1=r(i)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},17314:(e,t,o)=>{o.d(t,{Z:()=>c});var n,i,s=o(813653),r=o(861470),l=0,a=0;const c=function(e,t,o){var c=t&&o||0,d=t||new Array(16),u=(e=e||{}).node||n,_=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==_){var h=e.random||(e.rng||s.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:a+1,g=p-l+(m-a)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,a=m,i=_;var f=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var x=p/4294967296*1e4&268435455;d[c++]=x>>>8&255,d[c++]=255&x,d[c++]=x>>>24&15|16,d[c++]=x>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var b=0;b<6;++b)d[c+b]=u[b];return t||(0,r.Z)(d)}},808683:e=>{e.exports={ResponseCodeType:{OK:1,OK_WITH_ERROR:2,ERROR_GENERAL:3,ERROR_NOT_FOUND:4,ERROR_MISSING_FIELD:5,ERROR_LOGIC:6,ERROR_INTERNAL_RESOURCE:7,ERROR_EXTERNAL_RESOURCE:8,ERROR_BAD_FIELD:9},FeedProfileValidationResultCode:{PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},ErrorCode:{DATABASE_SERVER_ERROR:1,INVALID_REQUEST_ERROR:2,ACCESS_DENIED_ERROR:3,MERCHANT_PROFILE_ERROR:100,MERCHANT_EXTERNAL_ID_EXISTED:101,FEED_PROFILE_ERROR:200,PAYMENT_RECEIVER_PROFILE_ERROR:300,OMS_PROFILE_ERROR:400,PRODUCT_GROUP_NAME_ALREADY_EXISTS_ERROR:500,PRODUCT_GROUP_FILTERS_ALREADY_EXISTS_ERROR:501,PRODUCT_GROUP_SOURCE_ID_ALREADY_EXISTS_ERROR:502},MerchantActionType:{CREATE_MERCHANT:1,UPDATE_MERCHANT_COMMON_PROFILE:2,UPDATE_MERCHANT_FEED_PROFILE:3,DELETE_MERCHANT_FEED_PROFILE:4,UPDATE_MERCHANT_OMS_PROFILE:5,DELETE_MERCHANT_OMS_PROFILE:6,UPDATE_MERCHANT_PAYMENT_RECEIVER_PROFILE:7,DELETE_MERCHANT_PAYMENT_RECEIVER_PROFILE:8,UPDATE_MERCHANT_APPROVAL_STATUS:9,ACTIVATE_MERCHANT:10,DEACTIVATE_MERCHANT:11,UPDATE_PRODUCT_PIN_MERCHANT_APPROVAL_STATUS:21,ACTIVATE_PRODUCT_PIN_MERCHANT:22,DEACTIVATE_PRODUCT_PIN_MERCHANT:23,ADD_NOTES:12,DELETE_MERCHANT:13,DISABLE_FEED_PROFILE:14,ENABLE_FEED_PROFILE:15,CREATE_PRODUCT_GROUP:16,EDIT_PRODUCT_GROOUP:17,DISABLE_PRODUCT_GROUP:18,ENABLE_PRODUCT_GROUP:19,DELETE_PRODUCT_GROUP:20,CONNECT_SHOPIFY_MERCHANT:24,DISCONNECT_SHOPIFY_MERCHANT:25},WorkflowStatType:{PRE_INGESTION_VALIDATION_PASSED:1,PRE_INGESTION_FETCH_SAME_SIGNATURE:2,PRE_INGESTION_FETCH_INACTIVE_FEED:3,ORIGINAL_PRODUCT_COUNT:4,INGESTION_PASSED:5,INDEXING_PASSED:6,PRE_INGESTION_VALIDATION_FETCH_ERROR:100,PRE_INGESTION_VALIDATION_ENCODING_ERROR:101,PRE_INGESTION_VALIDATION_DELIMITER_ERROR:102,PRE_INGESTION_VALIDATION_REQUIRED_COLUMNS_MISSING:103,PRE_INGESTION_VALIDATION_IMAGE_LINK_INVALID:104,PRE_INGESTION_VALIDATION_ITEMID_MISSING:105,PRE_INGESTION_VALIDATION_TITLE_MISSING:106,PRE_INGESTION_VALIDATION_DESCRIPTION_MISSING:107,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_MISSING:108,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_INVALID:109,PRE_INGESTION_VALIDATION_PRODUCT_LINK_MISSING:110,PRE_INGESTION_VALIDATION_IMAGE_LINK_MISSING:111,PRE_INGESTION_VALIDATION_AVAILABILITY_INVALID:112,PRE_INGESTION_VALIDATION_PRODUCT_PRICE_INVALID:113,PRE_INGESTION_VALIDATION_TITLE_LENGTH_TOO_LONG:114,PRE_INGESTION_VALIDATION_DESCRIPTION_LENGTH_TOO_LONG:115,PRE_INGESTION_VALIDATION_CONDITION_INVALID:116,PRE_INGESTION_VALIDATION_GENDER_INVALID:117,PRE_INGESTION_VALIDATION_AGE_GROUP_INVALID:118,PRE_INGESTION_VALIDATION_SIZE_TYPE_INVALID:119,PRE_INGESTION_VALIDATION_PARSE_LINE_ERROR:120,PRE_INGESTION_VALIDATION_LINK_FORMAT_WARNING:121,PRE_INGESTION_VALIDATION_LINK_FORMAT_ERROR:122,PRE_INGESTION_VALIDATION_DUPLICATE_PRODUCTS:123,PRE_INGESTION_VALIDATION_DUPLICATE_LINKS:124,PRE_INGESTION_VALIDATION_SALES_PRICE_INVALID:125,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_DEPTH_WARNING:126,PRE_INGESTION_VALIDATION_ADWORDS_SAME_AS_LINK:127,PRE_INGESTION_VALIDATION_INTERNAL_SERVICE_ERROR:128,PRE_INGESTION_VALIDATION_DUPLICATE_HEADERS:129,PRE_INGESTION_VALIDATION_TAX_INVALID:130,PRE_INGESTION_VALIDATION_SHIPPING_INVALID:131,PRE_INGESTION_VALIDATION_SHIPPING_WEIGHT_INVALID:132,PRE_INGESTION_VALIDATION_MULTIPACK_INVALID:133,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_WARNING:134,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_ERROR:135,PRE_INGESTION_IMAGE_LINK_WARNING:136,PRE_INGESTION_ADDITIONAL_IMAGE_LINK_WARNING:137,PRE_INGESTION_FEED_LENGTH:138,PRE_INGESTION_VALIDATION_INVALID_DOMAIN:139,PRE_INGESTION_NO_VERIFIED_DOMAIN:140,PRE_INGESTION_VALIDATION_ADULT_INVALID:141,PRE_INGESTION_LINK_LENGTH_TOO_LONG:142,PRE_INGESTION_MALFORMED_XML:143,PRE_INGESTION_INVALID_EXPIRATION_DATE:144,PRE_INGESTION_INVALID_AVAILABILITY_DATE:145,PRE_INGESTION_INVALID_SALE_DATE:146,PRE_INGESTION_INVALID_WEIGHT_UNIT:147,PRE_INGESTION_INVALID_IS_BUNDLE:148,PRE_INGESTION_INVALID_UPDATED_TIME:149,PRE_INGESTION_INVALID_REDIRECT:150,PRE_INGESTION_PRICE_MISSING:151,PRE_INGESTION_FEED_TOO_SMALL:152,PRE_INGESTION_CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRE_INGESTION_PRODUCT_TYPE_LENGTH_TOO_LONG:154,PRE_INGESTION_TOO_MANY_ADDITIONAL_IMAGE_LINK:155,PRE_INGESTION_SHOPIFY_NO_PRODUCTS:156,PRE_INGESTION_VALIDATION_INVALID_IOS_DEEP_LINK:161,PRE_INGESTION_VALIDATION_INVALID_ANDROID_DEEP_LINK:162,POST_INGESTION_IMAGE_DOWNLOAD_SUCCESS:1e3,POST_INGESTION_IMAGE_DOWNLOAD_ERROR:1001,POST_INGESTION_PIN_CREATON_SUCCESS:1002,POST_INGESTION_PIN_CREATION_ERROR:1003,INVALID_ITEM_FORMAT:1004,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,IMAGE_DOWNLOAD_POLICY_VIOLATION:1009,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_NOT_FOUND:1010,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_FORBIDDEN_ACCESS:1011,PRE_INGESTION_VALIDATION_MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA:1013,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA_FAILURE:1014},OverallWorkflowStatus:{COMPLETED:0,FAILED:1,PROCESSING:2,COMPLETED_EARLY:3,UNDER_REVIEW:4,DISAPPROVED:5,QUEUED_FOR_PROCESSING:6,UNDER_APPEAL:7},UrsaTaskType:{SHOPIFY_START_BULK_OPS_TASK:1,SHOPIFY_POLL_BULK_OPS_TASK:2,SHOPIFY_START_BULK_OPS_STAGING_TASK:3,SHOPIFY_POLL_BULK_OPS_STAGING_TASK:4,SHOPIFY_START_BULK_OPS_DEV_TASK:5,SHOPIFY_POLL_BULK_OPS_DEV_TASK:6},CatalogProductGroupFeatureableStatusCode:{FEATUREABLE:1,UNFEATURABLE_NOT_ENOUGH_PINS:2,UNFEATURABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATURABLE_EXCEEDED_PINS_LIMIT:4},CatalogProductGroupFilterKey:{ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26},CatalogProductGroupHierarchyType:{GOOGLE_PRODUCT_CATEGORY:1,PRODUCT_TYPE:2},CatalogProductGroupType:{MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6,SHOPIFY_COLLECTIONS:7,I2PC:8},CatalogProductGroupFilterLogicalOperator:{AND:0,OR:1},CatalogProductGroupStatus:{ACTIVE:0,INACTIVE:1,SUGGESTED:2},MerchantMetadataField:{ALL:0,FEED_INGESTED_AT_LEAST_ONCE:1,LAST_SUCCESSFUL_INGESTION:2,PREFERENCE_MAP:3,DOMAIN_WHITELIST:4,LAST_LOW_AVAILABILITY_EMAIL_SENT_TIME_DEPRECATED:5},MerchantMetadataPreferenceKey:{DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12},MerchantActionUpdatedDataType:{FEED_PROFILE_STATUS:1,MERCHANT_APPROVAL_STATUS:2,PRODUCT_GROUP_ENTITY:3,PRODUCT_GROUP_STATUS:4},CampaignImportingJobRecordType:{FILE_PARSING:1,CONTENT_VALIDATION:2,CAMPAIGN_CREATION:11,AD_GROUP_CREATION:21},CampaignImportingJobStatus:{STARTED:1,SUCCEEDED:2,FAILED:3,OTHER:10},ShopifyBulkOpStatusCode:{NOT_STARTED:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,PAUSED:4,SUPPRESSED:5,DELETED:7,INTERNAL_ERROR:9,OTHER:10,SLOW_RETRY:11},ShopifyBulkOpErrorCode:{NONE:0,FAILED_TO_GET_ACCESS_TOKEN:1001,FAILED_TO_UPDATE_BULK_OP_STATUS:1002,FAILED_TO_GET_BULK_URL:1003,FAILED_TO_INSPECT_INGESTION_STATUS:1101,FAILED_TO_SCHEDULE_INGESTION:1102,FAILED_TO_TRIGGER_INGESTION:1103,FAILED_TO_PROCESS_POLL_RESULT_OVERALL:1201,FAILED_TO_START_BULK_OP:1301,FAILED_TO_POLL_BULK_OP_STATUS:1302},GetBatchedShopifyBulkOpStatusOrderBy:{LAST_SUCCESSFUL_BULK_OP_TIME:1,LAST_BULK_CALL_TIME:2,LAST_POLL_CALL_TIME:3}}},559637:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]"]=function(){return o(337234).Z}},205418:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_created"]=function(){return o(337234).Z}},679875:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_followers"]=function(){return o(337234).Z}},992127:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_following"]=function(){return o(337234).Z}},52193:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_saved"]=function(){return o(337234).Z}},38101:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_shop"]=function(){return o(337234).Z}},907254:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/story_pins"]=function(){return o(337234).Z}},331137:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/topics"]=function(){return o(337234).Z}},832753:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/tried"]=function(){return o(337234).Z}},333905:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/video_pins"]=function(){return o(337234).Z}},978674:(e,t,o)=>{o.d(t,{Z:()=>n});const n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},268536:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(978674),i=o(124580),s=o(172071),r=o(115535),l=o(402039),a=o(638525),c=o(12610),d=o(305689);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=(0,d.ZP)();let h=null;class p{static getInstance(){return h||(h=new p),h}constructor(){u(this,"_logTimeoutLong",null),u(this,"_logTimeoutShort",null),u(this,"_moduleViewElements",{}),u(this,"_scrollListeners",{}),u(this,"_clickthroughStartEvent",null),u(this,"_utcDate",new Date);const e=(e,t)=>{const{activeElement:o}=document;o&&o.id===n.Z.VIDEO_IFRAME_ID&&o?setTimeout((()=>o.blur()),0):(i.Z.pause(c.LU),this.flushEvents(e,void 0))},t=(e=>{let t=!1;return(...o)=>{t||(t=!0,e(...o))}})((t=>e(!0)));window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),window.addEventListener("focus",(()=>{i.Z.resume(c.LU)})),window.addEventListener("blur",(t=>e(!1)))}_handleDatelineCrossover(){const e=new Date;this._utcDate.getUTCDate()!==e.getUTCDate()&&(this._utcDate=e,(0,r.Z)())}setTimeoutToFlushEvents(e){const t=e.event_type;if(p.EVENTS_FAST_FLUSH.includes(e.view_type)&&!this._logTimeoutShort&&13===t)this._logTimeoutShort=l.Z.setTimeout(this.flushEvents.bind(this,!1,!0),p.FLUSH_INTERVAL_SHORT);else if(!this._logTimeoutLong){const e=p.FLUSH_INTERVAL_LONG;this._logTimeoutLong=l.Z.setTimeout(this.flushEvents.bind(this),e)}}addEvent(e){const t=e.event_type;if(null==t)return;if(!(0,d.cA)(e))return;this.setTimeoutToFlushEvents(e);const o=(0,d.li)(e),n=d.Ch[t];n?(0,d.nc)(o,n).forEach(_.logImpression):(s.Z.increment("webapp.contextLogger.impressionType",.01,{event_type:t}),_.logContextEvent(o),this._handleDatelineCrossover(),12===t&&(_.logContextEvent({...o,event_type:7946}),this._clickthroughStartEvent={...o,time:1e6*Date.now()},a.Z.storeClickthroughProperties({view_type:o.view_type,view_parameter:o.view_parameter,component:o.component,element:o.element,object_id_str:o.object_id_str,view_data:o.view_data,aux_data:o.aux_data,clientTrackingParams:o.clientTrackingParams})))}flushEvents(e,t){var o;const n=null===(o=_.getContextEvents)||void 0===o?void 0:o.call(_);n&&!n.length||(this._handleDatelineCrossover(),_.flushContextEvents(e),t?this._resetShortTimerEvents():this._reset())}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){var e;null===(e=_.resetEventsBuffer)||void 0===e||e.call(_),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=null}_resetLongTimerEvents(){var e;null===(e=_.resetEventsBuffer)||void 0===e||e.call(_),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=null}logPlainObject(e){"event_type"in e&&this.addEvent({...e,..."aux_data"in e?{aux_data:{...e.aux_data}}:null})}}u(p,"FLUSH_INTERVAL_LONG",1e4),u(p,"FLUSH_INTERVAL_SHORT",300),u(p,"EVENTS_FAST_FLUSH",[9,3]),window.addEventListener&&window.addEventListener("focus",(()=>{const e=p.getInstance();if(e._clickthroughStartEvent){const t=e._clickthroughStartEvent;e._clickthroughStartEvent=null;const o={...t,event_type:4100,duration_ns:(0,d.h1)()-t.time};e.addEvent(o)}}));const m=p},619983:(e,t,o)=>{o.d(t,{e:()=>r,v:()=>l});var n=o(441143),i=o.n(n);class s{constructor(e,t){i()(e,"You must pass a requestContext to check an Experiment"),i()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class r extends s{getGroup(e=!1){return this._getGroup(e)}}class l extends s{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},412168:(e,t,o)=>{function n(e){let t=!1;return{promise:new Promise(((o,n)=>{e.then((e=>t?n({isCanceled:!0}):o(e)),(e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}o.d(t,{Z:()=>n})},638525:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(268536),i=o(768559),s=o(704115),r=o(927955),l=o(433780);const a={},c=(0,s.Z)()&&(0,s.Z)().debug_timespent,d=(0,l.Z)({flushEvents:e=>{n.Z.getInstance().flushEvents(e,void 0)},shouldShowLogStatements:c,track:(e,t)=>{const o=n.Z.getInstance(),s=r.Z.instance.getState();let l;if(s.pins&&e){const{pair_id:o,event_type:n}=e;if(4703===n&&o&&a[o])e.clientTrackingParams=a[o];else{var c;const r=e.object_id_str,d=r?s.pins[r]:null,u=null==t||null===(c=t.current)||void 0===c?void 0:c.location,_=null==t?void 0:t.previous;d&&u&&(l=(0,i.Z)(d,u,_)||`${d.tracking_params||""}~0`,e.clientTrackingParams=l,4702===n&&o&&(a[o]=l))}}o.addEvent(e)}})},73803:(e,t,o)=>{o.d(t,{Z:()=>d,w:()=>u});var n=o(349700);const i=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),s=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),r=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),a=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)');function d(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'))(t),o)}}function u(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);case 7:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'))(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'))(t),o)}}},343375:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=(o(957191),o(764990)),s=o(123159);o(332611);function r(e){const{mountedPlacements:t,completeExperience:o,dismissExperience:r,experiences:l,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_}=(0,s.M)(),h=e?(0,i.MQ)(l,t,e):null;return(0,n.useMemo)((()=>({completeExperience:o,dismissExperience:r,experienceForPlacement:h,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_})),[o,r,h,a,c,d,u,_])}},220465:(e,t,o)=>{o.d(t,{ZP:()=>p});var n=o(667294),i=o(966338),s=o(618446),r=o.n(s),l=o(764990),a=o(123159),c=o(332611),d=o(780280),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},o)=>s=>{const p=function(e){return t=>({experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);o={...h,...o};const m=function(e,t,o=!0,s=!0,h=!1,p){class m extends n.Component{constructor(e){super(e),_(this,"state",{extraContext:void 0}),_(this,"setExtraContextState",(e=>{r()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(o,n){const{dispatch:i,experience:s,requestContext:l}=this.props;let a=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(a=t(o,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!r()(a,d)&&i((0,c.pz)([e],l.isBot,d)),!s||o.experience&&s.id===o.experience.id||i((0,c.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){const o="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},n=h&&null!=o&&o.advertiser_id?{advertiserId:o.advertiser_id}:void 0;this.props.mountPlacement(e,o,n)}render(){const{experience:e,experiencesMulti:t}=this.props,o={[h?"advertiserExperience":"experience"]:(0,l.E3)(e)?e:null};return(0,u.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...o,experiencesMulti:t})}}function g(e){const t=(0,d.B)(),o=(0,i.useDispatch)(),{mountPlacement:n,unmountPlacement:s}=(0,a.M)();return(0,u.jsx)(m,{...e,dispatch:o,mountPlacement:n,requestContext:t,unmountPlacement:s})}return g.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,g}(e,t,o.shouldUsePlacedExperience,o.dispatchMountActionDuringSSR,o.isAdvertiserPlacement,s);return(0,i.connect)(p)(m)}},492990:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(412168);function s(){const e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(o,n){if(n){const e=t.current[n];e&&(e(),delete t.current[n])}const{cancel:s,promise:r}=(0,i.Z)(o);return n?t.current[n]=s:e.current.push(s),r}}},604052:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(784590),i=o(780280),s=o(826067);var r=o(925927);function l({checkExperiments:e,disableFetch:t,viewer:o}){const n=(0,r.TH)(),l=(0,r.$B)(),a=(0,i.B)(),c=function({location:{pathname:e,search:t},match:{params:o,path:n},viewer:i}){return{routeData:{matchPath:n,params:o,parsedSearch:(0,s.mB)(t),pathname:e,search:t},user:{country:i.country||void 0,id:i.id||void 0,isAuth:i.isAuth,isEmployee:!!i.isEmployee||!1,isPartner:!!i.isPartner||!1,username:i.username||void 0}}}({location:n,match:l,viewer:o}),d=!!t&&t(c),u=!(!d&&e)||e(a.experiments);return{args:c,fetchDisabled:d||!u}}var a=o(19121);function c({getOptions:e,checkExperiments:t,disableFetch:o,...i}){const s=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}(),{args:r,fetchDisabled:c}=l({checkExperiments:t,disableFetch:o,viewer:s}),d=e?e(r):void 0;return(0,n.Z)({dangerouslyDisableFetch:c,options:d,...i})}},179213:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(60598),i=(o(283040),o(761627)),s=o(708206);const r=e=>t=>(0,s.compose)(i.Z,(0,n.GR)(e,{},((e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}))))(t)},402039:(e,t,o)=>{let n;o.d(t,{Z:()=>s}),void 0===n&&(n=o.g);const i=function(e,t){const o=(i=t)===n.setTimeout?function(e,t){return n.setTimeout(e,t)}:i===n.setInterval?function(e,t){return n.setInterval(e,t)}:i===n.clearTimeout?function(e){return n.clearTimeout(e)}:i===n.clearInterval?function(e){return n.clearInterval(e)}:i;var i;return function(e,t,n,...i){return o(e,t,n,...i)}},s={setTimeout:i(0,n.setTimeout),setInterval:i(0,n.setInterval),clearTimeout:i(0,n.clearTimeout),clearInterval:i(0,n.clearInterval)}},105265:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({user:e,size:t="md",hasOutline:o}){const{first_name:r,image_medium_url:l,username:a}=e;return(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${a}/`,children:(0,s.jsx)(n.Z,{size:t,src:null!=l?l:"",name:r||a||"",outline:o})})}},608360:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(674839),s=o(333312),r=o(223815),l=o(941646),a=o(898781),c=o(372063),d=o(883119),u=o(785893);const _=({action:e,label:t,testId:o})=>(0,u.jsx)(l.Z,{id:`flyout-item-${o}`,children:(0,u.jsx)(d.iP,{onTap:e,children:(0,u.jsx)(i.Z,{text:t})})}),h=({handleBlockUser:e,handleClickReport:t,handleDelete:o,handleOnEdit:i,handleRemoveMention:h,handleHighlight:p,handleRemoveHighlight:m,showHighlightEducator:g,iconColor:f,small:x})=>{const b=(0,a.ZP)(),[y,v]=(0,n.useState)(!1),P=(0,n.useRef)(),w=e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),v(!y)};return e||t||o||i||h||p?(0,u.jsx)(d.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.xu,{ref:P,children:(0,u.jsx)(l.Z,{id:"flyout-toggle",children:(0,u.jsx)(d.hU,{accessibilityExpanded:y,accessibilityHaspopup:!0,accessibilityLabel:b._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:f||void 0,onClick:w,size:x?"sm":"md"})})}),g&&(0,u.jsx)(d.mh,{zIndex:c.lI,children:(0,u.jsx)(r.Z,{children:(0,u.jsx)(s.Z,{anchor:P.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),y&&(0,u.jsx)(d.mh,{children:(0,u.jsx)(r.Z,{children:(0,u.jsx)(l.Z,{id:"flyout",children:(0,u.jsx)(d.J2,{anchor:P.current,idealDirection:"down",onDismiss:w,positionRelativeToAnchor:!1,size:"sm",children:(0,u.jsxs)(d.xu,{width:"100%",children:[p&&(0,u.jsx)(_,{action:()=>{p(),w()},label:b._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),testId:"highlight"}),m&&(0,u.jsx)(_,{action:()=>{m(),w()},label:b._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),testId:"removeHighlight"}),i&&(0,u.jsx)(_,{action:i,label:b._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),testId:"edit"}),o&&(0,u.jsx)(_,{action:o,label:b._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),testId:"delete"}),t&&(0,u.jsx)(_,{action:t,label:b._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),testId:"report"}),h&&(0,u.jsx)(_,{action:()=>{h(),w()},label:b._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),testId:"removeMention"}),e&&(0,u.jsx)(_,{action:e,label:b._('Block user', 'closeup.activityItem.blockUser', 'Block comment author'),testId:"blockUser"})]})})})})})]})}):null};h.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const p=h},123630:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(182750),s=o(883119),r=o(785893);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.PureComponent{constructor(...e){super(...e),l(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:o,size:n}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(o,"1");let i=0,l=[];return e.forEach(((e,t)=>{const n=o.substring(i,e.offset);i=e.offset+e.length;const s=o.substring(e.offset,i);l=l.concat(this.renderRegularText(n,`${t}a`)).concat(this.renderTaggedText(s,t,`${t}b`))})),l=l.concat(this.renderRegularText(o.substring(i),"2")),(0,r.jsx)(s.xv,{inline:!0,size:n,overflow:"normal",children:l})})),l(this,"renderRegularText",((e,t)=>(0,r.jsx)(s.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,r.jsx)(i.Z,{children:e}):e},t))),l(this,"renderTaggedText",((e,t,o)=>(0,r.jsx)(s.xv,{color:"shopping",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,r.jsx)(s.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,underline:"hover",children:e})},o)))}render(){return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}l(a,"defaultProps",{allowLink:!0,size:"md"})},199939:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(123630),s=o(322741),r=o(986644),l=o(883119),a=o(898781),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||r.lr)+this.revealText.length}),d(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._('... More', 'click to see more of a long post', 'click to see more of a long post'):this.props.i18n._('... See more', 'click to see more of a long post', 'click to see more of a long post')}render(){const{allowLink:e,allowReveal:t,maxCharLength:o,size:a,tags:d,taggedUsers:u,text:_}=this.props,{truncate:h}=this.state,p=h?_.substring(0,o||r.lr).trim():_;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.Z,{allowLink:e,size:a,taggedUsers:u,tags:d,text:p}),h&&!t&&(0,c.jsx)(l.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),h&&t&&(0,c.jsx)(s.Z,{color:"default",handleClick:this.showFullText,text:this.revealText,size:a})]})}}d(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""});const _=function(e){const t=(0,a.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},322741:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({color:e="subtle",handleClick:t,size:o="sm",text:s}){return(0,i.jsx)(n.xu,{display:"inlineBlock",children:(0,i.jsx)(n.iP,{onTap:t,rounding:"pill",children:(0,i.jsx)(n.xv,{color:e,size:o,weight:"bold",children:s})})})}},182750:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(954931),s=o(968337),r=o.n(s),l=o(89254),a=o(610248),c=o(883119),d=o(785893);const u=new(r());u.tlds(a),u.add("#",{validate(e,t,o){const n=e.slice(t);return o.re.hashtag||(o.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+o.re.src_ZPCc+")")),o.re.hashtag.test(n)?!(t>=2&&"#"===n[t-2])&&n.match(o.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const _=({decoratedHref:e,decoratedText:t,index:o,isTrusted:n})=>(0,d.jsx)(c.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:n?null:"blank",children:t},o);class h extends n.PureComponent{parseString(e){if(""===e)return e;const t=(o=e,u.match(o));var o;if(!t)return e;const n=[];let s=0;return t.forEach(((t,o)=>{t.index>s&&n.push(e.substring(s,t.index));let r=t.url;const a=(0,i.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(a){const e=(0,l.Z)(t.url);r=r.replace(e.origin,"")}const c=t.text,u=(0,d.jsx)(_,{decoratedHref:r,decoratedText:c,index:o,isTrusted:a});n.push(u),s=t.lastIndex})),e.length>s&&n.push(e.substring(s)),1===n.length?n[0]:n}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,n.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,n.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,d.jsx)("span",{children:this.parse(this.props.children)})}}},986644:(e,t,o)=>{o.d(t,{A7:()=>i,YD:()=>s,lr:()=>n});const n=170,i=(e,t,o)=>{const n=new Date(e),i=(new Date).getTime()-n.getTime();return Math.floor(i/1e3)<60?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):o(e,!0)},s=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},100315:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(694379),i=o(898781),s=o(349700),r=o(883119),l=o(785893);function a({pinCount:e,placesCount:t,sectionCount:o}){const a=(0,i.ZP)(),c=!!t&&0!==e||!t;return(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,l.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} place', '{{ count }} places', t, 'label for n amount of places', 'label for n amount of places'),{count:(0,l.jsx)(n.Z,{value:t},"places-count")})})}):null,o?(0,l.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} section', '{{ count }} sections', o, 'label for n amount of sections', 'label for n amount of sections'),{count:(0,l.jsx)(n.Z,{value:o},"section_count")})})}):null,c&&(0,l.jsx)(r.xu,{overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'label for n amount of pins', 'label for n amount of pins'),{count:(0,l.jsx)(n.Z,{value:e},"pin_count")})})})]})}},426151:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(966338),s=o(121151),r=o(898781),l=o(349700),a=o(780280),c=o(883119),d=o(785893);function u({boardName:e,collaboratorName:t,onCancelTransferRequest:o,onDismiss:n}){const i=(0,r.ZP)(),u=(0,a.B)();return(0,d.jsx)(s.ZP,{accessibilityModalLabel:i._('Board ownership transfer modal', 'boardCollabOwnershipTransferModal.accessibilityModalLabel', 'Accessibility label on board ownership transfer modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.X6,{align:"center",size:"500",children:i._('Collaborators', 'boardCollabOwnershipTransferModal.heading', 'Heading for board ownership transfer modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:u.isRTL,right:!u.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:i._('Close', 'boardCollabOwnershipTransferModal.iconAccessibilityLabel', 'Accessibility label on cancel icon button'),icon:"cancel",iconColor:"darkGray",onClick:n})})]}),footer:(0,d.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(c.iP,{fullWidth:!1,onTap:o,children:(0,d.jsx)(c.xv,{weight:"bold",children:i._('Cancel request', 'boardCollabOwnershipTransferModal.cancelRequest', 'Option to cancel board ownership transfer request')})}),(0,d.jsx)(c.zx,{color:"red",onClick:n,size:"lg",text:i._('Got it', 'boardCollabOwnershipTransferModal.confirmationButton', 'Button confirming board ownership transfer action')})]}),onDismiss:n,children:(0,d.jsx)(c.xu,{paddingX:8,children:(0,d.jsx)(c.xv,{align:"center",children:(0,l.nk)(i._('We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins\u2014but you won\u2019t be able to manage collaborators, change the name, cover photo, or description of this board.', 'boardCollabOwnershipTransferModal.descriptionText', 'Explanation of transfer request and potential permissions changes'),{collaboratorName:t,boardName:(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:e})})})})})}var _=o(88301),h=o(412456);function p({boardId:e,collaboratorId:t,collaboratorName:o,isAcceptedCollaborator:s,onDelete:l}){const a=(0,i.useDispatch)(),p=(0,r.ZP)(),m=(0,n.useRef)(null),[g,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),{boardName:y,pendingOwnershipTransfer:v}=(0,_.Z)(),P=()=>{a((0,h.xx)(e,t)),f(!1)},w=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:o,onDelete:n,onRequestTransfer:i,showCancelRequestOption:s,showRequestTransferOption:r}){const l=[{onSelect:n,option:{value:"Remove from board",label:e._('Remove from board', 'getCollaboratorDropdownItems.removeText', 'Text for option to remove collaborator from board')}}];return t&&(s&&l.push({onSelect:o,option:{value:"Cancel request",label:e._('Cancel request', 'getCollaboratorDropdownItems.cancelText', 'Text for option to cancel ownership transfer request')}}),r&&l.push({onSelect:i,option:{value:"Request as board owner",label:e._('Request as board owner', 'getCollaboratorDropdownItems.requestText', 'Text for option to request ownership transfer')}})),l}({i18n:p,isAcceptedCollaborator:s,onCancelTransferRequest:P,onDelete:l,onRequestTransfer:()=>{(async()=>{f(!1),await a((0,h.Cf)(e,t)),b(!0)})()},showCancelRequestOption:v===t,showRequestTransferOption:!v});return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsxs)(c.kC,{justifyContent:"center",children:[(0,d.jsx)(c.hU,{accessibilityLabel:p._('Collaborator options', 'boardCollabInviteOverflowButton.accessibilityLabel', 'Accessibility label for overflow icon button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>f(!g),ref:m,selected:g}),g&&(0,d.jsx)(c.Lt,{anchor:m.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>f(!1),zIndex:new c.Ry(1e3),children:(0,d.jsx)(c.Lt.Section,{label:p._('Options', 'boardCollabInviteOverflowButton.dropdownSection', 'Options section in dropdown menu'),children:w.map((e=>(0,d.jsx)(c.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)))})})]}),x&&(0,d.jsx)(u,{boardName:y,collaboratorName:o,onCancelTransferRequest:()=>{P(),b(!1)},onDismiss:()=>{b(!1)}})]})}var m=o(355600),g=o(985913),f=o(19121),x=o(217468);function b({actionsDisabled:e,invite:t,invitedUser:o,isDim:n,onApprove:i,onDelete:s}){const l=(0,r.ZP)(),a=(0,f.Z)(),{access:u,board:h,status:b,invited_by_user:y}=t,{pendingOwnershipTransfer:v,viewerIsOwner:P}=(0,_.Z)(),w=a.isAuth&&o.id===a.id,A=a.isAuth&&y.id===a.id,C=o.id===y.id,E="accepted"===b,j=u.includes("approve"),T=u.includes("delete"),I=l._('Approve', '[button] approve another pinner\'s request to join the board as a collaborator', '[button] approve another pinner\'s request to join the board as a collaborator'),S=((e,t,o)=>e?l._('Leave', '[button] for a collaborator to leave a group board', '[button] for a collaborator to leave a group board'):t&&!o?l._('Decline', '[button] decline another pinner\'s request to join board as a collaborator', '[button] decline another pinner\'s request to join board as a collaborator'):l._('Remove', '[button] remove a collaborator from the board]', '[button] remove a collaborator from the board]'))(w,C,E),z=T&&!j,k=T&&j,D=`/${o.username}/`,R=(0,x.tc)("web_board_ownership_transfer"),O=P&&R().anyEnabled,L=O?(0,d.jsx)(p,{boardId:h.id,collaboratorId:o.id,collaboratorName:o.full_name,onDelete:s||(()=>{}),isAcceptedCollaborator:E}):(0,d.jsx)(c.zx,{disabled:e,onClick:s,text:S,size:"lg"}),F=v===o.id,M=O&&(void 0!==n?n:!E);return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(m.Z,{imageUrl:o.image_medium_url||"",name:o.full_name,title:o.full_name,subtitle:((e,o,n,i,s)=>{const r=t.invited_by_user.full_name;let a;return a=o?l._('Invitation pending', 'boardCollabInviteCell.pendingInvitationText', 'Subtext for collaborator with pending invitation'):n?l._('That\'s you', 'subtext for current user who requested to join this board', 'subtext for current user who requested to join this board'):i?l._('Invited by you', 'subtext for a pending collaborator who was invited by the current viewer', 'subtext for a pending collaborator who was invited by the current viewer'):s?l._('Requested to join', 'The subtext that identifies a pending collaborator has personally requested to join the board', 'The subtext that identifies a pending collaborator has personally requested to join the board'):(0,g.Z)(l._('Invited by {{ user_full_name }}', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board'),{user_full_name:r}),e&&(a=a.concat(l._(' \xB7 Ownership pending', 'boardCollabInviteCell.pendingOwnershipText', 'Additional subtext for collaborator who has a pending board ownership transfer invitation'))),a})(F,M,w,A,C),linkURL:D,isDim:!O&&(void 0!==n?n:!E),accessory:z&&L}),k&&(0,d.jsxs)(c.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,disabled:e,onClick:s,text:S,size:"lg"})}),(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:I,size:"lg"})})]})]})}var y=o(499128),v=o(934523);function P(e){const t=(0,r.ZP)(),{onCancel:o,onRemove:n,useGestaltModal:i}=e,l=t._('Are you sure you want to leave this group board and remove it from your profile?', ' - ', ' -- '),a=i?c.u_:s.ZP;return(0,d.jsx)(a,{accessibilityModalLabel:t._('Leave board?', ' - ', ' -- '),heading:t._('Leave board?', ' - ', ' -- '),onDismiss:o,size:"sm",footer:(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:o,text:t._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:n,text:t._('Leave', ' - ', ' -- ')})})]}),children:(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:l})})})}class w extends n.Component{constructor(...e){var t,o,n;super(...e),n={shouldBlock:!1},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}getBlockDescription(e,t){return"declineRequest"===e?t?(0,l.nk)(this.props.i18n._('This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.', 'decline another pinner\'s request to join board as a collaborator and block them', 'decline another pinner\'s request to join board as a collaborator and block them'),{invited_user_first_name:t}):this.props.i18n._('This will decline this person from joining this board and block them from subsequent collaboration requests.', 'message that explains consequences of declining a request to join board as a collaborator', 'message that explains consequences of declining a request to join board as a collaborator'):t?(0,l.nk)(this.props.i18n._('This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.', ' - ', ' -- '),{invited_user_first_name:t}):this.props.i18n._('This will remove this person, people they invited, and all their Pins.', 'message that explains consequences of removing a collaborator', 'message that explains consequences of removing a collaborator')}render(){const{removeType:e,firstName:t,fullName:o,onCancel:i,onRemove:r,onRemoveAndBlock:a,useGestaltModal:u}=this.props,_="declineRequest"===e?(0,l.nk)(this.props.i18n._('Decline {{ invited_user_name }}?', '[button] to decline a pinner\'s request to join a board as a collaborator', '[button] to decline a pinner\'s request to join a board as a collaborator'),{invited_user_name:o}).join(""):(0,l.nk)(this.props.i18n._('Remove {{ invited_user_name }}?', '[button] to remove a pinner as a collaborator from a group board', '[button] to remove a pinner as a collaborator from a group board'),{invited_user_name:o}).join(""),h=this.props.i18n._('This will keep them from saving Pins to this board. You can also:', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.'),p=this.getBlockDescription(e,t),m=this.state.shouldBlock?this.props.i18n._('Block', 'block another pinner after denying their request to collaborate on a board', 'block another pinner after denying their request to collaborate on a board'):this.props.i18n._('Remove', 'decline another pinner\'s request to collaborate on a board', 'decline another pinner\'s request to collaborate on a board'),g=(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:h})}),(0,d.jsx)(c.iz,{}),(0,d.jsxs)(c.xu,{padding:5,display:"flex",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState((({shouldBlock:e})=>({shouldBlock:!e})))})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsxs)(c.__,{htmlFor:"banUser",children:[(0,d.jsx)(c.xv,{weight:"bold",children:(0,l.nk)(this.props.i18n._('Block {{ name }}', ' - ', ' -- '),{name:t||""})}),(0,d.jsx)(c.xv,{size:"200",children:p})]})})]})]}),f=u?c.u_:s.ZP;return(0,d.jsx)(f,{accessibilityModalLabel:_,heading:_,onDismiss:i,size:"sm",footer:(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:i,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:this.state.shouldBlock?a:r,text:m})})]}),children:g})}}function A(e){const t=(0,r.ZP)();return(0,d.jsx)(w,{...e,i18n:t})}var C=o(343341);function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class j extends n.Component{constructor(...e){super(...e),E(this,"state",{currentModal:null,loading:!1}),E(this,"showRemoveSuccessToast",(()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._('Collaborator removed', 'BoardCollabInviteCellContainer.toast', 'Toast for removing a collaborator from a board');e.showOneToast((({hideToast:e})=>(0,d.jsx)(y.ZP,{duration:3e3,onHide:e,text:t})))})),E(this,"onDelete",(()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})})),E(this,"onApprove",(()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally((()=>{this.setState({loading:!1})}))})),E(this,"deleteBoardInvite",((e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:o,onInviteDidUpdate:n}=this.props,i=this.isViewerInvitedUser;this.setState({currentModal:null,loading:!0}),t(i,e).then((()=>{n(),this.showRemoveSuccessToast(),i&&o()})).catch((()=>{})).finally((()=>{this.setState({loading:!1})}))})),E(this,"handleDeleteBoardInvite",(()=>{this.deleteBoardInvite(!1)})),E(this,"handleDeleteBoardInviteAndBan",(()=>{this.deleteBoardInvite(!0)})),E(this,"handleHideModal",(()=>{this.setState({currentModal:null})}))}get isViewerInvitedUser(){const{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:o}=this.state;return"delete"===o?this.isViewerInvitedUser?(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:v.fe+1}},children:(0,d.jsx)(P,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:v.fe+1}},children:(0,d.jsx)(A,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,invitedUser:t,isDim:o}=this.props,{loading:n}=this.state;return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(b,{invite:e,invitedUser:t,isDim:o&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}function T(e){const{invite:t,invitedUser:{id:o},invite:{board:{id:n}}}=e,s=(0,r.ZP)(),l=(0,i.useDispatch)();return(0,d.jsx)(j,{...e,approveBoardCollabInvite:()=>l((0,h.q1)(n,o)),deleteBoardCollabInvite:(e,o)=>l((0,h.Jn)(t,e,o)),i18n:s,toastManagerContext:(0,C.F9)(),viewer:(0,f.Z)()})}},573799:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(426151),s=o(913683),r=o(898781),l=o(883119),a=o(785893);function c({fetchMore:e,invites:t,isAtEnd:o,isFetching:n,onBoardLeave:i,refreshData:c,renderInvite:d,scroll:u}){const _=(0,r.ZP)();return(0,a.jsxs)(l.xu,{children:[u&&(0,a.jsx)(s.Z,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:o,isFetching:n,fetchMore:e}),t.map(((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,a.jsx)(l.xu,{children:d(e,i,c)},t):null)),n&&!o&&(0,a.jsx)(l.$j,{accessibilityLabel:_._('loading board invites', 'accessibility label for board collaborator invites loading spinner', 'accessibility label for board collaborator invites loading spinner'),show:!0})]})}var d=o(355600),u=o(526524),_=o(88301),h=o(784590),p=o(349700);class m extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(o="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}shouldComponentUpdate(e){const{invites:{data:t},pendingOwnershipTransfer:o}=e,{invites:{data:n},pendingOwnershipTransfer:i}=this.props;return!(n&&!(i!==o))||!!t&&n.length!==t.length}render(){var e,t;const{board:o,invites:s,invitesPendingApproval:r,scrollInfo:_,onBoardLeave:h,onModalOpen:m,pendingOwnershipTransfer:g,renderInvite:f}=this.props,{full_name:x,image_medium_url:b,username:y}=o.owner,v=null===(e=(s.data||[]).find((e=>{var t;return(null===(t=e.invited_user)||void 0===t?void 0:t.id)===g})))||void 0===e||null===(t=e.invited_user)||void 0===t?void 0:t.full_name,P=g&&v?(0,p.nk)(this.props.i18n._('Requested {{ collaboratorName }} to change to board owner', 'boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle', 'Subtext for an owner of board who has sent an ownership transfer request'),{collaboratorName:v}).join(""):this.props.i18n._('Owner of this board', 'boardInviteSheet.CollaboratorList.boardOwner.subtitle', 'The subtext that identifies the owner of a board');return(0,a.jsx)(n.Fragment,{children:s.isLoaded||r.isLoaded?(0,a.jsx)(u.Z,{fetchMore:s.fetchMore,children:({onScroll:e,setRef:t})=>(0,a.jsxs)(l.xu,{width:"100%",onScroll:e,ref:t,children:[(0,a.jsx)(c,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:_,renderInvite:f}),(r.data||[]).length>0?(0,a.jsx)(l.xu,{paddingY:3,children:(0,a.jsx)(l.iz,{})}):null,(0,a.jsxs)(l.xu,{paddingY:1,children:[(0,a.jsx)(d.Z,{imageUrl:b,linkURL:`/${y}/`,name:x,subtitle:P,title:x}),(s.data||[]).map((e=>e&&e.invited_user&&e.invited_user.id?(0,a.jsx)(i.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:h,onModalOpen:m,onInviteDidUpdate:s.refresh},e.invited_user.id):null))]})]})}):(0,a.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading', 'Loading state for showing board collaborators', 'Loading state for showing board collaborators')})})}}function g(e){const t=(0,r.ZP)(),{pendingOwnershipTransfer:o}=(0,_.Z)(),n=(0,h.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),i=(0,h.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return(0,a.jsx)(m,{...e,invites:n,invitesPendingApproval:i,i18n:t,pendingOwnershipTransfer:o})}},355600:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(116303),s=o(149230),r=o(883119),l=o(785893);function a(e){const{imageUrl:t,name:o,title:a,subtitle:c,accessory:d,linkURL:u,isDim:_}=e,h={__style:{opacity:_?.5:1}},p=(0,s.Z)({url:null!=u?u:""})?"nofollow":"none";return(0,l.jsx)(n.Fragment,{children:o&&a&&(0,l.jsxs)(r.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,l.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:h,children:(0,l.jsx)(r.iP,{role:"link",rel:p,href:u||"",rounding:"circle",children:(0,l.jsx)(i.Z,{outline:!0,size:"md",name:o,src:t})})}),(0,l.jsxs)(r.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:h,children:[(0,l.jsx)(r.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:(0,l.jsx)(r.rU,{rel:p,href:u||"",children:a})}),(0,l.jsx)(r.xv,{lineClamp:1,size:"100",color:"subtle",children:c})]}),d&&(0,l.jsx)(r.xu,{marginStart:4,children:d})]})})}},209716:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{iconNode:t,title:o,subtitle:s,accessory:r}=e;return(0,i.jsxs)(n.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,i.jsx)(n.xu,{marginEnd:2,children:t}),(0,i.jsxs)(n.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,i.jsx)(n.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:o}),(0,i.jsx)(n.xv,{lineClamp:1,size:"100",color:"subtle",children:s})]}),r&&(0,i.jsx)(n.xu,{children:r})]})}},88301:(e,t,o)=>{o.d(t,{Z:()=>a,k:()=>l});var n=o(425288),i=o(785893);const{Provider:s,useHook:r}=(0,n.Z)("BoardOwnershipTransferContext");function l({boardName:e="",children:t,pendingOwnershipTransfer:o=null,viewerIsOwner:n}){return(0,i.jsx)(s,{value:{boardName:e,pendingOwnershipTransfer:o,viewerIsOwner:n},children:t})}const a=r},340274:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(966338),s=o(978674),r=o(717615),l=o(19121),a=o(516570),c=o(223123),d=o(898781),u=o(231947),_=o(883119),h=o(412456),p=o(785893);function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{selectedCollaborators:[]}),m(this,"handleSubmit",(e=>{const{advertiserId:t,createBoard:o,onBoardCreate:n,viewer:i,orbacActingAs:s}=this.props,r=(0,u.lJ)(i,s),{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_}=e;return o({boardCreateOptions:{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_,...t?{advertiser_id:t}:{},...r?{orbac_subject_id:r}:Object.freeze({})}}).then((e=>{this.inviteSelectedColaborators(e.id),n(e)}))})),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter((({type:e})=>"email"===e));t.length>=1&&(0,h.OA)(e,t.map((({type:e})=>e)));const o=this.state.selectedCollaborators.filter((({type:e})=>e.startsWith("user")));o.length>=1&&(0,h.pS)(e,o.map((({id:e})=>e)))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:o,privacy:n,useModalWithNoLayer:i}=this.props;return(0,p.jsx)(a.Z,{board:{...this.emptyBoardData,privacy:t?n:s.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:o,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:i,title:(0,p.jsx)(_.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(_.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}function f(e){const t=(0,c.Z)(),o=(0,d.ZP)(),n=(0,l.Z)(),s=(0,i.useSelector)((({advertiser:e})=>e?e.id:void 0)),a=(0,r.Z)(),u=(0,i.useSelector)((({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id));return(0,p.jsx)(g,{...e,advertiserId:s,createBoard:t,dispatch:(0,i.useDispatch)(),isAdAccountOwner:u,viewer:n,i18n:o,orbacActingAs:a})}m(g,"defaultProps",{privacy:s.Z.BoardPrivacy.PUBLIC})},552091:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function l({cancelButtonLabel:e,confirmButtonLabel:t,heading:o,message:l,onCancel:a,onConfirm:c}){const d=(0,i.ZP)(),u=o||d._('Are you sure?', ' - ', ' -- '),_=e||d._('Cancel', ' - ', ' -- ');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,r.jsxs)(s.xu,{marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{"data-test-id":"cancel-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:a,size:"lg",text:_})}),(0,r.jsx)(s.xu,{"data-test-id":"confirm-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:c,size:"lg",text:t})})]}),heading:u,onDismiss:a,role:"alertdialog",children:(0,r.jsx)(s.xu,{padding:4,children:(0,r.jsx)(s.xv,{children:l})})})}},402524:(e,t,o)=>{o.d(t,{Z:()=>E});var n=o(667294),i=o(966338),s=o(552091),r=o(6637),l=o(499128),a=o(717615),c=o(19121),d=o(229448),u=o(482546),_=o(516570),h=o(898781),p=o(683190),m=o(231947),g=o(343341),f=o(780280),x=o(883119),b=o(708206),y=o(785893);function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class P extends n.Component{constructor(...e){super(...e),v(this,"state",{editMode:"main"}),v(this,"handleBoardLeave",(()=>{const{board:e,onBoardLeave:t,onClose:o}=this.props;o(),t&&t(e.id)})),v(this,"returnToMainEditMode",(()=>this.setState({editMode:"main"}))),v(this,"handleDelete",(()=>{const{board:e,deleteBoard:t,onBoardDelete:o,onClose:n,toastManagerContext:i,viewer:s,orbacActingAs:r}=this.props;t(e.id,(0,m.lJ)(s,r)).then((()=>{i.showToast((({hideToast:e})=>(0,y.jsx)(l.ZP,{onHide:e,text:this.props.i18n._('Board deleted!', 'User deleted their board', 'User deleted their board')})))})),this.returnToMainEditMode(),n(),o&&o(e)})),v(this,"handleShowDeleteModal",(()=>{this.setState({editMode:"confirmDelete"})})),v(this,"handleSubmit",(e=>{var t;const{viewer:o,orbacActingAs:n,board:i,updateBoard:s,onBoardPrivacyChange:l,onBoardUpdate:a,onClose:c}=this.props,d=this.props.board.id;if((0,m.D3)(o,(null===(t=i.owner)||void 0===t?void 0:t.id)||"",n)){const t={id:d,...e};return s(t,(0,m.lJ)(o,n)).then((()=>{i.privacy!==e.privacy&&l?l():a&&a(d,t),c()}))}{const{allow_homefeed_recommendations:t,collab_board_email:o}=e;t!==i.allow_homefeed_recommendations&&s({id:d,allow_homefeed_recommendations:t});return r.ZP.create("BoardSettingsResource",{board_id:d,collab_board_email:o}).callUpdate({showError:!1}).then((()=>c())).catch((e=>{throw e.message}))}}))}render(){var e;const{board:t,categories:o,viewer:i,orbacActingAs:r,onCropChange:l,onClose:a,onToggleFlyout:c,requestContext:d}=this.props,{editMode:u}=this.state,h=this.props.i18n._('Edit your board', 'BoardEdit.Heading.Text', 'edit board heading'),p=(0,m.D3)(i,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",r),g=(0,y.jsxs)(x.xu,{paddingY:8,position:"relative",children:[(0,y.jsx)(x.X6,{align:"center",size:"500",children:h}),(0,y.jsx)(x.xu,{position:"absolute",top:!0,left:d.isRTL,right:!d.isRTL,paddingY:8,paddingX:6,children:(0,y.jsx)(x.hU,{accessibilityLabel:this.props.i18n._('Close', 'BoardEdit.icon.cancel', 'Icon to close board edit modal'),icon:"cancel",iconColor:"darkGray",onClick:a})})]});return(0,y.jsxs)(n.Fragment,{children:["main"===u&&(0,y.jsx)(_.Z,{board:t,categories:o,currentUserIsOwner:p,handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:p,isEditable:p,onClose:a,onCropChange:l,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:c,submitText:this.props.i18n._('Done', 'BoardEdit.BoardEdit', 'Submit button text'),title:g}),"confirmDelete"===u&&(0,y.jsx)(s.Z,{confirmButtonLabel:this.props.i18n._('Delete forever', 'Confirms the user wants to permanently delete the board', 'Confirms the user wants to permanently delete the board'),cancelButtonLabel:this.props.i18n._('Cancel', ' - ', ' -- '),message:this.props.i18n._('Once you delete a board and all its Pins, you can\'t undo it!', ' - ', ' -- '),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode})]})}}const w=(0,b.compose)(d.ZP,(0,i.connect)(null,(e=>({updateBoard:(t,o)=>e((0,p.wN)(t,o))}))))((function(e){const t=(0,h.ZP)(),o=function(){const e=(0,i.useSelector)((({boards:e})=>e)),t=(0,i.useDispatch)();return(0,n.useCallback)((async(o,n)=>{var i;const s=e[o],{pin_count:l}=s,{id:a=""}=null!==(i=s.owner)&&void 0!==i?i:{};t((0,p.eo)(o)),t((0,u.J)({userId:a,increment:"number"==typeof l?-l:0})),await r.ZP.create("BoardResource",{board_id:o,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete()}),[e,t])}();return(0,y.jsx)(P,{...e,deleteBoard:o,requestContext:(0,f.B)(),viewer:(0,c.Z)(),orbacActingAs:(0,a.Z)(),i18n:t,toastManagerContext:(0,g.F9)()})}));var A=o(121151),C=o(784590);function E({boardId:e,coverImageHeight:t,coverImageWidth:o,onBoardArchiveChange:s,onBoardPrivacyChange:r,onBoardLeave:l,onBoardDelete:a,onBoardUpdate:c,onClose:d,onCropChange:u}){const _=(0,h.ZP)(),[p,m]=(0,n.useState)(!1),{data:g}=(0,C.Z)({name:"CategoriesResource",noCache:!0});(0,C.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});const f=(0,i.useSelector)((({boards:t})=>t[e]));if(!!(!f||!g))return(0,y.jsx)(A.ZP,{accessibilityModalLabel:_._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on modal'),onDismiss:d,size:"sm",children:(0,y.jsx)(x.xu,{padding:12,children:(0,y.jsx)(x.$j,{accessibilityLabel:_._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on loading spinner'),show:!0})})});return(0,y.jsx)(w,{board:f,categories:g,coverImageHeight:t,coverImageWidth:o,onBoardArchiveChange:s,onBoardPrivacyChange:r,onBoardLeave:l,onBoardDelete:a,onBoardUpdate:c,onClose:()=>{p||d()},onCropChange:u,onToggleFlyout:()=>m(!p)})}},913683:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);class i extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{const{isAtEnd:e,isFetching:t,fetchMore:o,scrollBuffer:n,scrollHeight:i,scrollTop:s}=this.props;e||t||s+n>i&&o()},(o="check")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},516570:(e,t,o)=>{o.d(t,{Z:()=>re});var n=o(667294),i=o(563126),s=o(966338),r=o(252867),l=o(858358),a=o(883119),c=o(785893);function d({handleTogglePinSelection:e,index:t,isSelected:o,pin:n}){return(0,c.jsx)(a.iP,{onTap:()=>{e(t)},rounding:l.mv,children:(0,c.jsx)(r.default,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:o?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var u=o(898781);const _=({boardPins:e,coverPinIndex:t,fetchMore:o,isLoaded:i,handleTogglePinSelection:s})=>{const r=(0,u.ZP)(),l=(0,n.useRef)(null);return(0,c.jsx)(a.xu,{overflow:"auto",maxHeight:600,ref:l,children:i?(0,c.jsx)(a.xu,{paddingY:4,children:l&&(0,c.jsx)(a.Rk,{columnWidth:152,comp:({data:e,itemIdx:o})=>(0,c.jsx)(d,{handleTogglePinSelection:s,index:o,isSelected:t===o,pin:e}),gutterWidth:16,items:e||[],loadItems:o,scrollContainer:()=>l.current||window})}):(0,c.jsx)(a.xu,{padding:6,children:(0,c.jsx)(a.$j,{show:!0,accessibilityLabel:r._('Loading', 'BoardCoverEdit.Accessibility.Label', 'accessibility label for loading spinner')})})})};var h=o(121151),p=o(6637),m=o(717615),g=o(784590),f=o(19121),x=o(293880),b=o(231947),y=o(985913),v=o(780280);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const w={border:0,top:120};class A extends n.Component{constructor(...e){super(...e),P(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),P(this,"handleUpdateImage",(()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,o=e.offsetWidth;this.setState((({holderHeight:e,holderWidth:n})=>({isSpinnerShown:!1,startBgPos:{left:-(o-n)/2,top:-(t-e)/2}})))})),P(this,"handleOnMouseUp",(()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))})),P(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:o,holderWidth:n}=this.state;return{left:n/2-t/2,width:t,height:e,top:o/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),o=this.getImgScale(),n=this._getImageDimensions(),i=n.imgHeight*o,s=n.imgWidth*o;let r=0;return i&&s&&(r=this.state.startBgPos.left+this.state.deltaX,r+s-e<t.left&&(r=t.left-s+e),r>t.left&&(r=t.left)),r}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),o=this.getImgScale(),n=this._getImageDimensions(),i=n.imgHeight*o,s=n.imgWidth*o;let r=0;return i&&s&&(r=this.state.startBgPos.top+this.state.deltaY,r+i-e<t.top&&(r=t.top-i+e),r>t.top&&(r=t.top)),r}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:o,imgWidth:n}=this._getImageDimensions(),i=this.getFrameBounds();if(o&&n){let s=o/n;return s=s>=i.height/i.width?t/n:e/o,s}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let o={};if(e&&t){const n=this.getImgScale();o={width:n*t,height:n*e}}return o}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,o=this.getFrameBounds(),n=this.getBgBounds(),i=this.getImgScale();return{cropX:Math.round(-(n.left-o.left)/i),cropY:Math.round(-(n.top-o.top)/i),height:Math.round(e/i),width:Math.round(t/i),scale:i}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,o;const{pin:n}=this.props,i=null===(e=n.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==i?void 0:i.height)&&void 0!==t?t:1,imgWidth:null!==(o=null==i?void 0:i.width)&&void 0!==o?o:1}}render(){var e,t;const{boardName:o,frameHeight:i,frameWidth:s,hideCoverNavigation:r,isFirst:l,isLast:d,isRTL:u,pin:_,showNextPin:h,showPrevPin:p}=this.props,{isSpinnerShown:m}=this.state,{imgHeight:g,imgWidth:f}=this._getImageDimensions(),x=this.getFrameBounds(),b=this.getImageBounds(),v=this.getBgBounds();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(a.xu,{height:300,overflow:"hidden",position:"relative",dangerouslySetInlineStyle:{__style:{margin:"15px"}},ref:e=>{this.holder=e},children:[(0,c.jsx)(a.xu,{left:!0,overflow:"hidden",position:"absolute",top:!0,dangerouslySetInlineStyle:{__style:{...v}},children:(0,c.jsx)("img",{alt:(0,y.Z)(this.props.i18n._('Board cover for {{ boardName }}', ' - ', ' -- '),{boardName:o}),onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=_.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:{maxWidth:"none",opacity:g&&f?1:.01,transitionDuration:"0.4s",transitionProperty:"opacity",imageBounds:b}})}),(0,c.jsxs)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)("span",{style:{background:"#fff",opacity:.9,position:"absolute",top:0,left:0,right:0,height:x.top}}),(0,c.jsx)("span",{style:{background:"#fff",opacity:.9,position:"absolute",top:x.top,left:x.left+s,right:0,height:i}}),(0,c.jsx)("span",{style:{top:i+x.top,left:0,right:0,bottom:0}}),(0,c.jsx)("span",{style:{top:x.top,left:0,width:x.left,height:i}})]}),(0,c.jsx)(a.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{boxShadow:"0 2px 3px rgba(#221919, 0.3), inset 0 0 0 1px rgba(#000, 0.3)",...x}}}),(0,c.jsx)("div",{style:{background:"#fff",bottom:0,cursor:"move",left:0,opacity:0,position:"absolute",right:0,top:0,zIndex:0},onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),(0,c.jsx)(a.xu,{height:30,left:!0,position:"absolute",right:!0,dangerouslySetInlineStyle:{__style:{bottom:"5px",display:m?"":"none",background:"url('~app/common/images/spinner.gif') no-repeat center"}}})]}),l||r?null:(0,c.jsx)(a.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...w,left:u?void 0:100,right:u?100:void 0}},children:(0,c.jsx)(a.hU,{icon:"arrow-back",accessibilityLabel:this.props.i18n._('Previous', 'Label for indicating selecting the previous pin', 'Label for indicating selecting the previous pin'),onClick:p})}),d||r?null:(0,c.jsx)(a.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...w,left:u?100:void 0,right:u?void 0:100}},children:(0,c.jsx)(a.hU,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._('Next', 'Label for indicating selecting the previous pin', 'Label for indicating selecting the previous pin'),onClick:h})})]})}}function C(e){const t=(0,u.ZP)(),{isRTL:o}=(0,v.B)();return(0,c.jsx)(A,{...e,isRTL:!!o,i18n:t})}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function j(e){return e.reduce(((e,t)=>("pin"===t.type&&e.push(t),e)),[])}function T({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,j(e||[]).findIndex((e=>e.id===t)))}class I extends n.Component{constructor(...e){super(...e),E(this,"state",{coverPinIndex:T(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),E(this,"handleSave",(()=>{var e,t,o;const{boardId:n,dispatch:i,viewer:s,orbacActingAs:r}=this.props,{coverPinIndex:l,imgCropData:a}=this.state,c=(this.pins||[])[l],d=(0,b.lJ)(s,r);if(!c)return;const u=null===(e=c.images)||void 0===e?void 0:e["236x"],_=null==u?void 0:u.url,h=a?{crop_x:a.cropX,crop_y:a.cropY,height:a.height,width:a.width,scale:a.scale}:{crop_x:0,crop_y:0,height:null==u?void 0:u.height,width:null==u?void 0:u.width,scale:1},m={board_id:n,url:_,pin_id:c.id,pin_image_url:_,...h,...d?{orbac_subject_id:d}:Object.freeze({})},g={height:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:0,width:null!==(o=null==u?void 0:u.width)&&void 0!==o?o:0,x:a?a.cropX:0,y:a?a.cropY:0};p.ZP.create("BoardResource",m).callUpdate().then((()=>{this.props.onSave(null!=_?_:""),i((0,x.Cr)(n,{custom_cover:!0,scale:a?a.scale:1,pin_id:c.id,crop:g,image_url:null!=_?_:""}))}))})),E(this,"updateImgCrop",(e=>this.setState({imgCropData:e}))),E(this,"handleShowNextPin",(()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:o}}=this.props,n=(this.pins||[]).length;n&&this.setState((({coverPinIndex:e})=>({coverPinIndex:(e+1)%n})),(()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&o()}))})),E(this,"handleShowPrevPin",(()=>{const e=(this.pins||[]).length;e&&this.setState((({coverPinIndex:t})=>({coverPinIndex:(t||e)-1})))})),E(this,"handleTogglePinSelection",(e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})})),E(this,"handleCoverEditBackButtonClick",(()=>{this.setState({selectedCoverPin:null})})),E(this,"renderBoardCoverMasonry",(()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:o,boardFeedResource:n,frameHeight:i,frameWidth:s}=this.props,r=this.pins||[],{data:l,fetchMore:a,isLoaded:d}=n;return t?(0,c.jsx)(C,{boardName:o,frameHeight:null!=i?i:236,frameWidth:null!=s?s:236,isFirst:!e,isLast:e===r.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):(0,c.jsx)(_,{boardPins:l,coverPinIndex:e,fetchMore:a,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:d})})),E(this,"renderCoverEditHeader",(()=>(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"center",height:80,children:(0,c.jsx)(a.xu,{width:"100%",padding:4,children:(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Navigate to cover picker', 'BoardEdit.back.button', 'Cover picker navigate back button'),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),(0,c.jsx)(a.X6,{size:"500",children:this.props.i18n._('Move and scale to crop', 'BoardEdit.Heading.Experiment.Text', 'edit board heading')}),(0,c.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardCoverEdit.icon.cancel', 'Cancel board cover edit'),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})})))}static getDerivedStateFromProps(e,t){const o=e.boardFeedResource.data,{previousBoardFeedResourceData:n}=t;return!n&&o?{previousBoardFeedResourceData:o,coverPinIndex:T(e)}:{previousBoardFeedResourceData:o}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,o=e.boardFeedResource.data;(t&&o!==t&&t.length||t&&o&&t.length!==o.length)&&t.forEach((e=>{if("pin"===e.type){(new Image).src=e.url}}))}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?j(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:o,selectedCoverPin:n}=this.state,i=(this.pins||[])[o];return(0,c.jsx)(h.ZP,{accessibilityModalLabel:this.props.i18n._('Change Board Cover', 'accessible label for modal to change board cover image', 'accessible label for modal to change board cover image'),size:"lg",heading:n?this.renderCoverEditHeader():e,onDismiss:t,footer:n&&(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.zx,{disabled:!i,onClick:this.handleSave,text:this.props.i18n._('Done', 'BoardCoverEdit.Button.Submit.Exp', 'Button for saving board cover edit')})})}),children:this.renderBoardCoverMasonry()})}}function S(e){const t=(0,u.ZP)(),o=(0,s.useDispatch)(),n=(0,g.Z)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return(0,c.jsx)(I,{...e,boardFeedResource:n,dispatch:o,i18n:t,viewer:(0,f.Z)(),orbacActingAs:(0,m.Z)()})}var z=o(552091);const k=({label:e,labelId:t})=>t?(0,c.jsx)(a.__,{htmlFor:t,children:(0,c.jsx)(a.xv,{size:"100",children:e})}):(0,c.jsx)(a.xv,{size:"100",children:e});function D(e){const{children:t,label:o,labelId:i}=e;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(k,{label:o,labelId:i})}),t]})}const R=138;function O({coverPin:e,handleShowBoardCoverEditModal:t}){const o=(0,u.ZP)(),[i,s]=(0,n.useState)(!1),{isRTL:r}=(0,v.B)();return(0,c.jsx)(D,{label:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,c.jsx)(a.xu,{width:R,position:"relative",children:(0,c.jsx)(a.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(a.zd,{height:R,rounding:4,width:R,children:(0,c.jsx)(a.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||R,naturalWidth:e.size&&e.size[0]||R,src:e.image_url})}),(0,c.jsx)(a.xu,{position:"absolute",left:r,right:!r,bottom:!0,padding:2,children:(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:i?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,c.jsx)(a.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,c.jsx)(a.xu,{alignItems:"center",color:i?"darkWash":"lightGray",display:"flex",height:R,justifyContent:"center",rounding:4,width:R,children:(0,c.jsx)(a.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function L({children:e,label:t,labelId:o,subtext:i}){return(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsxs)(a.__,{htmlFor:o,children:[(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function F({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,u.ZP)();return t&&(0,c.jsx)(L,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.xu,{marginEnd:1,children:(0,c.jsx)(a.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var M=o(623122),B=o(349700);function N({board:e,onCollaboratorInviteClick:t}){const o=(0,u.ZP)(),n=(0,M.Z)({boardId:e.id,ownerName:e.owner.full_name,ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_key||e.owner.image_medium_url||e.owner.image_small_url||""}),i=n.slice(0,3).map((e=>e.name));let s="";switch(n.length){case 3:s=(0,B.Wc)(`${o._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${i[0]}`,second:`${i[1]}`,last:`${i[2]}`});break;case 2:s=(0,B.Wc)(`${o._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${i[0]}`,second:`${i[1]}`});break;default:s=i.join(", ")}const r=n.length>3?(0,B.Wc)(o.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', n.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:s,leftCount:""+(n.length-3)}):(0,B.Wc)(`${o._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:s});return(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(a.HE,{accessibilityLabel:r,collaborators:n.map((({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e}))),size:"md"}),(0,c.jsx)(a.hU,{accessibilityLabel:o._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var U=o(948618),Z=o(966113);function G({board:e,onCollaboratorInviteClick:t}){const o=(0,u.ZP)(),n=(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(a.xv,{size:"100",inline:!0,children:o._('Collaborators', ' - ', ' -- ')}),(0,c.jsx)(U.Z,{}),(0,c.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,c.jsx)(a.rU,{inline:!0,target:"blank",href:Z.Z.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,c.jsx)(D,{label:n,labelId:"collaborators",children:(0,c.jsx)(N,{board:e,onCollaboratorInviteClick:t})})}function H({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,u.ZP)();return t&&(0,c.jsx)(L,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,c.jsx)(a.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function V({description:e,descriptionValidatorErrors:t,onChange:o}){const n=(0,u.ZP)(),i="boardEditDescription";return(0,c.jsx)(D,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,c.jsx)(a.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:o,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:e})})}const W=({children:e})=>(0,c.jsx)(a.xu,{paddingX:8,role:"list",children:n.Children.map(e,((t,o)=>t&&(0,c.jsx)(a.xu,{role:"listitem",marginBottom:o===n.Children.count(e)-1?1:8,children:t},o)))});var K=o(978674);function $({isProtectedToggler:e,isToggleDisable:t,onChange:o,onCheckboxChange:i,privacy:s}){const r=(0,u.ZP)();if(!0===e)return(0,c.jsx)(L,{label:r._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,c.jsx)(a.xu,{paddingY:2,children:(0,c.jsx)(a.rs,{onChange:o,switched:s===K.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(s!==K.Z.BoardPrivacy.PROTECTED){const e=r._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),o=(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(a.xv,{color:"subtle",size:"300",children:[r._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,c.jsx)(a.rU,{inline:!0,target:"blank",href:Z.Z.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,underline:"hover",children:r._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,c.jsx)(L,{label:e,labelId:"secret",subtext:o,children:(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.XZ,{checked:s===K.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:i,disabled:t})})})}return null}function Y({allowHomefeedRecommendations:e,onCheckboxChange:t}){const o=(0,u.ZP)();return(0,c.jsx)(L,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,c.jsx)(a.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function q({name:e,nameValidatorErrors:t,onChange:o}){const n=(0,u.ZP)();return(0,c.jsx)(D,{label:n._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,c.jsx)(a.nv,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:n._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}var X=o(66699),Q=o(343341),J=o(134906);function ee(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const te=(e,t)=>(0,J.Gy)({max:e,maxErrorString:(0,X.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),oe=e=>[te(K.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],ne=e=>[(0,J.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),te(K.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],ie=({condition:e,children:t})=>e?(0,c.jsx)(a.xu,{position:"absolute",zIndex:h.b7,children:t}):t;class se extends n.Component{constructor(e){super(e),ee(this,"handleChangeName",(({value:e})=>{const t=(0,J.FU)(ne(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})})),ee(this,"handleChangeDescription",(({value:e})=>{const t=(0,J.FU)(oe(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})})),ee(this,"handleChangePrivacyToggle",(({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})})),ee(this,"handleEnableSecret",(()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})})),ee(this,"handleHideSecretConfirmation",(()=>{this.setState({showSecretConfirmation:!1})})),ee(this,"handleChangeRecommendationToggle",(({value:e})=>{this.setState({allowHomefeedRecommendations:e})})),ee(this,"handleChangeCollabBoardEmail",(({value:e})=>{this.setState({collab_board_email:e})})),ee(this,"handleChangeCollaboratorInvitesEnabled",(({value:e})=>{this.setState({collaboratorInvitesEnabled:e})})),ee(this,"handleCheckboxChange",(e=>({event:t,checked:o})=>e({event:t,value:o}))),ee(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{collab_board_email:o,collaboratorInvitesEnabled:n,description:i,name:s,privacy:r,allowHomefeedRecommendations:l}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const a=s.trim(),c=i.trim();this.setState({submitting:!0,submitError:""}),t({name:a,collab_board_email:o,collaborator_invites_enabled:n,description:c,privacy:r,allow_homefeed_recommendations:l}).then((()=>{this.setState({submitting:!1})})).catch((e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){const{message:o,message_detail:n}=e;t=n?`${o} ${n}`:o}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})}))})),ee(this,"handleShowBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!0})})),ee(this,"handleHideBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!1})})),ee(this,"handleShowCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!0})})),ee(this,"handleHideCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!1})})),ee(this,"handleSaveBoardCoverEditModal",(e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)}));const{board:{collab_board_email:t,collaborator_invites_enabled:o,description:n,name:i,pin_count:s,privacy:r,allow_homefeed_recommendations:l}}=e;this.state={collab_board_email:t,description:n,name:i,pin_count:s,privacy:r,allowHomefeedRecommendations:l,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:n,previousPrivacy:r}}static getDerivedStateFromProps(e,t){const o={};return e.board.name!==t.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,J.FU)(ne(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,J.FU)(oe(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(a.xu,{height:48,children:(0,c.jsx)(a.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.xv,{color:"error",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:o,submitting:n}=this.state;return!t||o.length>0||e.length>0||n}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:o,id:s,is_collaborative:r},coverImageHeight:l,coverImageWidth:d,currentUserIsOwner:u,handleBoardLeave:_,isAdAccount:p,isAdAccountOwner:m,isDeletable:g,isEditable:f,isNameAndSecretView:x,onClose:b,onDeleteButtonClick:y,requestContext:v,title:P,useModalWithNoLayer:w}=this.props,{allowHomefeedRecommendations:A,collab_board_email:C,collaboratorInvitesEnabled:E,description:j,descriptionValidatorErrors:T,name:I,nameValidatorErrors:k,pin_count:D,privacy:R,showBoardCoverEdit:L,showCollaboratorsModal:M,showSecretConfirmation:N}=this.state,U=f&&D>0;let Z=(0,c.jsxs)(W,{children:[U&&(0,c.jsx)(O,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,c.jsx)(q,{name:I,nameValidatorErrors:k,onChange:this.handleChangeName}),(0,c.jsx)(V,{description:j,descriptionValidatorErrors:T,onChange:this.handleChangeDescription}),u&&!!_&&(0,c.jsx)(G,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,c.jsx)(a.xu,{marginBottom:-7,children:(0,c.jsx)(a.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,c.jsx)($,{isProtectedToggler:!!p,isToggleDisable:!!p&&!m,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:R}),!t&&(0,c.jsx)(Y,{allowHomefeedRecommendations:A,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,c.jsx)(F,{hasCollabBoardEmail:C,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,c.jsx)(H,{collaboratorInvitesEnabled:E,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),g&&(0,c.jsxs)(a.xu,{marginTop:-6,paddingY:4,children:[(0,c.jsx)(a.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,c.jsxs)(a.iP,{onTap:y,children:[(0,c.jsx)(a.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,c.jsx)(a.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,c.jsx)(a.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,c.jsx)(a.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]});u?x&&(Z=(0,c.jsxs)(W,{children:[(0,c.jsx)(q,{name:I,nameValidatorErrors:k,onChange:this.handleChangeName}),(0,c.jsx)($,{isProtectedToggler:!!p,isToggleDisable:!!p&&!m,onChange:this.handleChangePrivacyToggle,privacy:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):Z=(0,c.jsxs)(W,{children:[!!_&&(0,c.jsx)(G,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,c.jsx)(F,{hasCollabBoardEmail:C,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&(0,c.jsx)(Y,{allowHomefeedRecommendations:A,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:(0,B.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,c.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});const K=w?a.u_:h.ZP,X=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),Q=(0,c.jsxs)(a.xu,{paddingY:8,position:"relative",children:[(0,c.jsx)(a.X6,{align:"center",size:"500",children:X}),(0,c.jsx)(a.xu,{position:"absolute",top:!0,left:v.isRTL,right:!v.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})})]});return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(ie,{condition:!!w,children:!L&&!M&&(0,c.jsx)(K,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:b,footer:this.getFormFooter(),heading:P,children:(0,c.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,c.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:Z})})})}),L&&(0,c.jsx)(S,{boardId:s,boardName:I,coverPinId:null==o?void 0:o.pin_id,frameHeight:l,frameWidth:d,heading:Q,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),N&&(0,c.jsx)(z.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),M&&(0,c.jsx)(i.Z,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}function re(e){const t=(0,u.ZP)();return(0,c.jsx)(se,{...e,i18n:t,requestContext:(0,v.B)(),toastManagerContext:(0,Q.F9)()})}ee(se,"defaultProps",{isNameAndSecretView:!1})},969986:(e,t,o)=>{o.d(t,{EL:()=>d,Hn:()=>h,I0:()=>u,QZ:()=>a,UF:()=>_,em:()=>p,kw:()=>l,ye:()=>c});var n=o(767790),i=o(784590),s=o(19121),r=o(780280);const l=()=>{var e,t;const o=(0,r.B)(),n=(0,i.Z)({name:"AdvertisersResource",options:{ownerUserId:null===(e=o.advertiser)||void 0===e?void 0:e.owner_user_id}});return(0,i.Z)({name:"VerifiedMerchantTagStatusResource",options:{advertisers:null===(t=n.data)||void 0===t?void 0:t.map((({country:e,id:t,name:o})=>({country:e,id:t,name:o})))}})},a=()=>{var e,t;const o=(0,r.B)(),n=(0,s.Z)(),l=n.isAuth?n.id:"";return(0,i.Z)({name:"VerifiedMerchantResource",options:{userId:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:l}})},c=()=>{var e;const t=null===(e=(0,n.Z)().data)||void 0===e?void 0:e.id;return(0,i.Z)({name:"VerifiedMerchantResource",options:{userId:t}})},d=()=>{var e,t;const o=(0,r.B)(),n=(0,s.Z)(),l=n.isAuth?n.id:"";return(0,i.Z)({name:"UserResource",options:{user_id:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:l}})},u=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsMerchantMetadataResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},_=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsFeedResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},h=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsMerchantResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},p=()=>{var e,t;const o=(0,s.Z)(),n=(0,i.Z)({name:"UserResource",options:{user_id:o.id||"",field_set_key:"merchant_summary"}}),r=(null===(e=n.data)||void 0===e?void 0:e.ppa_merchant_id)||(null===(t=n.data)||void 0===t?void 0:t.merchant_id),l=(0,i.Z)({name:"ApiResource",options:{url:`/v3/merchant_reviews/${r||""}/latest`}});return r?l:null}},283855:(e,t,o)=>{o.d(t,{K:()=>r,Q:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider;function r(){const e=(0,n.useContext)(i);return null==e?void 0:e.featuredCommentId}},394107:(e,t,o)=>{o.d(t,{LH:()=>i,Rv:()=>s,TJ:()=>r,iB:()=>n,pW:()=>l});const n=48,i=n+8,s=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",l="did_it_featured_ids"},703425:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(784590),i=o(116303),s=o(694379),r=o(898781),l=o(545062),a=o(19121),c=o(349700),d=o(883119),u=o(785893);const _=({creatorData:e,onTap:t,onUserFollow:o})=>{const n=(0,r.ZP)(),_=(0,a.Z)(),{explicitly_followed_by_me:h,follower_count:p=0,full_name:m,id:g,image_medium_url:f,username:x,verified_identity:b}=e||{},y=`/${x}/`;return(0,u.jsx)(d.sg,{span:4,children:(0,u.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:1,dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},children:[(0,u.jsx)(d.iP,{href:y,onTap:()=>t(g),role:"link",children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,u.jsx)(d.xu,{width:60,height:60,children:(0,u.jsx)(i.Z,{name:null!=m?m:"",size:"fit",src:null!=f?f:"",verified:!(null==b||!b.verified)})}),(0,u.jsxs)(d.xu,{paddingY:2,marginBottom:1,children:[(0,u.jsx)(d.xu,{marginBottom:1,children:(0,u.jsx)(d.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:m})}),(0,u.jsx)(d.xv,{align:"center",size:"100",children:(0,c.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', p, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,u.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:p},p)})})]})]})}),(0,u.jsx)(l.Z,{fullName:m,id:g,imageUrl:f,isOwnProfile:_.isAuth&&_.id===g,profileUrl:`/${x}/`,userFollowed:h,onUserFollow:e=>o({userIsNowFollowing:e,creatorId:g}),isSecondaryButton:!0,size:"sm",shouldStopEventPropagation:!0,viewType:3,viewParameter:156})]})})};var h=o(829407),p=o(407043);const m=({creatorRecs:e,fullName:t,pinId:o,viewParameter:n,viewType:i})=>{const{logContextEvent:s}=(0,p.v)(),l=(0,r.ZP)();(0,h.Z)((()=>{s({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})}));const a=e=>{s({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...o?{pin_id:o}:{}}})},m=({userIsNowFollowing:e,creatorId:t})=>{s(e?{event_type:45,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}}:{event_type:46,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})};return(0,u.jsx)(d.xu,{minWidth:440,paddingY:4,children:(0,u.jsxs)(d.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[t&&(0,u.jsx)(d.X6,{align:"center",size:"300",children:(0,c.nk)(l._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:t})}),(0,u.jsx)(d.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map((e=>(0,u.jsx)(_,{creatorData:e.user,onTap:a,onUserFollow:m},e.user_id)))})]})})},g=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity"],f=({fullName:e,id:t,numCreatorsToShow:o=3,pinId:i,viewParameter:s,viewType:r})=>{const l=(0,n.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:g.join(","),page_size:o,referrer:4,target_user:t}}});if(!l.isLoaded||!l.data||l.data.length!==o)return null;const a=l.data||[];return(0,u.jsx)(m,{creatorRecs:a,fullName:e,pinId:i,viewParameter:s,viewType:r})}},783571:(e,t,o)=>{o.d(t,{b:()=>l,n:()=>r});var n=o(966338),i=o(605028),s=o(558068);function r(){const{forward:e}=(0,s.H)(),t=e&&e.length>0?e[0].match.path:null;return!!(!!t&&(e=>e.includes("/:username/"))(t))}function l(e){const t=(0,n.useSelector)((({pins:t})=>t[e]));if(r()){const{isLeadPin:e,isProduct:o}=(0,i.Z)(t);return{creatorRecsPrevState:!(!t||e||o)&&!!t.show_suggested_creator_recs}}return{creatorRecsPrevState:!1}}},454071:(e,t,o)=>{o.d(t,{Z:()=>Y});var n=o(667294),i=o(985913),s=o(91564),r=o(784590),l=o(883119),a=o(966338),c=o(745091),d=o(395141),u=o(6637),_=o(407043),h=o(60598),p=o(887831),m=o(898781),g=o(785893);function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class x extends n.Component{constructor(...e){super(...e),f(this,"_videoContainerRef",null),f(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),f(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:o}=this.props;return!("pin"!==e||!t&&!o)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,g.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(l.JO,{color:"default",icon:"camera",accessibilityLabel:this.props.i18n._('Add a Photo', 'Add a photo as part of a form', 'Add a photo as part of a form'),size:32})})}),(0,g.jsx)(l.xu,{marginTop:2,paddingX:12,children:(0,g.jsx)(l.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:o}=this.props,n=this.props.i18n._('Your Upload', 'Image a pinner just uploaded to a form', 'Image a pinner just uploaded to a form');return this.isPin?(0,g.jsx)("img",{alt:n,src:t}):(0,g.jsx)(l.xu,{height:e,width:o,children:(0,g.jsx)(l.Ee,{alt:n,src:t,color:"white",naturalHeight:e,naturalWidth:o})})}renderResetButton(){return(0,g.jsx)(l.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,g.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Remove Photo', 'Remove photo from a form', 'Remove photo from a form'),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:o,isVideo:i,isVideoComplete:s,isOver:r,thumbnail:a,videoUrls:c,allowReset:d=!0,width:u}=this.props,_=c?(0,g.jsx)("video",{height:this.isPin?"auto":e,width:u,autoPlay:!0,controls:!0,loop:!0,poster:a||"",children:Object.keys(c).map((e=>(0,g.jsx)("source",{src:c[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,h=r?"lightGray":"white";return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(l.zd,{rounding:2,height:"100%",children:(0,g.jsxs)(l.xu,{color:h,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!i&&this.renderDropZone(),i&&!c&&(0,g.jsxs)(l.xu,{children:[s&&(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:this.props.i18n._('Processing Video', 'Loading message shown while user video is uploading', 'Loading message shown while user video is uploading')}),(0,g.jsx)(l.xu,{paddingY:4,children:(0,g.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Video uploading', 'Loading spinner while video uploads', 'Loading spinner while video uploads')})})]}),_,t&&this.renderImage()]})}),(t||c)&&d&&o&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:o,onClick:n,videoUrls:i,width:s,hoverHandlers:{onMouseOver:r,onMouseLeave:a}}=this.props,c=this.isPin?"auto":t,d={width:s,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:o?"default":"pointer",height:c,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},u=(0,g.jsxs)(l.xu,{position:"relative",children:[this.renderProgressBar(),o||i?(0,g.jsx)("div",{onMouseEnter:r,onMouseLeave:a,style:{...d},children:this.renderContent()}):(0,g.jsx)("button",{style:d,onClick:n,onMouseEnter:r,onMouseLeave:a,children:this.renderContent()})]});return e((0,g.jsx)("div",{children:u}))}}const b=(0,h.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,m.ZP)(),{isHovering:o,hoverHandlers:n}=(0,p.Z)();return(0,g.jsx)(x,{...e,i18n:t,isHovering:o,hoverHandlers:n})}));function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const v=["video/quicktime","video/mp4"];class P extends n.Component{constructor(...e){var t;super(...e),t=this,y(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),y(this,"mounted",!1),y(this,"containerRef",null),y(this,"fileInputRef",null),y(this,"xhr",null),y(this,"CHECK_VIDEO_TIMEOUT",null),y(this,"ERROR_MESSAGE",this.props.i18n._('Unable to upload video. Please try again later.', 'Error shown when we can\'t accept video uploads', 'Error shown when we can\'t accept video uploads')),y(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),y(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._('The video is too large. The maximum size is 2 GB.', 'Error if a user tries to upload a video that is too large', 'Error if a user tries to upload a video that is too large')):(this.props.allowVideo&&v.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),y(this,"showError",(e=>{const t=(0,g.jsx)(l.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,g.jsx)(l.xu,{padding:3,children:(0,g.jsx)(l.xv,{color:"inverse",weight:"bold",children:(0,g.jsx)("span",{children:e})})})});this.removePreview(t)})),y(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||(this.props.logContextEvent({event_type:101,component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),y(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),y(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),y(this,"checkForMedia",(async function(e){const o=await u.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(o.resource_response&&o.resource_response.data&&o.resource_response.data[e]){const n=o.resource_response.data[e],{status:i,signature:s}=n;"processing"===i||"registered"===i?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===i?t.handleMediaUploadSuccess(s,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),y(this,"loadMedia",(e=>{const{isVideo:t}=this.state,o=t?"video":"triedit-image";u.ZP.create("VIPResource",{type:o}).callCreate().then((t=>{var o,n;const{upload_id:i,upload_url:s,upload_parameters:r}=null!==(o=null===(n=t.resource_response)||void 0===n?void 0:n.data)&&void 0!==o?o:{};this.uploadMedia(e,i,s,r)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),y(this,"uploadMedia",((e,t,o,n)=>{const{isVideo:i}=this.state,s=new XMLHttpRequest;s.open("POST",o,!0),s.onload=()=>{(e=>e>=200&&e<400)(s.status)?this.setState({errorFlyout:null,isVideoComplete:i}):this.showError(this.props.i18n._('Something went wrong. Please try again later.', 'Error if video fails to upload', 'Error if video fails to upload')),this.checkForMedia(t)},s.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const r=new FormData;for(const l in n)r.append(l,n[l]);r.append("file",e),s.send(r),this.xhr=s}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:o}=this.state,{width:n,height:i}=this.props;if(o){const o=await u.ZP.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(o,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:n,height:i}})}}handleVideoUploadSuccess(e,t,o){if(!this.mounted)return;const n=e.resource_response.data,i=`https://i.pinimg.com/${n[t].metadata.thumbnail}`,s=n[t].urls;this.setState({videoUrls:s,thumbnail:i,progress:100});const r=new XMLHttpRequest;r.onload=()=>{const e=new FileReader;e.readAsDataURL(r.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:o,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},r.open("GET",i),r.responseType="blob",r.send()}render(){const{FILE:e}=d.hm,{errorFlyout:t,imagePreviewSrc:o,isVideo:n,isVideoComplete:i,progress:s,thumbnail:r,videoUrls:a}=this.state,{allowReset:c,allowVideo:u,display:_,height:h,width:p}=this.props,m=u?"image/*,video/mp4,video/quicktime":"image/*";return(0,g.jsxs)(l.xu,{ref:e=>{this.containerRef=e},children:[(0,g.jsx)(l.xu,{display:"visuallyHidden",children:(0,g.jsx)("input",{accept:m,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,g.jsx)(b,{allowReset:c,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:o,accepts:[e],onDrop:this.handleFileDrop,height:h,width:p,progress:s,isVideo:n,isVideoComplete:i,videoUrls:a,thumbnail:r,display:_}),t]})}}y(P,"defaultProps",{onImageUploadStart:()=>{}});const w=function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,m.ZP)();return(0,g.jsx)(P,{...e,i18n:o,logContextEvent:t})};var A=o(431256),C=o(499128),E=o(761627),j=o(690468),T=o(343341),I=o(708206);function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const z=1e3,k=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class D extends n.PureComponent{constructor(e){super(e),S(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),S(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,z)}),e.length>z?this.forceUpdate():this.handleHashtagTypeahead(e)})),S(this,"handleHashtagTypeahead",(e=>{const t=k.exec(e),o=t?t[0]:"";!this.state.inTypeahead&&o?this.setState({inTypeahead:!0,typeaheadValue:o}):this.state.inTypeahead&&(o?this.setState({typeaheadValue:o}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),S(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(k,e),typeaheadValue:""})))})),S(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};u.ZP.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((()=>this.createUpdateDidIt()))})),S(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),S(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),S(this,"handleDoneClick",(()=>{const{pinId:e,logContextEvent:t}=this.props;t({event_type:101,view_type:101,component:192,element:1112,object_id_str:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),S(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),S(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),S(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,logContextEvent:l}=this.props;this.setState({showDeleteModal:!1}),e&&(l({event_type:101,view_type:101,component:192,element:1264,object_id_str:r}),o({aggregatedPinDataId:t,pinId:r,username:i,id:e,isOwnedByMe:!0}),s&&s(n))})),S(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,toastManagerContext:l,updateUserDidItData:a}=this.props,{id:c,notes:d}=this.state;if(!d)return;n?c&&a({id:c,pinId:r,details:d,image_signatures:e?[e]:[]}):o({aggregatedPinDataId:t,username:i,details:d,image_signatures:e?[e]:[],pin_id:r}),s&&s(!n);-1===window.location.href.indexOf(i+"/tried")&&l.showToast((({hideToast:e})=>(0,g.jsx)(C.ZP,{duration:3e3,href:`/${i}/tried/`,onHide:e,text:this.props.i18n._('Nice work! Pins you\'ve tried live on your profile', 'Congratulations after trying a pin', 'Congratulations after trying a pin')})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:o,submitted:n}=this.state,{isDoneByMe:i,pinActivity:s}=this.props,r=!!e&&(s||{}).oldImageUrl!==e,a=!!e,d=s&&s.notes!==t,u=!!t&&""!==t.trim(),_=!a||!u||!d&&!r;return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(l.xu,{marginTop:4,paddingX:12,children:(0,g.jsx)(l.xu,{column:12,children:(0,g.jsx)(l.xu,{paddingY:e?0:10,dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},children:(0,g.jsx)(l.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,g.jsx)(w,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366,uploadSource:"pinner"})})})})}),(0,g.jsx)(l.xu,{height:e?"auto":0,opacity:e?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:e?"visible":"hidden"}},children:(0,g.jsxs)(l.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,g.jsx)(l.xu,{ref:this.setTextAreaRef,children:(0,g.jsx)(l.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._('Add a note or tip', 'Tip input for tried it', 'Tip input for tried it'),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,g.jsx)(A.Z,{editing:!0,addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,g.jsx)(l.xu,{paddingY:1,children:(0,g.jsxs)(l.xv,{size:"200",align:"end",children:[" ",t.length,"/",z," "]})})]})}),(0,g.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[o&&(0,g.jsx)(c.Z,{didItData:s,onDeleteConfirmation:this.handleDeleteConfirmation}),n?(0,g.jsx)(l.xu,{marginEnd:2,children:(0,g.jsx)(l.$j,{accessibilityLabel:this.props.i18n._('submit', 'accessible label for loading spinner on submit button', 'accessible label for loading spinner on submit button'),show:!0})}):null,(0,g.jsxs)(l.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[i?(0,g.jsx)(l.xu,{marginEnd:1,children:(0,g.jsx)(l.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._('Delete', 'delete button in modal for tried-it info', 'delete button in modal for tried-it info'),size:"md"})}):(0,g.jsx)(l.xu,{marginEnd:1,children:(0,g.jsx)(l.zx,{onClick:this.handleCancel,text:this.props.i18n._('Cancel', 'cancel button in modal for tried-it info', 'cancel button in modal for tried-it info'),size:"md"})}),(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.zx,{color:"red",disabled:_,onClick:this.handleDoneClick,text:this.props.i18n._('Done', 'done button in modal for tried-it info', 'done button in modal for tried-it info'),size:"md"})})]})]})]})}}const R=(0,I.compose)((0,a.connect)(null,((e,t)=>({createUserDidItData:(0,I.bindActionCreators)(j.DD,e),deleteUserDidItData:(0,I.bindActionCreators)(j.lg,e),updateUserDidItData:(0,I.bindActionCreators)(j.IU,e)}))),E.Z)((function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,m.ZP)();return(0,g.jsx)(D,{...e,i18n:o,logContextEvent:t,toastManagerContext:(0,T.F9)()})}));function O(e){if(!e)return null;const{details:t,images:o,image_signatures:n,id:i}=e;return{id:i,imageSignatures:n,notes:t,oldImageUrl:o[0]["200x"].url}}class L extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{onDoneStateChanged:t,pinActivityResource:o}=this.props;t&&t(e),e&&o&&o.refresh&&o.refresh()},(o="onDoneStateChanged")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:o,userDidItDataId:n,...i}=this.props;return!t||t&&t.isLoaded?(0,g.jsx)(l.xu,{rounding:2,children:(0,g.jsx)(R,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:O(t&&t.data),...i})}):(0,g.jsx)(s.Z,{})}}function F(e){const t=(0,r.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,g.jsx)(L,{...e,pinActivityResource:t})}function M(e){const t=(0,r.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,g.jsx)(L,{...e,pinActivityResource:t})}function B(e){return e.isDoneByMe&&e.userDidItDataId?(0,g.jsx)(M,{...e}):e.isDoneByMe?(0,g.jsx)(F,{...e}):(0,g.jsx)(L,{...e})}var N=o(802933),U=o(40613);const Z=(0,o(307061).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var G=o(121151);class H extends n.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,onHide:r,pinId:a,pinResource:c,pinTitle:d,userDidItDataId:u}=this.props;if(!c.isLoaded)return(0,g.jsx)(s.Z,{});const{title:_}=Z((0,U.Z)((0,N.Z)({pin:c.data})))||{},h=d||_?(0,i.Z)(this.props.i18n._('Add a photo of {{pinTitle}}', 'Adding photo of a pin', 'Adding photo of a pin'),{pinTitle:d||_}):this.props.i18n._('Add a photo', 'Adding a photo', 'Adding a photo');return(0,g.jsx)(G.ZP,{accessibilityModalLabel:h,heading:h,onDismiss:r,size:500,children:(0,g.jsx)(l.xu,{color:"white",rounding:2,display:"flex",justifyContent:"center",children:(0,g.jsx)(B,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,pinId:a,pinTitle:d||_,userDidItDataId:u})})})}}function V(e){const t=(0,m.ZP)(),o=(0,r.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,g.jsx)(H,{...e,pinResource:o,i18n:t})}var W=o(946984);function K(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class $ extends n.PureComponent{constructor(...e){super(...e),K(this,"state",{showModal:!1}),K(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),this.props.logContextEvent({event_type:101,view_type:101,component:this.props.thriftComponentType,element:1141,object_id_str:this.props.pinId,aux_data:{is_create:!this.props.isDoneByMe}})}))),K(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),this.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:this.props.pinId})})),K(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),K(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:o,onToggleModal:n}=this.props;this.setState({showModal:e},(()=>{e||o&&o("boolean"==typeof t&&t),n&&n(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:o={id:"",username:""},pinId:i="",pinTitle:s,userDidItDataId:r}=this.props;return(0,g.jsxs)(n.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,g.jsx)(V,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:i,pinTitle:null!=s?s:"",userDidItDataId:r}):null]})}}function Y(e){const{logContextEvent:t}=(0,_.v)(),o=(0,W.Z)();return(0,g.jsx)($,{...e,requireAuth:o,logContextEvent:t})}},755970:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(223815),s=o(934523),r=o(77601),l=o(883119),a=o(785893);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{animation:null,visible:!1}),c(this,"setRef",(e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))})),c(this,"handleDragOver",(()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,o=(0,r.Z)({window,duration:1/0,run:(e,o,n)=>{const i=o<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+i*t*n)}});o.start(),this.setState({animation:o})}})),c(this,"handleDragLeave",(()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))})),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout((()=>this.setState({visible:!0})),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:o}=this.state;return(0,a.jsx)(l.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,a.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:s.hu;return(0,a.jsx)(i.Z,{children:(0,a.jsx)(l.mh,{children:(0,a.jsxs)(l.xu,{children:[(0,a.jsx)(d,{placement:"top",height:120+t}),(0,a.jsx)(d,{placement:"bottom",height:120})]})})})}},283040:(e,t,o)=>{o.d(t,{Z:()=>d,y:()=>l});var n=o(667294),i=o(60598),s=o(708206),r=o(785893);const l={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const a={hover:({index:e,onDragHover:t},o,n)=>{t(e,function(e,t){const o=t.targetEl;if(!(o&&o instanceof HTMLElement))return null;const{x:n,y:i}=e.getClientOffset(),{left:s,right:r,top:l,bottom:a,width:c,height:d}=o.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(s+r)/2,y:i-(l+a)/2},boundingBox:{width:c,height:d}}}(o,n))}};class c extends n.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:o,isDragging:n,isDraggingInternal:i}=this.props;return t(o((0,r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:n||i?0:1},children:e})))}}const d=(0,s.compose)((0,i.GR)((e=>e.type),a,(e=>({connectDropTarget:e.dropTarget()}))),(0,i.Ej)((e=>e.type),{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},((e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}))))(c)},839045:(e,t,o)=>{o.d(t,{Lz:()=>n,TI:()=>i,X3:()=>s});function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function i({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){const n=o?.5*t:0;return Math.abs(e)<n/2?"center":e<0?"left":"right"}function s({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;const n="left"===t;return e<o===n?e:n?e-1:e+1}},678691:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(448272),i=o(263116),s=o(785893);const r=(0,i.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(89333),o.e(35978)]).then(o.bind(o,497e3)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 497e3}});function l(e){return(0,s.jsx)(r,{...e,fallback:(0,s.jsx)(n.Z,{})})}},448272:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},826242:(e,t,o)=>{o.d(t,{SF:()=>n,XU:()=>s,b7:()=>i});const n=5,i=5,s=1},164066:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(667294),i=o(319915),s=o(883119);const r={};function l(e){if(null!=e)return r[e]&&r[e].screenWidth===window.innerWidth||(r[e]={screenWidth:window.innerWidth,cache:s.Rk.createMeasurementStore()}),r[e].cache}var a=o(317254),c=o(49181),d=o(958111),u=o(391254),_=o(444445),h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends n.Component{constructor(...e){super(...e),p(this,"masonryRef",(0,n.createRef)()),p(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:o,paddingBottom:n}=this.getGutters();return(0,h.jsx)("div",{style:{paddingBottom:n,paddingLeft:o/2,paddingRight:o/2},children:(0,h.jsx)(t,{...e})})}))}componentDidUpdate(e){const{widthOffset:t}=this.props;t!==e.widthOffset&&this.masonryRef.current&&this.masonryRef.current.handleResize()}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,o="simplified"===t;return{gutterWidth:o?_.oX:e,paddingBottom:o?16:6}}render(){const{columnWidth:e,flexible:t,items:o,layout:n,loadItems:i,masonryRef:r,measurementStore:l,scrollContainer:a,serverRender:p,virtualize:m,isGridCentered:g,minCols:f}=this.props,{gutterWidth:x}=this.getGutters(),b=p?"serverRenderedFlexible":"flexible",y=(0,h.jsx)(s.Rk,{columnWidth:e+x,gutterWidth:0,comp:this.renderItem,minCols:f,ref:e=>{this.masonryRef.current=e,r&&(r.current=e)},items:o,layout:t?b:null!=n?n:"basic",loadItems:i,measurementStore:l,scrollContainer:a,virtualize:m});let v;return g&&(v="gridCentered"),(0,h.jsxs)("div",{className:v,children:[p&&(0,h.jsx)(u.Z,{unsafeCSS:t?(0,d.Z)((e||_.xf)+x,o.length||_.g5,f||_.yc):(0,c.Z)((e||_.xf)+x,o.length||_.g5,f||_.yc)}),(0,h.jsx)("div",{children:y})]})}}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}p(m,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:_.yc,paddingStyle:"simplified"});const f="undefined"!=typeof window?()=>window:void 0;class x extends n.Component{constructor(...e){super(...e),g(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,h.jsx)(i.Z,{name:"MasonryPerfTimingItem",children:(0,h.jsx)(t,{...e})})})),g(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;e||t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:o,gutterWidth:n,isGridCentered:i,items:s,layout:r,masonryRef:a,minCols:c,paddingStyle:d,scrollContainer:u,serverRender:_,virtualize:p,widthOffset:g}=this.props;return(0,h.jsx)(m,{columnWidth:t,comp:this.renderItem,flexible:o,gutterWidth:n,isGridCentered:i,items:s,layout:r,loadItems:this.loadItems,masonryRef:a,measurementStore:l(e),minCols:c,paddingStyle:d,scrollContainer:u||f,serverRender:_,virtualize:p,widthOffset:g})}}function b({cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isAtEnd:s,isFetching:r,isGridCentered:l=!0,isLoaded:c,items:d,pinData:u,layout:_,loadItems:p,masonryRef:m,minCols:g,paddingStyle:b,scrollContainer:y,serverRender:v=!0,virtualize:P,widthOffset:w,includeBackgroundImages:A,includeVideos:C}){return(0,h.jsx)(a.Z,{isAtEndOfFeed:s,pinData:u,itemCount:d.length,includeBackgroundImages:A,includeVideos:C,children:(0,h.jsx)(x,{cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isFetching:r,isGridCentered:l,items:d,layout:_,loadItems:p,masonryRef:m,minCols:g,paddingStyle:b,scrollContainer:y||f,serverRender:v,virtualize:P,widthOffset:w})})}},49181:(e,t,o)=>{function n(e=236,t=16,o=2){let n="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:i*e}px) and (max-width: ${(i+1)*e-1}px) {\n  .gridCentered {\n    width: ${i*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return n}o.d(t,{Z:()=>n})},958111:(e,t,o)=>{function n(e=300,t=16,o=2){let n=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:(i-1)*e}px) and (max-width: ${i*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${i}) !important;\n  }\n}\n`}return n}o.d(t,{Z:()=>n})},252867:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(667294),i=o(564194),s=o(768559),r=o(868565),l=o(342906),a=o(669027),c=o(883119),d=o(785893);const u={overlay:{__style:{backgroundColor:"#000"}}};function _(e){var t,o,i,s;const{pin:{id:r,images:_,title:h,videos:p,video_status_message:m}}=e,g=m||{},f=_&&_["236x"],x=p&&(null===(t=p.video_list)||void 0===t?void 0:t[a.K.V_HLSV4]),{duration:b}=x||{};return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.iP,{role:"link",href:`/pin/${r}`,rounding:2,children:[(0,d.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:2,children:[f&&(0,d.jsx)(c.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(i=f.width)&&void 0!==i?i:1,src:null!==(s=f.url)&&void 0!==s?s:""}),!!b&&(0,d.jsx)(c.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(l.Z,{duration:b})}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:u.overlay}),(0,d.jsxs)(c.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(c.X6,{color:"light",overflow:"normal",size:"400",children:g.title}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"light",size:"200",overflow:"normal",children:g.subtitle})})]})]}),(0,d.jsx)(c.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(c.xu,{flex:"grow",children:h&&(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:h})})})})]})})})}var h=o(623568),p=o(802201),m=o(925927),g=o(813401),f=o(910135),x=o(890473);function b({trackingParameters:e,pin:t,pinId:o,...l}){var a,c,u,b;const y=(0,m.TH)(),v=(0,p.S6)(),P=(o?v(o):null)||t,w=!(null===(a=P.story_pin_data)||void 0===a||!a.is_deleted),A=(0,s.Z)(P,y),C=(0,r.Z)(P),E=!!(C&&C.url&&C.height&&C.width)||void 0,j=C&&P.videos?P.videos.id:void 0,[T,I]=(0,n.useState)(!1),S=(0,n.useCallback)((()=>I(!w)),[w]),z=(0,n.useCallback)((()=>I(!1)),[]),k=(0,g.yz)(),{componentType:D,contextLogData:R,impressionAuxFields:O,slotIndex:L,viewData:F,viewParameter:M,viewType:B}=e;return(0,d.jsx)(i.Z,{componentType:D,contextLogData:{pwa_type:k,...R,...(0,x.Kl)(P,R)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:E,videoIdStr:j,clientTrackingParams:A||`${P.tracking_params||""}-0`,imageURL:null!==(c=null===(u=P.images)||void 0===u||null===(b=u["236x"])||void 0===b?void 0:b.url)&&void 0!==c?c:"",richTypes:(0,x.GT)(P)},impressionType:"Pin",isPaused:!T,loggingId:P.id,slotIndex:L,viewData:F,viewParameter:M,viewType:B,children:(0,h._J)(P)?(0,d.jsx)(_,{pin:P}):(0,d.jsx)(f.Z,{...l,debugImpressionState:T?"started":"paused",onError:z,onLoad:S,pin:P,pinId:o,trackingParameters:{componentType:D,contextLogData:R,slotIndex:L,viewParameter:M,viewType:B}})})}},26602:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(66699);const i=(e,t)=>`${e>0?(0,n.Z)(t.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', e, 'Label for the number of scheduled pins a user owns', 'Label for the number of scheduled pins a user owns'),{pinCount:e}):t._('0 Pins', 'zero scheduled pins', 'zero scheduled pins')} ‧ ${t._('Only visible to you', 'The explanatory text that the scheduled pin section is only visible to the profile owner', 'The explanatory text that the scheduled pin section is only visible to the profile owner')}`},184451:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(966338),s=o(26602),r=o(620006),l=o(717615),a=o(784590),c=o(19121),d=o(231947),u=o(349700),_=o(407043),h=o(898781),p=o(883119),m=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends n.Component{constructor(...e){super(...e),g(this,"renderScheduledPin",((e,t)=>{const o=Math.floor((e.scheduled_ts-(new Date).getTime()/1e3)/86400),i=(0,u.nk)(this.props.i18n._('{{ timeFromNow }}d', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days'),{timeFromNow:o}),s=`+ ${t}`,r=t>0?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.5,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsx)(p.xu,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",weight:"bold",children:s})})]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.1,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsxs)(p.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"start",left:!0,paddingX:3,paddingY:2,position:"absolute",width:"100%",children:[(0,m.jsx)(p.JO,{accessibilityLabel:this.props.i18n._('scheduled time', 'Time scheduled for publishing the pin', 'Time scheduled for publishing the pin'),color:"white",icon:"clock",size:12}),(0,m.jsx)(p.xu,{display:"inlineBlock",marginStart:1,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",children:i})})]})]}),{image:l,title:a=""}=e,c=l&&l["236x"];return(0,m.jsxs)(n.Fragment,{children:[c&&(0,m.jsx)(p.Ee,{alt:a,color:"lightGray",fit:"cover",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),r]})})),g(this,"renderEmtpyPlaceholder",(()=>(0,m.jsx)(p.xu,{color:"lightGray",height:"100%",width:"100%"})))}render(){const{username:e,pinResource:{isLoaded:t},pins:o}=this.props;if(!t||!o||0===o.length)return null;const n=o.length;return(0,m.jsx)(p.xu,{marginBottom:10,children:(0,m.jsxs)(p.W2,{children:[(0,m.jsx)(r.Z,{label:this.props.i18n._('Scheduled Pins', 'Title for the scheduled Pin section under the pin tab of profile page', 'Title for the scheduled Pin section under the pin tab of profile page'),sublabel:(0,s.Z)(n,this.props.i18n)}),(0,m.jsx)(p.iP,{role:"link",href:`/${e}/scheduled-pins/`,rounding:4,children:(0,m.jsx)(p.xu,{"data-test-id":"scheduled-pins-nav-link",height:126,marginStart:3,marginEnd:3,overflow:"hidden",rounding:4,children:Array(6).fill().map(((e,t)=>(0,m.jsx)(p.xu,{display:"inlineBlock",height:126,marginEnd:5===t?0:1,overflow:"hidden",position:"relative",width:126,children:t<n?this.renderScheduledPin(o[t],5===t?n-6:0):this.renderEmtpyPlaceholder()},t)))})})]})})}}function x(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,c.Z)(),s=(0,l.Z)(),r={orbac_subject_id:(0,d.lJ)(n,s)||void 0},u=(0,a.Z)({name:"ScheduledPinsResource",options:r}),p=(0,i.useSelector)((e=>e.scheduledPins));return(0,m.jsx)(f,{...e,i18n:o,pinResource:u,pins:p,logContextEvent:t})}},669027:(e,t,o)=>{o.d(t,{K:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},526524:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(823493),s=o.n(i);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends n.PureComponent{constructor(...e){super(...e),r(this,"setContainerRef",(e=>{this.containerRef=e})),r(this,"fetchMoreIfNecessary",s()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},n)=>e+t+(n?n(t):2*t)>o)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},722621:(e,t,o)=>{o.d(t,{N:()=>d,Z:()=>_});var n=o(66699),i=o(941646),s=o(898781),r=o(349700),l=o(883119),a=o(785893);const c={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){const t=(0,s.ZP)(),{helpfulCount:o,isMarkedHelpfulByMe:n,onHelpfulClick:i}=e,d=t._('Helpful', 'Comments marked helpful text.', 'Comments marked helpful text.'),u=(0,r.nk)(t._('Helpful {{helpfulCount}}', 'Comments marked helpful count text.', 'Comments marked helpful count text.'),{helpfulCount:o||0});return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:i,rounding:2,children:(0,a.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:c,color:n?"red":"gray",size:16}),(0,a.jsx)(l.xu,{paddingX:1,children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:void 0!==o&&o>0?u:d})})]})})})}function u(e){const{likeCount:t,isLikedByMe:o,onLikeClick:n}=e;return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:n,rounding:2,children:(0,a.jsxs)(l.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"like icon",icon:"heart",color:o?"red":"gray",size:16}),t>0&&(0,a.jsx)(l.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:t})})]})})})}function _(e){const t=(0,s.ZP)(),{commentCount:o=0,reactionCounts:r={},hideReplyCount:c,isLikedByMe:_=!1,onLikeClick:h,onReplyClick:p,onReplyCountClick:m,isMarkedHelpfulByMe:g,onHelpfulClick:f,helpfulCount:x,flyout:b,small:y}=e,v=r[1]||0,P=!!o&&(0,n.Z)(t.ngettext('{{commentCount}} reply', '{{commentCount}} replies', o, ' - ', ' -- '),{commentCount:o}),w=y?1:2;return(0,a.jsxs)(l.kC,{alignItems:"center",children:[(0,a.jsxs)(l.xu,{display:"flex",marginStart:-w,marginEnd:-w,children:[(0,a.jsx)(u,{likeCount:v,isLikedByMe:_,onLikeClick:h}),(0,a.jsx)(l.xu,{paddingX:w,children:(0,a.jsx)(i.Z,{id:"reactions-reply",children:(0,a.jsx)(l.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:p,size:y?"sm":"md"})})}),!!b&&(0,a.jsx)(l.xu,{paddingX:w,children:b})]}),(0,a.jsxs)(l.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!P&&!c&&(0,a.jsx)(i.Z,{id:"reactions-reply-count",children:(0,a.jsx)(l.xu,{paddingX:3,children:m?(0,a.jsx)(l.iP,{onTap:m,rounding:2,children:(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:P})}):(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:P})})}),(0,a.jsx)(d,{helpfulCount:x,isMarkedHelpfulByMe:g,onHelpfulClick:f})]})]})}},40613:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},372063:(e,t,o)=>{o.d(t,{Cq:()=>h,Dk:()=>m,Fk:()=>s,bI:()=>i,fS:()=>_,gw:()=>d,j1:()=>u,km:()=>p,lI:()=>l,lJ:()=>r,mS:()=>c,qW:()=>a});var n=o(883119);const i=new n.Ry(0),s=new n.Ry(1),r=3,l=new n.Ry(r),a=2,c=new n.Ry(a),d=new n.Ry(3),u=new n.Ry(3),_=3,h=4,p=new n.Ry(5),m=new n.Ry(100)},35934:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(966338),s=o(116303),r=o(70598),l=o(326015),a=o(883119),c=o(5226),d=o(785893);function u({isSelf:e,showVerified:t=!1,user:o={}}){const[u,_]=(0,n.useState)(o.explicitly_followed_by_me||!1),h=(0,i.useDispatch)(),{domain_verified:p,full_name:m,is_verified_merchant:g,username:f}=o,x=o.image_key||o.image_medium_url||o.image_small_url;return(0,d.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,d.jsx)(a.xu,{flex:"grow",paddingX:1,children:(0,d.jsx)(a.iP,{role:"link",href:`/${f}/`,children:(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,d.jsx)(a.xu,{width:50,children:(0,d.jsx)(s.Z,{name:m,src:x,size:"fit"})}),(0,d.jsx)(a.xv,{weight:"bold",children:t&&(g||p)?(0,d.jsx)(l.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=m?m:"",identityIsVerified:p,isVerifiedMerchant:g}):m})]})})}),(0,d.jsx)(a.xu,{paddingX:1,children:(0,d.jsx)(r.Z,{followEventType:45,id:o.id,isFollowed:u,isUserMe:Boolean(e),onFollow:e=>{h((0,c.ZN)(e)),_(!0)},onUnfollow:e=>{h((0,c.fv)(e)),_(!1)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},467119:(e,t,o)=>{o.d(t,{GY:()=>r,LM:()=>a,h9:()=>c,r$:()=>l});var n=o(305689),i=o(909499);const s=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function r({query:e,scope:t}){return`${e}-${t}`}function l({query:e,rs:t,scope:o},s){const r=(0,n.Hb)(),l=!r.view_type&&!r.view_parameter,a=(0,i.wF)(o);if(!l&&a){const{view_type:o,view_parameter:n}=r;s({event_type:a,view_type:o,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?s({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&s({event_type:101,component:0,element:10349,view_type:142})}const a=(e=[])=>{let t=!0;return e.reduce(((e,o)=>{var n;return t&&o.story_type&&s.includes(o.story_type)&&0===(null===(n=o.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(o):(t=!1,e.filteredResults.push(o)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},285970:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var n=o(667294),i=o(966338),s=o(898781),r=o(883119),l=o(454071),a=o(785893);function c(e){const t=(0,s.ZP)();return(0,a.jsx)(l.Z,{thriftComponentType:172,...e,children:({onTriedItButtonClick:o})=>(0,a.jsx)(r.zx,{onClick:({event:e})=>o(e),text:t._('Add', 'Add a try to a pin', 'Add a try to a pin'),disabled:e.isDoneByMe})})}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isDoneByMe:!1}),d(this,"handleModalStateChanged",(e=>this.setState({isDoneByMe:e})))}render(){var e,t,o,n,i,s,l,d,u;const{loggedInUser:_,pin:h}=this.props,p=`/pin/${h.id}/`,m=null===(e=h.images)||void 0===e||null===(t=e["136x136"])||void 0===t?void 0:t.url,g=null===(o=h.images)||void 0===o||null===(n=o["136x136"])||void 0===n?void 0:n.height,f=null===(i=h.images)||void 0===i||null===(s=i["136x136"])||void 0===s?void 0:s.width,x=h.rich_summary&&h.rich_summary.display_name||h.description,b={aggregatedPinDataId:null===(l=h.aggregated_pin_data)||void 0===l?void 0:l.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:_,onDoneStateChanged:this.handleModalStateChanged,pinId:h.id,pinTitle:x};return(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,a.jsxs)(r.xu,{column:10,display:"flex",alignItems:"center",children:[(0,a.jsx)(r.xu,{column:2,children:(0,a.jsx)(r.iP,{role:"link",href:p,rounding:2,children:(0,a.jsx)(r.zd,{rounding:2,wash:!0,children:(0,a.jsx)(r.Ee,{alt:null!==(d=h.title)&&void 0!==d?d:"",color:null!==(u=h.dominant_color)&&void 0!==u?u:"#fff",naturalHeight:null!=g?g:1,naturalWidth:null!=f?f:1,src:null!=m?m:""},m)})},p)}),(0,a.jsx)(r.xu,{column:10,paddingX:2,children:(0,a.jsx)(r.xv,{weight:"bold",children:(0,a.jsx)(r.rU,{href:p,children:x})},p)})]}),(0,a.jsx)(r.xu,{column:2,children:(0,a.jsx)(c,{...b})})]})}}var _=o(784590);function h({loggedInUser:e}){const t=(0,s.ZP)(),o=(0,_.Z)({name:"UserPinsResource",options:{prepend:!1,username:e.username,field_set_key:"did_it_grid_item",page_size:10}});t._('Tried any of these? Add a photo:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved');const n=(e=>e.isLoaded?e.data.filter((e=>e.is_whitelisted_for_tried_it)):[])(o).slice(0,5);return(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.$j,{show:!o.isLoaded,accessibilityLabel:t._('Pins to try are loading', ' - ', ' -- ')}),o.isLoaded&&(0,a.jsxs)(r.W2,{children:[(0,a.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:6,children:[(0,a.jsxs)(r.xv,{align:"center",weight:"bold",children:[" ",t._('Pins you try live here', ' - ', ' -- ')," "]}),(0,a.jsx)(r.xu,{column:12,mdColumn:6,children:(0,a.jsx)(r.xv,{align:"center",color:"subtle",weight:"bold",children:t._('Add notes and photos to recipes you made, places you traveled and other ideas you tried', ' - ', ' -- ')})})]}),!!n.length&&(0,a.jsxs)(r.xu,{column:12,display:"flex",paddingY:6,children:[(0,a.jsx)(r.xu,{display:"none",mdColumn:1,mdDisplay:"flex"}),(0,a.jsxs)(r.xu,{column:12,mdColumn:10,children:[(0,a.jsx)(r.xu,{margin:1,paddingY:2,children:(0,a.jsx)(r.xv,{weight:"bold",children:t._('Tried any of these? Add a photo or note:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved')})}),n.map((t=>(0,a.jsx)(u,{pin:t,loggedInUser:e},t.id)))]})]})]})]})}var p=o(556023),m=o(966113),g=o(700380),f=o(430323),x=o(499128),b=o(407043),y=o(343341),v=o(304903);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.Component{constructor(...e){super(...e),P(this,"removeReportedActivity",(e=>{const{toastManagerContext:t}=this.props;t.showToast((({hideToast:e})=>(0,a.jsx)(x.ZP,{duration:3e3,href:m.Z.settings.POLICY_COMMUNITY_GUIDELINES,onHide:e,text:this.props.i18n._('Thanks! We\u2019ll take this down if it goes against our guidelines.', 'Statement that a tried item has successfully been reported', 'Statement that a tried item has successfully been reported')})))})),P(this,"handleScroll",(0,g.Z)((()=>{const{didItUserFeedResource:{isFetching:e,isAtEnd:t}}=this.props;if(e||t)return;const o=(0,v.Uy)(window);(0,v.aZ)(window)-(0,v.S$)()-200<o&&this.fetchMoreData()}),100))}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.logContextEvent({event_type:13,view_type:4,view_parameter:3071})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}fetchMoreData(){const{didItUserFeedResource:{isFetching:e,isAtEnd:t,fetchMore:o}}=this.props;e||(t?window.removeEventListener("scroll",this.handleScroll):o())}render(){const{feedItems:e,i18n:t,isOwnProfile:o,didItUserFeedResource:{isLoaded:n},triedItUser:i}=this.props;if(!n)return(0,a.jsx)(r.W2,{children:(0,a.jsx)(r.xu,{margin:6,children:(0,a.jsx)("div",{className:"loadingSpinner",children:(0,a.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Tried it feed', ' - ', ' -- '),show:!0})})})});const s=o?3106:3107;return!e.length&&o?(0,a.jsx)(h,{loggedInUser:i}):(0,a.jsx)(r.W2,{children:(0,a.jsx)(f.Z,{view:4,viewParameter:s,component:212,children:(0,a.jsx)(r.xu,{display:"flex",column:12,justifyContent:"center",children:(0,a.jsxs)(r.xu,{column:12,mdColumn:10,children:[o&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{align:"center",size:"300",children:t._('Your Tried Pins are only visible to you', 'didItProfileFeed.render.triedItEducation', 'Message letting user know that tried pins are visible only to self')})}),e.map((e=>(0,a.jsx)(r.xu,{children:(0,a.jsx)(p.Z,{didItDataId:e.id,removeReportedActivity:this.removeReportedActivity,viewType:4})},e.id)))]})})})})}}function A(e){const{logContextEvent:t}=(0,b.v)(),o=(0,s.ZP)(),n=(0,y.F9)(),r=(0,i.useSelector)((({feeds:{userDidItData:t={}}})=>(t[e.triedItUser.username]||[]).reduce(((e,t)=>"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e),[]))),l=(0,_.Z)({name:"DidItUserFeedResource",options:{username:e.triedItUser.username,redux_normalize_feed:!0},noCache:!0});return(0,a.jsx)(w,{...e,didItUserFeedResource:l,feedItems:r,toastManagerContext:n,i18n:o,logContextEvent:t})}var C=o(767790),E=o(19121),j=o(925927),T=o(953192);function I(){const e=(0,C.Z)(),t=(0,E.Z)(),{username:o}=(0,j.UO)();return(0,T.S)(o,e.data?e.data.id:null,13671),e.data?(0,a.jsx)(A,{isOwnProfile:!(!t.isAuth||!t.username)&&t.username===o,triedItUser:e.data}):null}},745091:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function l({onDeleteConfirmation:e,didItData:t}){const o=(0,i.ZP)(),l=t&&t.id,a=o._('Are you sure?', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:o._('Are you sure you want to delete the did it photo?', 'Label for a modal showing to confirm deleting a did it photo', 'Label for a modal showing to confirm deleting a did it photo'),heading:a,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,r.jsxs)(s.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:o._('Cancel', 'Cancel the deleting data in a modal form', 'Cancel the deleting data in a modal form')})}),(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:()=>e(l),size:"lg",text:o._('Delete', 'Confirmation of deleting data', 'Confirmation of deleting data')})})]}),children:(0,r.jsx)(s.xu,{paddingX:4,paddingY:2,children:(0,r.jsx)(s.xv,{children:o._('This will remove this photo', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data')})})})}},91564:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",color:"white",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},556023:(e,t,o)=>{o.d(t,{Z:()=>ke});var n=o(667294),i=o(966338),s=o(745091),r=o(898781),l=o(454071),a=o(883119),c=o(785893);function d(e){const t=(0,r.ZP)();return(0,c.jsx)(l.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,c.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,children:(0,c.jsx)(a.xv,{weight:"bold",children:t._('Save', 'comment save button', 'comment save button')})})})})}var u=o(428837),_=o(121151),h=o(6637),p=o(66699);const m="__SafeLinkFlag__",g=({html:e,onClick:t})=>{const o=t||null,n=[],i=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(n.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),m)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,o)=>(n.push({url:t,text:o}),m)));return(0,c.jsx)(a.xu,{"data-test-id":"safe-link",children:i.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let i=e;if(e===m&&n.length){const{url:e,text:t}=n.shift();i=(0,c.jsx)(a.rU,{onClick:o||void 0,href:e,inline:!0,underline:"hover",children:t})}return(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",inline:!0,children:i},t)}))})};var f=o(807068);function x(e){var t;const{item:{images:o,pin:n}}=e,i=o.length>0,s=i?o[0]["750x"]:null;if(!i||!s)return null;const r=o[0]["750x"].url;return(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!==(t=n.title)&&void 0!==t?t:"",src:r,color:"#efefef",naturalWidth:s.width,naturalHeight:s.height},r)})}var b=o(102243),y=o(19121),v=o(708206),P=o(434190),w=o(105265),A=o(941646);const C=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:o,detail:n,heading:i,onConfirm:s,onDismiss:r})=>(0,c.jsx)(_.ZP,{accessibilityModalLabel:e,heading:i,onDismiss:r,size:"md",children:(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{padding:4,children:(0,c.jsx)(a.xv,{children:n})}),(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-cancel",children:(0,c.jsx)(a.zx,{fullWidth:!0,onClick:r,text:t})})}),(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-confirm",children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{s(),r()},text:o})})})]})]})});var E=o(367216),j=o(678691),T=o(761627),I=o(826242),S=o(407043),z=o(957885);function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const D={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class R extends n.Component{constructor(...e){super(...e),k(this,"state",{...D,tags:this.props.tags||[],textValue:this.props.text||"",isEmojiTrayOpen:!1}),k(this,"handleFocus",(()=>{this.props.onEnter()})),k(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&this.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});const o=(this.props.text||"")!==e;this.setState({isTextChanged:o,textValue:e,tags:t,userMentionOverLimitError:t.length>I.b7})})),k(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState({submissionInProgress:!1})})),k(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),this.handleOnClickPostFinal())})),k(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState(D)})),k(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(D),e()})),k(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),k(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e,isEmojiTrayOpen:!1})})),k(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,o;return"textInFlightEdit"===e?(t=this.props.i18n._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'),o=this.props.i18n._('Discard changes', 'Clear edits', 'Clear edits')):(t=this.props.i18n._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),o=this.props.i18n._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment')),(0,c.jsx)(C,{accessibilityModalLabel:this.props.i18n._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),heading:this.props.i18n._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:this.props.i18n._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:o,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),k(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}get isAggregatedComment(){const{objectType:e}=this.props;return e===P.o.pin||e===P.o.didIt||e===P.o.aggregatedComment}render(){const{avatarSize:e,replyToObject:t,privatePin:o,statusType:n,viewingUser:i}=this.props,{isTextChanged:s,isEmojiTrayOpen:r,showConfirmDiscardModal:l,submissionInProgress:d,tags:u,textValue:_,userMentionOverLimitError:h}=this.state,p={background:"transparent",border:"0",display:s?"inline-block":"block",minHeight:"textStaticDisplay"===n?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[m,g]=this.getReplyToEntity(t),f=(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{color:"error",size:"100",align:"end",children:(0,z.bl)(!1,this.props.i18n)})});let x,b;x=this.isAggregatedComment&&o?this.props.i18n._('Add a public comment', 'Add a comment', 'Add a comment'):this.isAggregatedComment?this.props.i18n._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'):this.props.i18n._('Reply', 'Adding text to a community comment', 'Adding text to a community comment'),b=this.isAggregatedComment?this.props.i18n._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):this.props.i18n._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment');const y=s;return"textInflightCreation"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(j.Z,{focusOnMount:!0,initialMentions:g,initialText:m,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:r,placeholder:x,privatePin:o})})]}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(A.Z,{id:"activity-item-create-cancel",children:(0,c.jsx)(a.zx,{color:"gray",onClick:y?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')})}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(A.Z,{id:"activity-item-create-submit",children:(0,c.jsx)(a.zx,{color:"red",disabled:!s||d||!_.length,onClick:this.handleOnClickPost,text:b})})})]})]}),l&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(j.Z,{focusOnMount:!0,initialMentions:u,initialText:_,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:x})})}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(a.zx,{color:"gray",onClick:y?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(a.zx,{color:"red",disabled:this.isSubmitEditDisabled()||d,onClick:this.handleOnClickEdit,text:this.props.i18n._('Save', 'comment save button', 'comment save button')})})]})]}),l&&this.renderConfirmDiscardModal()]}):(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,c.jsx)("div",{"aria-label":this.props.i18n._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,c.jsxs)(a.xu,{column:12,display:"flex",children:[(0,c.jsx)(a.xu,{width:48,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:[(0,c.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:x,rows:1,style:p}),(0,c.jsx)(E.Z,{isEmojiTrayOpen:r,onClick:()=>{this.setState({isEmojiTrayOpen:!r})}})]})]})})})}}k(R,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const O=(0,T.Z)((function(e){const{logContextEvent:t}=(0,S.v)(),o=(0,r.ZP)(),n=(0,y.Z)(),i=n.isAuth?{image_medium_url:n.imageMediumUrl,type:"user",username:n.username,full_name:n.fullName,first_name:"",id:""}:{};return(0,c.jsx)(R,{...e,i18n:o,viewingUser:i,logContextEvent:t})}));var L=o(608360),F=o(541044),M=o(298361),B=o(986644);function N({createdAt:e,user:t,isHighlighted:o}){const n=(0,r.ZP)(),i=(0,M.Z)(),s=(0,c.jsx)(a.xv,{color:"subtle",size:"200",children:(0,B.A7)(e,n,i)}),l=(0,c.jsxs)(a.xv,{color:"subtle",size:"200",children:["· ",n._('Highlighted', 'pin.comments.highlight', 'Identifier for highlighted comments')]});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:(0,c.jsx)(a.rU,{href:`/${t.username}/`,children:(0,B.YD)(t)})})}),(0,c.jsx)(a.xu,{paddingX:1,children:s}),o&&(0,c.jsx)(a.xu,{paddingX:1,children:l})]})}var U=o(857079),Z=o(722621),G=o(947599),H=o(123630),V=o(402039),W=o(199939),K=o(784590),$=o(283855);const Y=(0,n.lazy)((()=>o.e(52867).then(o.bind(o,252867))));function q({allowLink:e=!1,avatarSize:t="sm",commentCount:o,contentImage:i,contentImageSignature:s,contentText:l,flyout:d,handleOnEditCancel:u,handleOnEdited:_,handleHelpfulClick:h,handleLikeClick:p,handleLikeCountClick:m,handleReplyClick:g,handleReplyCountClick:f,helpfulCount:x,hideAddObjects:b,hideReplyCount:y,inEditMode:v,isHighlighted:P,isLikedByMe:C,isMarkedHelpfulByMe:E,isPlainComment:j,parentObject:T,pins:I,reactionCounts:S,responsePin:z,slotIndex:k,taggedUsers:D,tags:R,truncateText:L,commentId:F,createdAt:M,commentAuthor:B,type:q,isORBACProfileManager:X}){const Q=(0,$.K)(),J=(0,r.ZP)(),[ee,te]=(0,n.useState)(F===Q),{isLoaded:oe}=(0,K.Z)({name:"PinResource",dangerouslyDisableFetch:!z,options:{id:null==z?void 0:z.id,field_set_key:"detailed"}});(0,n.useEffect)((()=>{F===Q&&V.Z.setTimeout((()=>{te(!1)}),1500)}),[]);const ne=oe&&!!z;return(0,c.jsx)(A.Z,{id:"canonical-comment",children:(0,c.jsxs)(a.xu,{display:"flex",marginBottom:j?4:0,children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:B,size:t})}),(0,c.jsxs)(a.xu,{flex:"grow",marginStart:2,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderColor:v?"transparent":void 0,transition:"1000ms",backgroundColor:ee?"lightGray":null}},borderStyle:"sm",padding:v?0:3,rounding:4,children:v?(0,c.jsx)(O,{addedObjects:I,addedImage:i,hideAddObjects:b,imageSignature:s,objectType:q,onAddItem:()=>{},onCancelItem:u,onEditItem:_,onEnter:()=>{},parentObjectId:T.id,statusType:"textInFlightEdit",tags:R,text:l,widthAuto:!0}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(N,{createdAt:M,user:B,isHighlighted:P}),L?(0,c.jsx)(W.Z,{allowLink:e,allowReveal:!0,size:"sm",taggedUsers:D,tags:R,text:l}):(0,c.jsx)(H.Z,{allowLink:e,size:"sm",tags:R,taggedUsers:D,text:l}),z&&ne&&(0,c.jsx)(G.Z,{fallback:(0,c.jsx)(U.Z,{accessibilityLabel:J._('Loading comment reply Pin preview', 'Loading pin previews for comment reply comments component', 'Loading pin previews for comment reply comments component')}),children:(0,c.jsx)(a.xu,{marginTop:1,maxWidth:"21%",children:(0,c.jsx)(Y,{pinId:z.id,surface:"CommentReply",trackingParameters:{slotIndex:k}})})})]})}),!X&&!ne&&!v&&!j&&(0,c.jsx)(a.xu,{padding:1,children:(0,c.jsx)(Z.Z,{commentCount:o,flyout:v?null:d,hideReplyCount:y,isLikedByMe:C,onLikeClick:p,onLikeCountClick:m,onReplyClick:g,onReplyCountClick:f,reactionCounts:S,isMarkedHelpfulByMe:E,onHelpfulClick:h,helpfulCount:x,small:!0})})]})]})})}var X=o(458237),Q=o(499128),J=o(395129),ee=o(984644),te=o(394107),oe=o(166047),ne=o(260923),ie=o(379725),se=o(366428),re=o(349700),le=o(623568),ae=o(844949),ce=o(343341),de=o(495855);const ue=({aggregatedCommentId:e,apdId:t,creatorId:o,depth:s,didItOwnerId:l,isManagedView:d,objectType:u,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,slotIndex:x,viewerId:b,showHighlightEducator:y,numHighlights:v,canSetHighlight:w,isORBACProfileManager:A})=>{const{logContextEvent:E}=(0,S.v)(),j=(0,r.ZP)(),{isLoaded:T}=(0,K.Z)({name:"PinResource",options:{id:f,field_set_key:"detailed"}}),{showToast:I}=(0,ce.F9)(),{reportComment:z}=(0,ae.f)(),[k,D]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!1),[B,N]=(0,n.useState)(!1),[U,Z]=(0,n.useState)(!1),[G,H]=(0,n.useState)(!1),[V,W]=(0,n.useState)(!1),$=(0,i.useDispatch)();(0,n.useEffect)((()=>{$((0,ie.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[$,e]),(0,n.useEffect)((()=>{h&&h()}),[h]);const Y=(0,i.useSelector)((({pins:e})=>{if(!f)return"";const t=e[f];let o="pin";if(t){const e=(0,le.iR)(t.videos);t.story_pin_data_id?o="story":e&&(o="video")}return o})),ue=(0,i.useSelector)((({aggregatedComments:t})=>t[e]));if(!ue||!ue.user)return null;const{comment_response_pin:_e,comment_count:he,created_at:pe,helpful_count:me,marked_helpful_by_me:ge,reaction_by_me:xe,reaction_counts:be,tagged_users:ve,tags:Pe,text:we,user:{id:Ae,username:Ce},highlighted_by_pin_owner:Ee}=ue,je=s===fe,Te=be[1],Ie=()=>{$((0,de.f9)({aggregatedCommentId:e,isLikedByMe:!!xe}))},Se=()=>{$((0,de.Pd)({aggregatedCommentId:e,isMarkedHelpfulByMe:!!ge}))},ze=t=>(0,c.jsx)(a.zx,{text:j._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{$((0,de.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:t}))}},"button-key"),ke=()=>{v&&v>=3?I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:j._('Only 3 comments can be highlighted', 'closeup.pinActionDropDown.commentHighlightMaxNumberToast', 'Toast that tells user that at most 3 comments can be highlighted.')}))):($((0,de.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:!1})),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:j._('Comment highlighted', 'closeup.pinActionDropDown.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.'),button:ze(!0)}))))},De=()=>{$((0,de.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:!0})),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:j._('Highlight removed', 'closeup.pinActionDropDown.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'),button:ze(!1)})))},Re=()=>{N(!B)},Oe=()=>{D(!0)},Le=()=>{D(!1)},Fe=t=>{$((0,de.SL)({commentId:e,tags:t.tags,text:t.contentMarkdown})),D(!1)},Me=()=>{$((0,ne.Q)(e)),E({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:b,tag_type:1}}),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:j._('@mention removed!', 'closeup.pinActionDropDown.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in another user\'s Pin description')})))},Be=()=>{Z(!0)},Ne=()=>{H(!0)},Ue=()=>{W(!0)},Ze=()=>{Z(!1),H(!1),W(!1)},Ge=()=>{z(e,null,null)},He=()=>{const e=[Ae,o,l,g].includes(b),t=b===Ae,n=b!==Ae,i=b!==Ae,s=ve.filter((({id:e})=>e===b)).length>0;return(0,c.jsx)(L.Z,{handleBlockUser:i?Ue:null,handleClickReport:n?Ge:null,handleDelete:e?Be:null,handleOnEdit:t?Oe:null,handleRemoveMention:s?Me:null,handleHighlight:w&&!Ee?ke:null,handleRemoveHighlight:w&&Ee?De:null,showHighlightEducator:y,small:!0})};return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(se.F,{contextLogData:{objectId:ue.id},impressionAuxFields:{commentId:ue.id,pinId:f,pinType:Y,parentId:m,parentType:u,commentType:P.o.aggregatedComment},componentType:u===P.o.pin?13696:13697,impressionType:"Comment",isPaused:!T,loggingId:ue.id,slotIndex:x,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,c.jsx)(q,{avatarSize:je?"sm":"md",commentAuthor:ue.user,commentCount:he,commentId:e,contentText:we,createdAt:pe,flyout:He(),handleHelpfulClick:Se,handleLikeClick:Ie,handleLikeCountClick:Ne,handleOnEditCancel:Le,handleOnEdited:Fe,handleReplyClick:Re,helpfulCount:me,hideAddObjects:!0,hideReplyCount:!0,inEditMode:k,isHighlighted:Ee,isLikedByMe:!!xe,isMarkedHelpfulByMe:ge,parentObject:{id:m},reactionCounts:be,responsePin:_e,slotIndex:x,taggedUsers:ve,tags:Pe,truncateText:!0,type:P.o.aggregatedComment,isORBACProfileManager:A})})}),B&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:je?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,c.jsx)(a.xu,{display:"flex",marginTop:2,children:(0,c.jsx)(a.xu,{flex:"grow",children:(0,c.jsx)(O,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:o})=>{let n,i=e;Re(),M(!0),je&&(i=m,n=e),await $((0,oe.n)({objectType:P.o.aggregatedComment,objectId:i,tags:o,text:t,replyToCommentId:n})),M(!1)},onCancelItem:Re,onEnter:()=>{},objectType:P.o.aggregatedComment,parentObjectId:m,replyToObject:je?ue:null,statusType:"textInflightCreation"})})})}),he>0&&(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,c.jsx)(ye,{baseIndex:x+1,commentCount:he,creatorId:o,didItOwnerId:l,depth:s,isManagedView:d,objectId:e,objectType:P.o.aggregatedComment,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,variant:"legacy",isORBACProfileManager:A}),(0,c.jsx)(a.$j,{accessibilityLabel:j._('Comments loading', ' - ', ' -- '),show:R})]}),U&&(0,c.jsx)(C,{accessibilityModalLabel:j._('Deleting a comment', 'closeup.deleteCommentModal.label', 'Label for deleting a comment'),heading:j._('Are you sure?', 'closeup.deleteCommentModal.heading', 'Are you sure to remove post or comment'),cancelButtonText:j._('Cancel', 'closeup.deleteCommentModal.cancelButton', 'Cancel deleting comment'),confirmButtonText:j._('Delete', 'closeup.deleteCommentModal.confirmButton', 'Delete comment'),detail:j._('This comment will be deleted', 'closeup.deleteCommentModal.detailText', 'confirmation before deleting comment'),onConfirm:()=>{$((0,X.Z)({aggregatedCommentId:e,aggregatedPinId:t,feedType:"aggregatedComments",type:je?te.Rv.REPLY_TO_AGGREGATED:te.Rv.TOP,parentId:m,updateParentCommentCount:!0}))},onDismiss:Ze}),G&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:j._('Users who have liked this.', 'closeup.comment.showLikeListModal.label', 'Label for a modal showing a list of users who have liked a Tried Item Comment'),heading:(0,p.Z)(j.ngettext('{{count}} Like', '{{count}} Likes', Te, 'closeup.comment.showLikeListModal.heading', 'Number of likes a comment has'),{count:Te.toString()}),onDismiss:Ze,size:"md",children:(0,c.jsx)(J.Xd,{id:e})}),V&&(0,c.jsx)(F.Z,{firstName:Ce,onBlockUser:()=>{$((0,ee.G)(Ae)),Ze(),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:(0,re.nk)(j._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:Ce}).join("")})))},onClearModal:Ze})]})};var _e=o(322741),he=o(829407),pe=o(826067),me=o(925927),ge=o(281615);const fe=2,xe=({baseIndex:e=0,commentCount:t,creatorId:o,depth:s=0,didItOwnerId:l,feedItems:d,feedResourceName:u,initialLoadCount:_,isManagedView:h,objectId:p,objectType:m,onUpdate:g,parentObjectId:f,pinDomainOwnerId:x,pinId:b,privatePin:v,shouldFeatureComment:w=!1,variant:A,isORBACProfileManager:C})=>{var E,j;const{logContextEvent:T}=(0,S.v)(),I=(0,r.ZP)(),[z,k]=(0,n.useState)(!1),[D,R]=(0,n.useState)(!1),L=(0,y.Z)(),F=(0,$.K)(),M=(0,me.TH)(),{comment_is_hidden:B="0"}=(0,pe.mB)(M.search),N=1===parseInt(B,10),{showOneToast:U}=(0,ce.F9)();(0,he.Z)((()=>{if(F&&N&&w){const e=I._('Sorry, the comment has been hidden', 'AggregatedCommentList.featuredComment.isHidden', 'Error message for featured comment is unavailable');U((({hideToast:t})=>(0,c.jsx)(Q.ZP,{onHide:t,text:e})))}}));const Z=(0,i.useDispatch)(),{fetchMore:G,isAtEnd:H,isLoaded:V}=(0,K.Z)({name:u,options:{objectId:p,page_size:_||2,redux_normalize_feed:!0,featured_ids:w&&F&&!N?[F]:null}}),W=(0,i.useSelector)((({pins:e})=>b?e[b]:null)),Y=W&&W.pinner?W.pinner.id:"",q=!!W&&W.story_pin_data_id,X=null!==(E=null==W||null===(j=W.aggregated_pin_data)||void 0===j?void 0:j.id)&&void 0!==E?E:"";(0,n.useEffect)((()=>{V&&g&&g()}),[V,g]);const J=()=>{k(!z)},ee=!!d&&V&&t>d.length&&!H,te=d?t-d.length:0,ne=(0,re.nk)(I.ngettext('{{commentCount}} comment', '{{commentCount}} comments', te, 'Show comments link with count', 'Show comments link with count'),{commentCount:String(te)}).join(""),ie=m===P.o.aggregatedComment,se=m===P.o.pin&&(d&&0===d.length||0===t)&&V&&!D,le="default"===A,ae=0===s,de=ae&&W&&W.highlighted_aggregated_comments?W.highlighted_aggregated_comments:[],ge=ae&&L.isAuth&&L.id===Y;let fe=ge;return(0,c.jsxs)(a.xu,{"data-test-id":"aggregated-comment-list",marginTop:ie&&!le?2:0,paddingY:ie||le?0:2,children:[!!b&&de.map(((t,n)=>(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(ue,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:s+1,didItOwnerId:l,isManagedView:h,objectType:m,onUpdate:g,parentObjectId:m===P.o.pin?b:p,pinDomainOwnerId:x,pinId:b,slotIndex:e+n,variant:A,viewerId:L.isAuth?L.id:"",canSetHighlight:ge,isORBACProfileManager:C})},t))),!!b&&(null==d?void 0:d.filter((e=>!de.includes(e.id))).map((({id:t},n)=>{const i=fe;return fe=!1,(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(ue,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:s+1,didItOwnerId:l,isManagedView:h,objectType:m,onUpdate:g,parentObjectId:m===P.o.pin?b:p,pinDomainOwnerId:x,pinId:b,slotIndex:e+de.length+n,variant:A,viewerId:L.isAuth?L.id:"",showHighlightEducator:i,numHighlights:de.length,canSetHighlight:ge,isORBACProfileManager:C})},t)}))),(0,c.jsx)(a.$j,{accessibilityLabel:I._('Comments loading', ' - ', ' -- '),show:!V||D}),ee&&(0,c.jsx)(a.xu,{marginTop:3,children:(0,c.jsx)(_e.Z,{handleClick:G,text:ne})}),se&&(0,c.jsx)(a.xu,{paddingY:le?0:2,children:(0,c.jsx)(a.xv,{size:le?"100":"200",children:I._('Share feedback, ask a question or give a high five', ' - ', ' -- ')})}),!C&&m!==P.o.aggregatedComment&&!h&&(0,c.jsx)(a.xu,{display:"flex",marginTop:6,children:(0,c.jsx)(a.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,c.jsx)(O,{hideAddObjects:!0,objectType:m,onAddItem:async({contentMarkdown:e,tags:t})=>{J(),R(!0);try{await Z((0,oe.n)({objectType:m,objectId:p,pinId:b,tags:t,text:e})),m===P.o.pin&&T({event_type:7,object_id_str:b,aux_data:{num_user_mention_tags:(t?JSON.parse(t):[]).length,...q?{creator_id:o,story_pin_data_id:q}:{}}})}catch(n){}R(!1)},onCancelItem:J,onEnter:J,parentObjectId:f||"",privatePin:v,replyToObject:null,statusType:z?"textInflightCreation":"textStaticDisplay"})})})]})},be=e=>(0,i.useSelector)((({feeds:{[ge.DV.AGGREGATED_COMMENTS]:t={}}})=>t[e])),ye=e=>{var t;return(0,c.jsx)(xe,{...e,feedItems:null!==(t=be(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},ve=e=>{var t;return(0,c.jsx)(xe,{...e,feedItems:null!==(t=be(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})};var Pe=o(129274),we=o(587857),Ae=o(782534),Ce=o(946984),Ee=o(690468),je=o(39951);function Te(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ie={background:"none",border:"none",padding:"0",width:"100%"},Se=({isLikedByMe:e,onClick:t})=>{const o=(0,r.ZP)(),n=(0,Ce.Z)({shouldStopEventPropagation:!1});return(0,c.jsx)(a.hU,{accessibilityLabel:o._('Like', ' - ', ' -- '),icon:"heart",iconColor:e?"red":"gray",onClick:n((()=>t())),size:"md"})};class ze extends n.PureComponent{constructor(...e){super(...e),Te(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),Te(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,logContextEvent:t,item:{id:o}}=this.props;e&&e(),t({event_type:101,component:172,element:1263,object_id_str:o})})),Te(this,"handleClickHashTag",(()=>{const{logContextEvent:e,item:{id:t}}=this.props;e({event_type:101,component:172,element:10194,object_id_str:t})})),Te(this,"handleToggleLikesListModal",(()=>this.setState((({showLikesListModal:e})=>({showLikesListModal:!e}))))),Te(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t,logContextEvent:o}=this.props,{isLikedByMe:n,likeCount:i}=this.state;o({event_type:101,component:172,element:1353,object_id_str:e,view_type:t});const s=h.ZP.create("DidItLikeResource",{didItDataId:e});var r,l;return this.setState({isLikedByMe:!n,likeCount:(r=i,l=n,l?r-1:r+1)}),n?s.callDelete({showError:!1}):s.callCreate()})),Te(this,"handleToggleFlyout",(()=>this.setState((({showFlyout:e})=>({showFlyout:!e,showShareFlyout:!1}))))),Te(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),Te(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),Te(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),Te(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:o}=this.props;this.setState({showReportModal:!1}),o&&this.state.isReportedByMe&&e&&o(t)})),Te(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),Te(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:o={},id:n},user:i},deleteUserDidItData:s,logContextEvent:r}=this.props;if(this.setState({showDeleteModal:!1}),!e||!i)return;const{username:l}=i;r({event_type:101,view_type:101,component:192,element:1264,object_id_str:n}),s({aggregatedPinDataId:null==o?void 0:o.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:n,username:l})})),Te(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),Te(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:o}=this.props;o({didItDataId:e,isMarkedHelpfulByMe:!!t})})),Te(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),Te(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),Te(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),Te(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),Te(this,"renderFlyout",(()=>{var e,t,o;const{creatorId:n,item:{details:i,id:s,images:r,pin:l,privacy:u,user:_},viewer:h}=this.props,{aggregated_pin_data:p={},id:m,images:g={},link_domain:x={},rich_metadata:b={},title:y}=l||{},{showFlyout:v,showShareFlyout:P}=this.state,w=(x||{}).official_user||{},A=(b||{}).title,C={description:i,id:s,imageUrl:r.length>0?null==r||null===(e=r[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(o=g["136x136"])||void 0===o?void 0:o.url,name:A||this.props.i18n._('this idea', ' - ', ' -- '),type:we.d.DID_IT,url:`/pin/${m}/activity/tried/${s}`},E=this.isOwnedByCurrentUser||h.isAuth&&h.id===w.id||h.isAuth&&h.id===n;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,c.jsx)(a.hU,{accessibilityExpanded:v,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm"})}),v&&(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{alignSelf:"end",children:(0,c.jsx)(a.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:P?"lg":"xs",children:P?(0,c.jsx)(f.Z,{onHide:this.handleToggleFlyout,sendType:we.d.DID_IT,sharedObject:C}):(0,c.jsx)(a.xu,{display:"flex",column:12,color:"white",position:"relative",rounding:2,alignSelf:"start",children:(0,c.jsxs)(a.sg,{span:12,children:["public"===u&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowShareFlyout,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Share', ' - ', ' -- ')})})}),(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Go to Pin', ' - ', ' -- ')})},this.pinURL)}),_&&(this.isOwnedByCurrentUser||E)?(0,c.jsxs)(a.xu,{children:[this.isOwnedByCurrentUser&&(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(d,{aggregatedPinDataId:null==p?void 0:p.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:_,onToggleModal:this.handleToggleEditModal,pinId:m,pinTitle:y,userDidItDataId:s})}),E&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowDeleteModal,children:(0,c.jsx)(a.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})]}):(0,c.jsx)("button",{style:Ie,onClick:this.handleShowReportModal,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Report this content', ' - ', ' -- ')})})})]})})})})})]})})),Te(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:o},marked_helpful_by_me:n,helpful_count:i},isManagedView:s,viewer:r}=this.props,{isLikedByMe:l,likeCount:d,isDeleteHover:u,isReportHover:_}=this.state,h=(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', d, ' - ', ' -- '),{likeCount:d}),m=(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', e, ' - ', ' -- '),{commentCount:e}),g=(o||{}).official_user||{},f=this.isOwnedByCurrentUser||r.isAuth&&r.id===g.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,c.jsxs)(a.xu,{column:12,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xv,{size:"200",children:s?x:(0,c.jsx)(Ae.Z,{value:new Date(t),dateFormatType:Ae.k.LONG,useUTC:!1})}),e>0&&(0,c.jsx)(a.xu,{marginStart:6,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:m})}),d>0&&(0,c.jsx)(a.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,c.jsx)(a.iP,{onTap:this.handleToggleLikesListModal,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:h})})})]}),(0,c.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,c.jsx)(a.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:d>0?"between":"end",children:r.isAuth&&(0,c.jsx)(Se,{isLikedByMe:l,onClick:this.handleClickLike})}),(0,c.jsx)(a.xu,{display:"flex",paddingY:3,children:(0,c.jsx)(Z.N,{helpfulCount:i,isMarkedHelpfulByMe:n,onHelpfulClick:this.handleClickHelpful})})]}),s&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:_?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Report', ' - ', ' -- ')})})})}),s&&f&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:u?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})})]})})),Te(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:o,pin:n,user:i},isManagedView:s}=this.props,{full_name:r}=i||{},{dominant_color:l,images:d={},rich_metadata:u={},title:_}=n,h=(u||{}).title;let p;p=this.isOwnedByCurrentUser&&h?(0,re.nk)(this.props.i18n._('You tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{pinTitleForTriedByText:h}):h?(0,re.nk)(this.props.i18n._('{{fullName}} tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{fullName:r,pinTitleForTriedByText:h}):this.isOwnedByCurrentUser?this.props.i18n._('See the Pin you tried', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'):this.props.i18n._('See the Pin that inspired it', 'call to action - navigating to a Pin from a try', 'call to action - navigating to a Pin from a try');return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:o.length?2:0,children:(0,c.jsx)(a.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,c.jsxs)(a.xu,{paddingX:o.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,c.jsx)(a.xu,{width:60,marginEnd:3,children:(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=_?_:"",color:null!=l?l:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=d["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,c.jsxs)(a.xv,{color:o.length?"inverse":"default",size:s?"100":"300",weight:"bold",children:[" ",p," "]})]}),(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('See pin', ' - ', ' -- '),color:o.length?"white":"darkGray",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:o,item:n,viewType:i}=this.props,{likeCount:r,showDeleteModal:l,showLikesListModal:d,showReportModal:h}=this.state,{comment_count:m,details:f,id:y,images:v,pin:w,user:A,videos:C}=n,{aggregated_pin_data:E={},id:j}=w||{},{full_name:T,id:I,image_medium_url:S,username:z}=A||{},k=`/${z}/`;(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', r, ' - ', ' -- '),{likeCount:r}),(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', m, ' - ', ' -- '),{commentCount:m});const D=!!(C&&C.length>0&&C[0].video_list&&C[0].video_list.V_HLSV4),R=!!(v.length>0&&v[0]&&v[0]["750x"]),O=R||D,L=82!==i,F=R&&L;return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,c.jsxs)(a.xu,{display:"flex",column:12,alignItems:"center",children:[(0,c.jsx)(a.kC,{alignItems:"center",children:(0,c.jsx)(a.xu,{width:o?36:42,marginEnd:3,children:(0,c.jsx)(a.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:k,children:(0,c.jsx)(a.zd,{rounding:"circle",wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=T?T:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=S?S:""},S)})},k)})}),(0,c.jsx)(a.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,c.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,c.jsx)(a.xv,{size:o?"200":"300",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:k,children:T||""},k)}),!o&&this.renderFlyout()]})]}),(0,c.jsx)(a.xu,{marginTop:2,marginBottom:o?0:1,children:O&&(0,c.jsxs)(a.xu,{column:12,position:"relative",children:[D?(0,c.jsx)(b.Z,{item:n,viewType:i}):(0,c.jsx)(x,{item:n}),F&&(0,c.jsx)(a.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,c.jsxs)(a.xu,{marginStart:1,children:[R&&this.renderStatsBar(),f&&(0,c.jsx)(a.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,c.jsx)(a.xv,{size:o?"100":"300",children:(0,c.jsx)(g,{html:f,onClick:this.handleClickHashTag})})}),!R&&(0,c.jsxs)(a.xu,{children:[L&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,c.jsx)(a.xu,{column:12,children:(0,c.jsx)(ve,{commentCount:m,creatorId:t,didItOwnerId:I,objectId:y,objectType:P.o.didIt,pinId:w.id,variant:"legacy"})})]}),l&&(0,c.jsx)(s.Z,{didItData:{id:y},onDeleteConfirmation:this.handleDeleteConfirmation}),d&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:this.props.i18n._('Users who have liked this.', 'Label for a modal showing a list of users who have liked a Tried Item', 'Label for a modal showing a list of users who have liked a Tried Item'),allowScroll:!0,heading:(0,p.Z)(this.props.i18n.ngettext('{{count}} Like', '{{count}} Likes', r, ' - ', ' -- '),{count:r.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,c.jsx)(J.Jo,{id:y})}),h&&A&&(0,c.jsx)(Pe.N,{children:(0,c.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==E?void 0:E.id)&&void 0!==e?e:"",didItDataId:y,pinId:j,onClose:this.handleHideReportModal,username:z,users:[A]})})]})}}function ke(e){const{logContextEvent:t}=(0,S.v)(),o=(0,r.ZP)(),n=(0,M.Z)(),s=(0,i.useDispatch)(),l={deleteUserDidItData:(0,v.bindActionCreators)(Ee.lg,s),toggleHelpful:(0,v.bindActionCreators)(je.Y,s),updateUserDidItDataCommentCount:(0,v.bindActionCreators)(Ee.L8,s)},a=(0,i.useSelector)((({userDidItData:t})=>t[e.didItDataId]));return(0,c.jsx)(ze,{...e,...l,item:a,viewer:(0,y.Z)(),i18n:o,getHumanizedTimeSince:n,logContextEvent:t})}},395129:(e,t,o)=>{o.d(t,{Jo:()=>g,Xd:()=>m});var n=o(667294),i=o(700380),s=o(35934),r=o(784590),l=o(19121),a=o(281180),c=o(898781),d=o(883119),u=o(304903),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),h(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),h(this,"handleScroll",(0,i.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,u.Uy)(this.list);(0,u.aZ)(this.list)-(0,u.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:o,viewer:n}=this.props;if(!t)return(0,_.jsx)("div",{className:"loadingSpinner",children:(0,_.jsx)(d.$j,{accessibilityLabel:this.props.i18n._('Loading spinner for like list', 'Accessibility label for loading spinner for like list', 'Accessibility label for loading spinner for like list'),show:!0})});const i=e&&e.map((e=>e.id?{...e,...o[e.id]}:e));return(0,_.jsx)(d.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:i&&i.map((e=>(0,_.jsx)(d.xu,{paddingX:4,paddingY:3,children:(0,_.jsx)(s.Z,{isSelf:Boolean(n.isAuth&&n.id&&e.id===n.id),user:e})},e.id)))})}}function m(e){const t=(0,c.ZP)(),o=(0,l.Z)(),{users:n}=(0,a.kW)(),i=(0,r.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}function g(e){const t=(0,c.ZP)(),o=(0,l.Z)(),{users:n}=(0,a.kW)(),i=(0,r.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}},102243:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(700622),s=o(366284),r=o(898781),l=o(780280),a=o(883119),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),d(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),d(this,"handleShowControls",(()=>this.setState({showControls:!0}))),d(this,"handleHideControls",(()=>this.setState({showControls:!1}))),d(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),d(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:o}=e;t.stopPropagation(),this.setState({isFullscreen:o})})),d(this,"handleVolumeChange",(e=>{const{event:t,volume:o}=e;t.stopPropagation(),this.setState({volumeLevel:o})}))}render(){const{item:e,requestContext:t,viewType:o}=this.props,{videos:n}=e;if(!n||0===n.length)return null;const r=n[0],{showControls:l,isFullscreen:d,isPlaying:u,volumeLevel:_}=this.state,{V_HLSV4:h}=r.video_list;if(!h)return null;const{height:p,width:m,thumbnail:g,url:f}=h||{},x=[{type:"video/m3u8",src:f}];return(0,c.jsx)(a.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(a.zd,{rounding:2,willChangeTransform:!((0,s.G6)(t.userAgent.browserName)&&d),wash:!0,children:(0,c.jsx)(i.ZP,{isAutoPlay:!1,contextLogData:{view:o,viewParameter:3071,component:172,objectId:e.id,video_id:r.id},accessibilityMaximizeLabel:this.props.i18n._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:this.props.i18n._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:this.props.i18n._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:this.props.i18n._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:this.props.i18n._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:this.props.i18n._('Progress bar', 'trieditvideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:this.props.i18n._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:Math.max((null!=m?m:1)/(null!=p?p:1),1),captions:"",controls:l,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:g,src:x,volume:_})})})}}function _(e){const t=(0,r.ZP)(),o=(0,l.B)();return(0,c.jsx)(u,{...e,i18n:t,requestContext:o})}},514209:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var n=o(667294),i=o(155378),s=o(249647),r=o(121093),l=o(6663),a=o(898781),c=o(785893);const d=()=>{};function u({color:e,completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,dismissButtonText:i,handleComplete:s=d,handleDismiss:r=d,header:u="",headerSubtitle:_=""}){const h=(0,a.ZP)();return(0,c.jsx)(l.Z,{message:(u+" "+_).trim(),dismissButtonText:i||h._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),completeButtonText:t||h._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:s,onDismiss:r,external:n,color:e})}var _=o(391254);const h=function({color:e="default",completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,handleComplete:i=(()=>{}),header:s="",headerSubtitle:r=""}){const d=(0,a.ZP)();return(0,c.jsx)(l.Z,{message:(s+" "+r).trim(),completeButtonText:t||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:i,external:n,color:e})};var p=o(70061),m=o(116303),g=o(19121),f=o(349700),x=o(883119);function b({completeButtonText:e,headerSubtitle:t,handleComplete:o,handleDismiss:n}){const i=(0,a.ZP)(),s=(0,g.Z)(),{firstName:r,imageLargeUrl:l}=s.isAuth?s:{};return(0,c.jsx)(x.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,c.jsxs)(x.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,c.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(x.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,c.jsx)(m.Z,{name:r,src:l,size:"lg",outline:!0})}),(0,c.jsxs)(x.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,c.jsx)(x.xu,{marginBottom:2,children:(0,c.jsx)(x.X6,{size:"400",children:(0,f.nk)(i._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:r})})}),(0,c.jsx)(x.xv,{children:t})]})]}),(0,c.jsx)(x.xu,{marginEnd:4,children:(0,c.jsx)(x.zx,{color:"white",size:"lg",text:e,onClick:o})}),(0,c.jsx)(x.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,c.jsx)(x.hU,{accessibilityLabel:i._('Close', 'accessible label for close button', 'accessible label for close button'),iconColor:"darkGray",icon:"cancel",onClick:n,size:"sm"})})]})})}var y=o(615071),v=o(780280);function P({completeButtonUrl:e,onDismiss:t,placementId:o}){const[l,a]=(0,n.useState)(!1),d=(0,v.B)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(_.Z,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,c.jsx)(r.Z,{placementId:o,eligibleTypes:[13],children:({complete:o,dismiss:n,experience:{display_data:r,experience_id:_}})=>{e&&(r.complete_button_url=e);const m=(e=>{switch(e){case 502597:return i.default;case 500863:return b;case 501153:case 501487:return h;default:return u}})(_),g={requestContext:d,experienceId:_,handleComplete:o,handleDismiss:()=>{t&&t(),n()},color:"blue",...(0,s.Z)(p.Z)(r)};return l||a(!0),(0,c.jsx)(y.Z,{in:l,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,c.jsx)(x.xu,{marginBottom:4,children:(0,c.jsx)(m,{...g})})})}})]})}},466421:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(667294),i=o(925963),s=o(497997),r=o(898781),l=o(780280),a=o(883119),c=o(785893);function d({height:e,onCtaDidLoad:t,width:d}){const u=(0,r.ZP)(),[_,h]=(0,n.useState)(null),{locale:p}=(0,l.B)(),m=(0,i.default)(p);(0,n.useEffect)((()=>{m&&"none"!==m&&(e=>{const t=(0,n.lazy)((()=>o(641661)(`./${e}`)));h(t)})(m)}),[m]),(0,n.useEffect)((()=>{_&&t()}),[_]);const g=u._('Open Pinterest and tap the camera icon for ideas', 'PincodeCTA.title', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label for an image'),f=(0,c.jsx)(a.xv,{align:"center",children:g});return"none"===m?f:_?(0,c.jsx)(s.Z,{fallback:f,children:(0,c.jsx)(_,{height:e,title:g,width:d})}):(0,c.jsx)(a.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},925963:(e,t,o)=>{function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}o.r(t),o.d(t,{default:()=>n})},15265:(e,t,o)=>{o.d(t,{ZP:()=>z});var n=o(667294),i=o(466421),s=o(785893);const r="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",l="#e60023",a="0 0 222 222";function c({size:e}){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:a,children:(0,s.jsx)("path",{d:r,fill:l,fillRule:"evenodd"})})}var d=o(898781),u=o(883119);function _({getThumbnailImageSrcSet:e,images:t,onTouch:o}){const n=(0,d.ZP)();return(0,s.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map(((t,i)=>{var r,l,a,d;return(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.Zb,{children:(0,s.jsx)(u.iP,{fullWidth:!1,onTap:()=>o("logo"===t?"logo":i-1),rounding:2,children:(0,s.jsx)(u.zd,{rounding:"circle",width:85,height:85,children:"logo"===t?(0,s.jsx)(c,{size:85}):(0,s.jsx)(u.Ee,{alt:n._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(a=t.url)&&void 0!==a?a:"",srcSet:e&&e(null!==(d=t.url)&&void 0!==d?d:"")})})})})},"logo"===t?t:t.url)}))})}var h=o(784590);const p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${m||222}" height="${m||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${r}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim())}`;var m,g;const f=600;function x(e,t,o){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===o?300:0)}"\n      width="${f/("row"===t?1:2)}"\n      height="${f/("column"===o?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function b(e,t){const o=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return o?e.replace(/<image[^>]*>/,o):e}class y extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(o="handleFetchChange")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:o,pincodeImageResource:{data:n,isLoaded:i}}=this.props,r=o,l=o;return(0,s.jsxs)(u.kC,{alignItems:"center",height:l,justifyContent:"center",width:r,children:[i&&!!n&&(0,s.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:b(n,t)},style:{width:r,height:l}}),(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!n})]})}}function v(e){const t=(0,d.ZP)(),o=(0,h.Z)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||p}});return(0,s.jsx)(y,{...e,i18n:t,pincodeImageResource:o})}var P=o(407043);function w(e){return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.ontimeout=o,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void o();const e=new FileReader;e.onloadend=()=>{const n=e.result;"string"==typeof n?t(n.split(/,/)[1]):o()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()}))}function A(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const o=e.href.baseVal;if(o.startsWith("data:"))return Promise.resolve();const n=t?t(o):o;return Promise.resolve(n).then(w).then((e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`)).then((t=>new Promise(((o,n)=>{e.onerror=n,e.href.baseVal=t,window.requestAnimationFrame(o)}))))}(e,t);const o=Array.from(e.childNodes);return Promise.all(o.map((e=>A(e,t))))}function C(e,t){return new Promise(((o,n)=>{const i=document.createElement("div");i.innerHTML=e.innerHTML,A(i,t).then((()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame((()=>o(t)))},t.onerror=n;const s=i&&i.querySelector("svg");s&&(/^[0-9]+$/.test(s.getAttribute("width")||"")||s.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(s.getAttribute("height")||"")||s.setAttribute("height",`${e.scrollHeight}`));const r=i.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(r.trim())}`}))}))}function E(e,t){return new Promise(((o,n)=>{(function(e){return new Promise(((t,o)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(l){o()}const i=window.atob(n.split(",")[1]),s=i.length,r=new Uint8Array(s);for(let e=0;e<s;e+=1)r[e]=i.charCodeAt(e);t(new window.Blob([r],{type:"image/png"}))}))})(e).then((e=>window.URL.createObjectURL(e))).then((e=>{const n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame((()=>{const t=()=>{window.requestAnimationFrame((()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),o()}))};n.addEventListener("click",t),n.click()}))})).catch(n)}))}function j(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const T="pincodeMain",I="pincodeCTA";class S extends n.PureComponent{constructor(...e){super(...e),j(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),j(this,"getCustomHeroImages",(()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:o}=this.state;if(!t)return e;const n="logo"!==o&&e[o];return n?[n]:[]})),j(this,"normalizeUrl",(e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))})),j(this,"handleFetchChange",(e=>{this.setState({isFetchingPincodeImage:e})})),j(this,"handleCancelButtonClick",(()=>this.setState({isPickingHeroImage:!1}))),j(this,"handleEditButtonClick",(()=>this.setState({isPickingHeroImage:!0}))),j(this,"handleSelectImage",(e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e}))),j(this,"downloadPincodeImage",(()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:o,isDownloading:n}=this.state;if(!e||!t||o||n)return;const i=e.querySelector(".pincodeMain"),s=e.querySelector(".pincodeCTA");if(!i||!s)return;const{getDownloadImageURL:r,id:l,logContextEvent:a}=this.props;a({event_type:7078,component:13141,object_id_str:l}),this.setState({isDownloading:!0}),Promise.all([C(i,r),C(s)]).then((e=>{const[t,o]=e;return((e,t)=>{const o=document.createElement("canvas");o.width=3544,o.height=3544;const n=Math.round(.1*o.width),i=Math.round(.05*o.width),s=o.width-2*n,r=o.width-2*i,l=o.height-s,[a,c]=t.width/t.height>r/l?[r,r/t.width*t.height]:[l/t.height*t.width,l],d=o.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,o.width,o.height),d.drawImage(e,n,0,s,s),d.drawImage(t,(o.width-a)/2,s+(o.height-s-c)/2,a,c),o})(t,o)})).then((e=>E(e,`pincode_${this.props.id}.png`))).then((()=>{this.setState({isDownloading:!1})})).catch((()=>{this.setState({errorFlyoutIsOpen:!0})}))}))}render(){const{id:e,isLoadingImages:t,images:o,getThumbnailImageSrcSet:n,customizable:r}=this.props,{ctaIsLoaded:l,errorFlyoutIsOpen:a,isFetchingPincodeImage:c,isDownloading:d,isPickingHeroImage:h}=this.state;return h?(0,s.jsx)(u.xu,{width:350,color:"white",rounding:2,padding:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.X6,{size:"500",lineClamp:1,children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,s.jsx)(u.iz,{}),(0,s.jsx)(_,{images:o,getThumbnailImageSrcSet:n,onTouch:this.handleSelectImage}),(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker'),onClick:this.handleCancelButtonClick})})]})}):(0,s.jsx)(u.xu,{width:350,color:"white",rounding:2,marginBottom:4,paddingX:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{ref:e=>{this.previewNode=e},children:(0,s.jsxs)(u.xu,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?(0,s.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,s.jsx)(v,{className:T,id:e,imageUrls:this.getCustomHeroImages().map((e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")})),onFetchingChange:this.handleFetchChange,size:230}),(0,s.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:(0,s.jsx)("div",{className:I,children:(0,s.jsx)(i.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),(0,s.jsxs)(u.xu,{marginTop:2,padding:1,children:[r&&o.length>0&&(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image'),onClick:this.handleEditButtonClick})}),(0,s.jsxs)(u.xu,{paddingY:1,children:[(0,s.jsx)(u.xu,{ref:e=>{this.downloadButton=e},children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image'),color:"red",onClick:this.downloadPincodeImage,disabled:t||!l||c||d})}),a&&(0,s.jsx)(u.J2,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:(0,s.jsx)(u.xu,{padding:3,children:(0,s.jsx)(u.xv,{color:"inverse",weight:"bold",children:(0,s.jsx)("span",{children:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported')})})})})]})]})]})})}}function z(e){const{logContextEvent:t}=(0,P.v)(),o=(0,d.ZP)();return(0,s.jsx)(S,{...e,i18n:o,logContextEvent:t})}},847650:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(121151),s=o(898781),r=o(883119),l=o(407043),a=o(785893);function c({children:e,objectId:t,onHide:o}){const{logContextEvent:c}=(0,l.v)(),d=(0,s.ZP)(),u={component:13141,object_id_str:t};return(0,n.useEffect)((()=>{c({event_type:6359})}),[t]),(0,a.jsx)(i.ZP,{accessibilityModalLabel:d._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:d._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{o(),c({event_type:6358,...u})},size:"sm",children:(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},441553:(e,t,o)=>{o.d(t,{ZP:()=>P,cs:()=>v});var n=o(667294),i=o(704115),s=o(715173),r=o(858388),l=o(288494),a=o(695829),c=o(464019),d=o(784590),u=o(19121),_=o(407043),h=o(898781),p=o(780280),m=o(883119),g=o(785893);function f({onClick:e}){const t=(0,h.ZP)();return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(m.iP,{role:"link",href:"/categories",onTap:e,children:(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.zd,{height:236,rounding:2,wash:!0,width:236,children:(0,g.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(m.JO,{accessibilityLabel:t._('add topics', 'accessible label for Explore topics add icon', 'accessible label for Explore topics add icon'),color:"error",icon:"add-circle",size:40})})}),(0,g.jsx)(m.xu,{paddingY:3,children:(0,g.jsx)(m.X6,{size:"400",color:"subtle",children:t._('Explore topics', 'Text to display for link to find topics to follow', 'Text to display for link to find topics to follow')})})]})})})}function x(e){let t=e;return e.includes(":")&&2===e.indexOf(":")&&(t=e.substring(3)),t}function b(e){const{id:t="",images:o={},name:n="",background_color:i="",is_followed:r=!1,url_name:l="",primaryAction:a=!1}=e;return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(c.Z,{backgroundColor:i,id:t,image:o["400x"],followedByMe:r,name:n,url:x(l),followingButton:Boolean(a)&&(0,g.jsx)(s.Z,{fullWidth:!0,topicId:t,isFollowed:r,primaryAction:Boolean(a)})})},t)}class y extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:1224})},(o="handleFindTopicsClick")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{viewer:e,topicsResource:{data:t,fetchMore:o,isAtEnd:n,isFetching:i,isLoaded:s},user:c,hideExploreButton:d,primaryAction:u,requestContext:_}=this.props,h=e.isAuth&&e.username===c.username;return(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.gr,{isAtEnd:n,isFetching:i,fetchMore:o}),s&&t&&(t.length?(0,g.jsxs)(a.Z,{itemWidth:260,children:[!d&&h&&(0,g.jsx)(f,{onClick:this.handleFindTopicsClick}),t.map((e=>Object.assign(e,{primaryAction:u,requestContext:_}))).map(b)]}):(0,g.jsx)(r.Z,{children:(0,g.jsx)(l.Z,{subject:"topics",surface:"following",user:c})})),(0,g.jsx)(m.$j,{accessibilityLabel:this.props.i18n._('Loading additional topics', 'Label for the loading state spinner in the Topics section of the Following page', 'Label for the loading state spinner in the Topics section of the Following page'),show:i||!s})]})}}function v(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),s=(0,u.Z)(),r=(0,d.Z)({name:"NuxInterestsResource",options:{is_renux:!0,isLazyLoading:!0,urlParams:(0,i.Z)()}});return(0,g.jsx)(y,{...e,hideExploreButton:!0,primaryAction:!0,requestContext:n,topicsResource:r,viewer:s,i18n:o,logContextEvent:t})}function P(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),i=(0,u.Z)(),s=(0,d.Z)({name:"InterestFollowingResource",options:({user:e})=>({username:e.username})});return(0,g.jsx)(y,{...e,requestContext:n,topicsResource:s,viewer:i,i18n:o,logContextEvent:t})}},621936:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(165268);var i=o(816661),s=o(883119),r=o(785893);function l({height:e=200,numCols:t=3,pins:o=[],rounding:l=2,width:a=i.W}){return(0,r.jsx)(s.zd,{rounding:l,width:a,height:e,children:(0,r.jsx)(s.gM,{columns:t,cover:!0,height:e,gutter:2,renderImage:({index:e,width:t,height:i})=>{var s;const l=o[e];if(!l)return null;const a=null===(s=l.images)||void 0===s?void 0:s["474x"];return(0,r.jsx)(n.Z,{height:i,image:a,width:t})},width:a})})}},816661:(e,t,o)=>{o.d(t,{W:()=>i,X:()=>n});const n=3,i=300},165268:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({image:e,width:t,height:o}){return e?(0,i.jsx)(n.zd,{wash:!0,width:t,height:o,children:(0,i.jsx)(n.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,i.jsx)(n.xu,{color:"lightGray",width:t,height:o})}},173748:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(966338),s=o(14254),r=o(31739),l=o(100315),a=o(436285),c=o(898781),d=o(883119),u=o(785893);function _({board:e,canEdit:t,isActive:o,onEditClick:n,subtitle:i}){const s=(0,c.ZP)(),{image_cover_url:_,is_collaborative:h,name:p,pin_count:m,section_count:g}=e,f=h&&(0,u.jsx)(d.xu,{marginEnd:2,paddingX:1,children:(0,u.jsx)(d.JO,{accessibilityLabel:s._('Group board', 'Accessibility label to indicate group boards', 'Accessibility label to indicate group boards'),color:"default",icon:"people",size:16})});return(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(d.xu,{column:9,display:"flex",paddingX:4,children:(0,u.jsxs)(d.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:4,children:(0,u.jsxs)(d.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,u.jsx)(d.xu,{flex:"none",paddingX:2,children:(0,u.jsx)(d.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:_?(0,u.jsx)(d.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:_}):(0,u.jsx)(d.xu,{color:"lightGray",height:"100%",width:"100%"})})}),(0,u.jsx)(d.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(d.xv,{lineClamp:1,weight:"bold",children:p})})})]})}),(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:[(0,r.Z)(e)&&(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsx)(a.Z,{})}),f,(0,u.jsx)(l.Z,{pinCount:m,sectionCount:g})]})]})}),(0,u.jsxs)(d.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[i&&(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(d.xv,{size:"200",lineClamp:1,children:i})}),t&&o&&(0,u.jsx)(d.xu,{flex:"none",paddingX:1,children:(0,u.jsx)(d.hU,{accessibilityLabel:s._('Edit', 'Edit button accessibility label', 'Edit button accessibility label'),icon:"edit",onClick:({event:e})=>n(e)})})]})]})}var h=o(6637),p=o(499128),m=o(19121),g=o(597897),f=o(780280),x=o(343341),b=o(286268);function y({board:e,canEdit:t,invite:o,isReordering:r,layout:l,onDeclineRequest:a,onEditClick:y,subtitle:v,viewParameter:P,viewType:w}){const A=(0,c.ZP)(),C=(0,m.Z)(),E=C&&C.isAuth,j=C.isAuth?C.id:"",[T,I]=(0,n.useState)(!1),[S,z]=(0,n.useState)(!1),k=(0,g.U)(),D=(0,x.F9)(),{locale:R}=(0,f.B)();(0,n.useEffect)((()=>{r&&T&&I(!1)}),[r,T]);const O=null==e?void 0:e.id,L=(0,i.useSelector)((({boards:e})=>e[O])),F=()=>{I(!r),k&&k.load(new URL("[username]/[slug].js","file://"))},M=()=>{I(!1)};if(e||L){var B,N,U,Z;const n=null!=e?e:L,i=n.owner,r=[i,...n.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:o,full_name:n})=>({id:e,image_medium_url:t,username:o,full_name:n}))),c=(0,b.b1)(n),m={isCustom:n.has_custom_cover,url:c,position:(0,b.Bw)(n.cover_pin)},g=(0,b.Jx)(n,c).map((({url:e})=>({name:(0,b.po)(e),url:e}))),f=(null==i?void 0:i.id)===j,x=r.filter((({id:e})=>e===j)).length>0;return(0,u.jsx)(d.xu,{"data-test-id":"profile-board-card",children:(0,u.jsx)(d.xu,{"data-test-id":`board-${n.name}`,onMouseEnter:F,onMouseLeave:M,children:"list"===l?(0,u.jsx)(_,{board:n,canEdit:t,isActive:T,onEditClick:y,subtitle:v}):(0,u.jsx)(s.Z,{archivedDate:null!==(B=n.archived_by_me_at)&&void 0!==B?B:void 0,boardUrl:n.url,canEdit:t,collaborators:r,collaboratorsCount:n.collaborator_count,containerBackgroundColor:n.archived_by_me_at?"#f6f6f6":void 0,coverPhoto:c?m:null,followedByMe:n.followed_by_me,fullSizeDrawer:!0,handleInviteResponse:e=>{(async e=>{if(!o)return;const{board:t={},invited_user:n={}}=o,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await h.ZP.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),z(e),!e&&a?(a(),D.showToast((({hideToast:e})=>(0,u.jsx)(p.ZP,{onHide:e,text:A._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})))):D.showToast((({hideToast:e})=>(0,u.jsx)(p.ZP,{duration:5e3,onHide:e,text:A._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})))})(e)},hideMeta:!1,id:n.id,imagesLego:g,invite:o,isActive:T,isAuthenticated:E,isBoardInviteAccepted:S,isCollaborative:n.is_collaborative,isCollaborator:x,isOwner:f,isSecret:"secret"===n.privacy,layout:"square"===l?"square":"wide",lastModifiedDate:null!==(N=n.board_order_modified_at)&&void 0!==N?N:"",locale:R,name:null!==(U=n.name)&&void 0!==U?U:"",numCols:4,onEditClick:y,owner:i,pinCount:n.pin_count?n.pin_count:void 0,sectionCount:null!==(Z=n.section_count)&&void 0!==Z?Z:0,sensitivityScreen:n.sensitivity_screen,showFollowButton:!1,viewParameter:P,viewType:w,viewerId:j})})})}return null}},166150:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(966338),s=o(402524),r=o(31739),l=o(145401),a=o(717615),c=o(19121),d=o(293880),u=o(407043),_=o(782534),h=o(298361),p=o(898781),m=o(231947),g=o(883119),f=o(785893);function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class b extends n.Component{constructor(...e){super(...e),x(this,"state",{isEditModalOpen:!1}),x(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),x(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:o}=this.props,n="list"===o;return e.archived_by_me_at?n?(0,f.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._('Archived', 'profileBoardCard.footer.archived', 'Indicating that a board is archived'):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||n?this.props.getHumanizedTimeSince(e.board_order_modified_at,!0):null:n?(0,f.jsx)("span",{children:(0,f.jsx)(_.Z,{dateFormatType:_.k.LONG,value:new Date(e.created_at)})}):null})),x(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4})})),x(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:o}=this.props;this.setState({isEditModalOpen:!0}),o({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),x(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e;const{board:t,forwardedRef:o,isReordering:i,isOwnProfile:a,layout:c,onBoardArchiveChange:d,onBoardDelete:u,onBoardPrivacyChange:_,onBoardLeave:h,onBoardUpdate:p,slotIndex:x,viewer:b,orbacActingAs:y}=this.props,{isEditModalOpen:v}=this.state;if(!t)return null;const P=(0,m.D3)(b,null===(e=t.owner)||void 0===e?void 0:e.id,y),w=(0,m.lJ)(b,y),{url:A}=t,C=w&&(0,r.Z)(t)?`?orbac_subject_id=${w}`:"",E=a||t.access.includes("write")||P,j=this.getSubtitleText();return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(g.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${A}${C}`,ref:o,children:(0,f.jsx)(g.xu,{children:(0,f.jsx)(l.Z,{board:t,canEdit:E,isOwnProfile:a,isReordering:i,layout:c,onEditClick:this.handleEditClick,slotIndex:x,subtitle:j})})}),v&&(0,f.jsx)(s.Z,{boardId:t.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:d,onBoardDelete:u,onBoardLeave:h,onBoardPrivacyChange:_,onBoardUpdate:p,onClose:this.handleEditClose})]})}}x(b,"defaultProps",{isOwnProfile:!1,isReordering:!1});const y=(0,i.connect)((({blockingActions:e,boards:t},{board:o})=>({images:(t[o.id]||{}).images,progress:((e.boardMap[o.id]||{}).wholeBoard||{}).progress})),((e,{board:t})=>({updateBoard:()=>e((0,d.oG)(t.id,"profile_grid_item"))})))((function(e){const{logContextEvent:t}=(0,u.v)(),o=(0,p.ZP)(),n=(0,h.Z)(),i=(0,a.Z)(),s=(0,c.Z)();return(0,f.jsx)(b,{...e,i18n:o,viewer:s,orbacActingAs:i,getHumanizedTimeSince:n,logContextEvent:t})}))},145401:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(564194),i=o(173748),s=o(785893);function r({board:e,isOwnProfile:t,slotIndex:o,...r}){const l=t?3069:3070;return(0,s.jsx)(n.Z,{componentType:13669,impressionType:"Board",loggingId:e.id,slotIndex:o,viewParameter:l,viewType:4,children:(0,s.jsx)(i.Z,{board:e,...r,viewParameter:l,viewType:4})})}},436285:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},8405:(e,t,o)=>{o.d(t,{F:()=>i,m:()=>s});const n={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return n["square"===e?"square":"wide"]}function s(e){return"list"===e?"100%":i(e).width+16}},31739:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(978674);function i(e){return e.privacy===n.Z.BoardPrivacy.SECRET}},501817:(e,t,o)=>{o.d(t,{O:()=>l,Q:()=>a});var n=o(588028),i=o(280773),s=o(414327);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:o,username:n},i)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...i?{orbac_subject_id:i}:Object.freeze({})})},a=e=>r.reduce(((t,o)=>{const r=[(0,i.Z)("profileBoards",(0,n.O)(e,o))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{r.push((0,s.jB)(l.name,l.options({username:e,boardOrder:o,mixPublicSecret:t,filterStories:n})))}))})),t.concat(r)}),[])},890328:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var n=o(667294),i=o(521641),s=o(966338),r=o(164066),l=o(252867),a=o(858388),c=o(288494),d=o(898781),u=o(883119),_=o(785893);function h({feed:e,isOwnProfile:t,pinsResource:o,surface:i,user:h}){var p;const m=(0,d.ZP)(),{fetchMore:g,isAtEnd:f,isFetching:x,isLoaded:b}=o,y=(null!==(p=o.data)&&void 0!==p?p:[]).filter((e=>"pin"===(null==e?void 0:e.type))),v=(0,s.useSelector)((({feeds:t})=>t[e])),P=h&&v[h.id];if(b&&!t&&(!y||!y.length))return null;const w=t?3106:3107;return(0,_.jsxs)(n.Fragment,{children:[b&&(P&&0!==P.length?null:(0,_.jsx)(a.Z,{marginTop:t?0:5,textSize:t?"sm":"md",children:(0,_.jsx)(c.Z,{subject:"pins",surface:"profile",user:h})})),b&&P?(0,_.jsx)(r.default,{flexible:!0,columnWidth:236,comp:({data:e,itemIdx:t})=>(0,_.jsx)(l.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:i,trackingParameters:{slotIndex:t,viewParameter:w,viewType:4}}),isAtEnd:f,isFetching:x,isLoaded:b,items:P,loadItems:()=>{x||f||g()},masonryRef:{current:null},serverRender:!1}):null,x&&(0,_.jsx)(u.xu,{paddingY:3,position:"relative",children:(0,_.jsx)(u.$j,{accessibilityLabel:m._('Loading Pins on profile', 'profile.createdTab.loadingSpinner', 'Loading Pins on profile'),show:x})})]})}var p=o(620006),m=o(717615),g=o(767790),f=o(784590),x=o(184451),b=o(19121),y=o(281615),v=o(349700),P=o(407043),w=o(578722),A=o(953192),C=o(925927),E=o(231947),j=o(217468);function T(e){var t,o,s,r,l,a,c,T;const{logContextEvent:I}=(0,P.v)(),S=(0,d.ZP)(),{params:{username:z,userId:k}}=(0,C.$B)(),D=(0,b.Z)(),{anyEnabled:R}=(0,j.aq)("web_story_pin_creator"),O=["holdout","holdout_2"].includes((0,j.tc)("story_pin_longterm_holdout")({dangerouslySkipActivation:!0}).group),L=(0,j.tc)("web_created_tab_for_all")({dangerouslySkipActivation:!0}).anyEnabled,F=(0,m.Z)(),M=(0,g.Z)(),B=(0,i.Z)({user:M.data,viewer:D}),N=(0,E.D3)(D,null!==(t=null!=k?k:null===(o=M.data)||void 0===o?void 0:o.id)&&void 0!==t?t:"",F),U=(0,f.Z)({name:"UserResource",options:{username:D.isAuth&&(null===(s=M.data)||void 0===s?void 0:s.username),field_set_key:"quick_create"},dangerouslyDisableFetch:B||!(O&&L)}),Z=(0,f.Z)({name:"UserActivityPinsResource",options:{data:{filter_version:1},exclude_add_pin_rep:!B,field_set_key:D.isPartner&&B?"partner_grid_item":"grid_item",is_own_profile_pins:B,redux_normalize_feed:!0,user_id:null!=k?k:null===(r=M.data)||void 0===r?void 0:r.id,username:z}}),G=(0,w.s_)(),H=(0,f.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},exclude_add_pin_rep:!B,field_set_key:D.isPartner&&B?"partner_grid_item":G?"grid_item_ip_plays":"grid_item",is_own_profile_pins:B,redux_normalize_feed:!0,user_id:null!=k?k:null===(l=M.data)||void 0===l?void 0:l.id,username:z}}),V=()=>I({event_type:101,element:10949,component:13777,view_type:4,view_parameter:3106});(0,A.S)(z,M.data?M.data.id:null,13668);const{anyEnabled:W}=(0,j.tc)("web_m10n_business_access_orbac_beta_2")(),{isAtEnd:K}=H,$=M.data,{first_name:Y}=$||{},{scheduled_pin_count:q=0}=W?{scheduled_pin_count:(0,E.DX)(D,$,F)}:$||{},X=(W?N:B)&&D.isPartner&&q>0,Q=H.isLoaded&&H.data&&H.data.length>0,J=Z.isLoaded&&Z.data&&Z.data.length>0,ee=J&&K,te=Q&&!O||Q&&O&&!(null===(a=U.data)||void 0===a||!a.quick_create_pin_count),oe=S._('No created Pins yet', 'profile.createdTab.notEligibleForCreatedPin', 'text letting user know there are no created pins');return(0,_.jsxs)(n.Fragment,{children:[X&&(0,_.jsx)(x.Z,{username:null!=z?z:""}),Q&&B&&!L&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(p.Z,{label:S._('Your Idea Pins', 'profile.createdTab.ideaPinHeader', 'title for the Idea Pin section under the Created Tab on the profile page')})}),H.isLoaded&&(te?(0,_.jsx)(u.xu,{"data-test-id":"story-pin-feed",children:(0,_.jsx)(h,{isOwnProfile:B,feed:y.DV.CREATED_TAB_STORY_PINS_FEED,pinsResource:H,surface:"CreatorProfileStoryPinGrid",user:M.data})}):B&&R&&!L&&(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,children:[(0,_.jsx)(u.xv,{children:S._('Nothing to show...yet! Idea Pins you create will live here.', 'profile.createdTab.emptyIdeaPinState', 'text prompting creator that they do not have Idea Pins to display')}),(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{role:"link",href:"/idea-pin-builder/",onClick:V,size:"lg",text:S._('Create Idea Pin', 'profile.createdTab.createButton', 'Button that will re-direct user to Idea Pin Builder')})})]})),L&&O&&!B&&!(null!==(c=U.data)&&void 0!==c&&c.quick_create_pin_count)&&!J&&(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsx)(u.xu,{"data-test-id":"empty-story-pin-state",display:"flex",justifyContent:"center",paddingY:12,children:(0,_.jsx)(u.X6,{size:"500",children:oe})})}),L&&!te&&!1===(null===(T=M.data)||void 0===T?void 0:T.has_published_pins)&&0===M.data.story_pin_count&&(B?(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:[(0,_.jsx)(u.X6,{size:"500",children:R?S._('Inspire with an Idea Pin', 'profile.createdTab.selfEmptyPinState', 'text prompting creator to create an idea pin'):oe}),R&&(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{color:"red",href:"/idea-pin-builder/",onClick:V,role:"link",size:"lg",text:S._('Create', 'profile.createdTab.emptyStateCreateButton', 'Create button that will re-direct user to Idea Pin Builder')})})]})}):(0,_.jsx)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:(0,_.jsx)(u.xu,{maxWidth:362,paddingY:12,children:(0,_.jsx)(u.X6,{align:"center",size:"500",children:S._('No Idea Pins yet, but there\'s tons of potential', 'profile.createdTab.otherEmptyPinState', 'text indicating where idea pins would display if they were created')})})})),ee&&te&&(B?(0,_.jsx)(p.Z,{showHeading:!0,label:S._('Other Pins', 'profile.createdTab.nonStoryPinHeaderAlt', 'header for non story pins section of user profile viewed by owner')}):(0,_.jsx)(u.xu,{"data-test-id":"public-view-pins-section-header",display:"flex",justifyContent:"center",marginTop:6,paddingY:4,children:(0,_.jsx)(u.X6,{size:"400",children:(0,v.nk)(S._('More by {{ firstName }}', 'profile.createdTab.nonStoryPinHeader', 'header for non story pins section of user profile viewed by public'),{firstName:Y})})})),(K||!K&&H.data&&0===H.data.length||L&&!te)&&J&&(0,_.jsx)(u.xu,{"data-test-id":"other-pins-feed",children:(0,_.jsx)(h,{feed:y.DV.CREATED_TAB_ACTIVITY_PINS_FEED,isOwnProfile:B,pinsResource:Z,surface:"CreatorProfileActivityPinGrid",user:M.data})})]})}},620006:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{showHeading:t,label:o,sublabel:s}=e;return(0,i.jsxs)(n.xu,{alignContent:"center",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,children:[t?(0,i.jsx)(n.X6,{size:"400",children:o}):(0,i.jsx)(n.xv,{weight:"bold",children:o}),(0,i.jsx)(n.xu,{marginTop:1,children:(0,i.jsx)(n.xv,{color:"subtle",size:"100",children:s})})]})}},774026:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(521641),i=o(842822),s=o(767790),r=o(19121),l=o(81636),a=o(785893);function c(e){const t=(0,s.Z)(),o=(0,r.Z)(),c=(0,n.Z)({user:t.data,viewer:o});let d;return o.isAuth&&c&&(d=o.id),(0,l.Q)({object_id_str:d,view_type:4,view_parameter:c?3106:3107}),t&&t.data?(0,a.jsx)(i.default,{}):null}},858388:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);const s=({children:e,marginTop:t=5,textSize:o="md"})=>(0,i.jsx)(n.W2,{children:(0,i.jsx)(n.xu,{marginBottom:5,marginTop:t,children:(0,i.jsx)(n.X6,{color:"subtle",size:o,children:e})})})},725053:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(349700),s=o(883119),r=o(785893);function l({fullName:e,isOwnProfile:t,isPartnerProfile:o}){const l=(0,n.ZP)(),a=t?l._('You haven\'t saved any Pins yet', 'ownProfile.boards.emptyState', 'Message on a user\'s own profile when they haven\'t saved anything'):(0,i.nk)(l._('{{ fullName }} hasn\'t saved any Pins yet', 'otherProfile.boards.emptyState', 'Message on another user\'s profile when that user hasn\'t saved anything'),{fullName:null!=e?e:""});return(0,r.jsx)(s.W2,{children:(0,r.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:8,children:[(0,r.jsx)(s.xv,{children:a}),t&&(0,r.jsx)(s.xu,{marginTop:4,children:(0,r.jsx)(s.zx,{role:"link",href:o?"/homefeed":"/",accessibilityLabel:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button accessibility label to redirect a user from their empty profile to homefeed to find ideas to save'),size:"lg",text:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button text to redirect a user from their empty profile to homefeed to find ideas to save')})})]})})}},288494:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(19121),s=o(349700);function r({subject:e,surface:t,user:o}){const r=(0,n.ZP)(),l=(0,i.Z)(),{first_name:a}=null!=o?o:{},c=((e,t)=>t.isAuth&&e&&t.id===e.id)(o,l),d=()=>c?(()=>{switch(e){case"boards":return r._('You haven\u2019t followed any boards yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards');case"topics":return r._('You haven\u2019t picked any topics to follow yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics');case"users":return r._('You haven\u2019t followed anyone yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users');default:return null}})():(()=>{switch(e){case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed any boards yet', 'Text displayed when a user has not followed any boards', 'Text displayed when a user has not followed any boards'),{firstName:a});case"topics":return(0,s.nk)(r._('{{ firstName }} hasn\'t picked any topics to follow yet', 'Text displayed when a user has not followed any topics', 'Text displayed when a user has not followed any topics'),{firstName:a});case"users":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed anyone yet', 'Text displayed when a user has not followed anyone', 'Text displayed when a user has not followed anyone'),{firstName:a});default:return null}})();switch(t){case"followers":return c?r._('Nobody has followed your boards yet', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed'):(0,s.nk)(r._('Nobody has followed {{ firstName }}\'s boards yet', 'Text displayed when a no one has followed a user\u2019s boards', 'Text displayed when a no one has followed a user\u2019s boards'),{firstName:null!==(_=null==o?void 0:o.first_name)&&void 0!==_?_:""});case"following":return d();case"profile":return(()=>{if(c)switch(e){case"pins":return null!=o&&o.is_partner?r._('Nothing to see yet! Pins you publish will show up here.', 'profile.businessProfile.latestFeed.emptyLabel', 'label for empty business profile self-view of latest feed'):null;default:return null}switch(e){case"pins":return(0,s.nk)(r._('{{ firstName }} hasn\'t saved any Pins yet', 'Text displayed when a user has not saved any pins', 'Text displayed when a user has not saved any pins'),{firstName:a});case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t created any boards yet', 'Text displayed when a user has not created any boards', 'Text displayed when a user has not created any boards'),{firstName:a});case"domainPins":return(0,s.nk)(r._('{{ firstName }} hasn\'t had any pins saved from their domain yet', 'Text displayed when a user has not had any images from their website pinned', 'Text displayed when a user has not had any images from their website pinned'),{firstName:a});default:return null}})();case"community":return c?r._('No one is following you', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed'):(0,s.nk)(r._('Be the first to follow {{ firstName }}', 'Text displayed when a no one has followed a user\u2019s profile/boards', 'Text displayed when a no one has followed a user\u2019s profile/boards'),{firstName:null!==(u=null==o?void 0:o.first_name)&&void 0!==u?u:""});case"shop":return(()=>{switch(e){case"search":return r._('Sorry, we couldn\'t find any Pins for this search.', 'Text displayed when a search result is empty', 'Text displayed when a search result is empty');default:return null}})();default:return null}var u,_}},440414:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(966338),s=o(116303),r=o(985913),l=o(70598),a=o(430323),c=o(499128),d=o(898781),u=o(19121),_=o(343341),h=o(883119),p=o(5226),m=o(785893);const g=()=>window;const f=(0,i.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,p.ZN)(t)),unfollowUser:t=>e((0,p.fv)(t))})))((function({data:e,followUser:t,isFollowed:o,unfollowUser:i}){var a,p,g;const f=(0,d.ZP)(),x=(0,u.Z)(),{showOneToast:b}=(0,_.F9)(),y=`/${e.username}/`,v=x.isAuth&&x.id!==e.id,P=e.verified_identity&&e.verified_identity.verified,w=(0,r.Z)(f._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(a=e.full_name)&&void 0!==a?a:""});return(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,m.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(h.xu,{width:72,children:(0,m.jsx)(h.rU,{accessibilityLabel:w,href:y,children:(0,m.jsx)(s.Z,{accessibilityLabel:"",name:null!==(p=e.full_name)&&void 0!==p?p:"",size:"lg",src:null!==(g=e.image_xlarge_url)&&void 0!==g?g:void 0,verified:Boolean(P)})},`${y}:avatar`)}),(0,m.jsx)(h.xu,{width:332,paddingX:4,children:(0,m.jsx)(h.rU,{accessibilityLabel:w,href:y,children:(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})},`${y}:name`)})]}),v&&(0,m.jsx)(h.xu,{column:3,display:"flex",justifyContent:"center",children:(0,m.jsx)(h.xu,{flex:"shrink",children:(0,m.jsx)(l.Z,{followEventType:45,id:e.id,isFollowed:o,isUserMe:!1,onFollow:o=>{t(o),b((({hideToast:t})=>{var o;return(0,m.jsx)(c.ZP,{onHide:t,text:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(h.xv,{children:f._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,m.jsx)(h.xv,{weight:"bold",children:e.full_name})]}),href:y,imageUrl:null!==(o=e.image_medium_url)&&void 0!==o?o:""})}))},onUnfollow:e=>{i(e)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})})]})}));function x({user:e,followers:t,isOwnProfile:o}){const n=(0,d.ZP)(),{data:i,fetchMore:s,isFetching:r,isLoaded:l}=t;if(!e.isLoaded)return null;const c=o?3106:3107;return(0,m.jsx)(a.Z,{view:4,viewParameter:c,component:223,children:(0,m.jsxs)(h.W2,{children:[(0,m.jsx)(h.Rk,{columnWidth:600,comp:f,gutterWidth:0,items:i||[],layout:h.G3,loadItems:s,minCols:1,scrollContainer:g,virtualize:!0}),l&&i&&0===i.length&&(0,m.jsx)(h.xu,{marginBottom:3,children:(0,m.jsx)(h.$j,{accessibilityLabel:n._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:r||!l})})]})})}var b=o(767790),y=o(784590),v=o(953192),P=o(925927);function w(e){const{params:{username:t}}=(0,P.$B)(),o=(0,u.Z)(),n=(0,y.Z)({name:"UserFollowersResource",options:{username:t}}),i=(0,b.Z)();(0,v.G)(t,50);const s=o.isAuth&&o.username===t;return(0,m.jsx)(x,{followers:n,user:i,isOwnProfile:s})}},410004:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var n=o(667294),i=o(166150),s=o(858388),r=o(288494),l=o(695829),a=o(898781),c=o(784590),d=o(883119),u=o(785893);function _({user:e}){const t=(0,a.ZP)(),{data:o,fetchMore:n,isAtEnd:_,isFetching:h,isLoaded:p}=(0,c.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:e.username}});return(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.gr,{isAtEnd:_,isFetching:h,fetchMore:n}),p&&(o&&o.length?(0,u.jsx)(l.Z,{itemWidth:317,children:o.map(((e,t)=>(0,u.jsx)(d.xu,{width:317,paddingX:1,paddingY:4,children:(0,u.jsx)("div",{className:"item",style:{position:"relative"},children:(0,u.jsx)(i.Z,{board:e,slotIndex:t,layout:"wide"})})},e.id)))}):(0,u.jsx)(s.Z,{children:(0,u.jsx)(r.Z,{subject:"boards",surface:"following",user:e})})),(0,u.jsx)(d.$j,{accessibilityLabel:t._('Loading additional boards', 'Label for the loading state spinner in the Boards section of the Following page', 'Label for the loading state spinner in the Boards section of the Following page'),show:h||!p})]})}var h=o(966338),p=o(116303),m=o(985913),g=o(70598),f=o(499128),x=o(19121),b=o(343341),y=o(5226);const v=()=>window;const P=(0,h.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,y.ZN)(t)),unfollowUser:t=>e((0,y.fv)(t))})))((function({data:e,followUser:t,inFollowExp:o,isFollowed:i,unfollowUser:s}){var r,l,c;const _=(0,a.ZP)(),h=(0,x.Z)(),{showOneToast:y}=(0,b.F9)(),v=`/${e.username}/`,P=h.isAuth&&h.id!==e.id,w=Boolean(null===(r=e.verified_identity)||void 0===r?void 0:r.verified),A=(0,m.Z)(_._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(l=e.full_name)&&void 0!==l?l:""});return(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,"data-test-id":"profile-following",children:[(0,u.jsx)(d.xu,{width:72,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:v,children:(0,u.jsx)(p.Z,{accessibilityLabel:"",name:null!==(c=e.full_name)&&void 0!==c?c:"",src:e.image_xlarge_url||void 0,verified:w})},`${v}:avatar`)}),(0,u.jsx)(d.xu,{width:332,paddingX:2,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:v,children:(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})},`${v}:name`)}),(0,u.jsx)(d.xu,{column:3,display:"flex",justifyContent:"center",children:(0,u.jsx)(d.xu,{flex:"shrink",children:P&&(0,u.jsx)(g.Z,{followEventType:45,id:e.id,isFollowed:i,isUserMe:!1,onFollow:o=>{t(o),y((({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,text:(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(d.xv,{children:_._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})]}),href:v,imageUrl:e.image_medium_url||e.image_large_url||void 0})))},onUnfollow:e=>{s(e)},textType:"FollowFollowing",unfollowEventType:46,viewType:4})})})]})}));function w({user:e,following:t}){const o=(0,a.ZP)(),{data:n,fetchMore:i,isFetching:s,isLoaded:r}=t;return e.isLoaded?(0,u.jsxs)(d.W2,{children:[(0,u.jsx)(d.Rk,{columnWidth:600,comp:P,gutterWidth:0,items:n||[],layout:d.G3,loadItems:i,minCols:1,scrollContainer:v,virtualize:!0}),r&&n&&0===n.length&&(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.$j,{accessibilityLabel:o._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:s||!r})})]}):null}var A=o(767790),C=o(925927);const E=function(){const{params:e}=(0,C.$B)(),t=(0,c.Z)({name:"UserFollowingResource",options:{username:e.username}}),o=(0,A.Z)();return(0,u.jsx)(w,{following:t,user:o})};var j=o(441553),T=o(430323),I=o(619983),S=o(407043),z=o(81636),k=o(780280);function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class R extends n.PureComponent{constructor(e){super(e),D(this,"getOptions",(()=>Object.keys(this.options).map((e=>({label:this.options[e]?this.options[e].label:"",value:this.options[e]?this.options[e].value:""}))))),D(this,"handleSelectChange",(({value:e})=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:this.options[e].elementType}),this.setState({selectedOption:e})})),D(this,"initOptions",(()=>{const{requestContext:e,user:t}=this.props;return new I.v(e,"web_all_profiles_follow_parity").enabledWithNoActivation()&&t.data&&!t.data.show_creator_profile?{People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"}}:{People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"},Topics:{elementType:1227,label:this.props.i18n._('Topics', 'The label for the Topics tab on the Following page', 'The label for the Topics tab on the Following page'),render:this.renderTopicsTab,value:"Topics"}}})),D(this,"renderPeopleTab",(()=>(0,u.jsx)(E,{}))),D(this,"renderBoardsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(_,{user:e}):null})),D(this,"renderTopicsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(j.ZP,{user:e}):null})),this.state={selectedOption:"People"},this.options=this.initOptions()}render(){const{user:e,username:t,viewer:o}=this.props,{isLoaded:n}=e;if(!n)return null;const{selectedOption:i}=this.state,s=this.options[i].render(),r=o.isAuth&&t===o.username?3106:3107;return(0,u.jsx)(T.Z,{view:4,viewParameter:r,component:224,children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.W2,{children:(0,u.jsx)(d.xu,{column:12,display:"flex",justifyContent:"end",paddingY:2,children:(0,u.jsx)(d.xu,{flex:"shrink",children:(0,u.jsx)(d.EI,{id:"ProfileFollowingOptions",onChange:this.handleSelectChange,options:this.getOptions(),size:"lg",value:i})})})}),(0,u.jsx)(d.W2,{children:s})]})})}}function O(){const{logContextEvent:e}=(0,S.v)(),t=(0,a.ZP)(),o=(0,x.Z)(),{username:n}=(0,C.UO)(),i=(0,A.Z)(),s=(0,k.B)();let r;return o.isAuth&&o.username===n&&(r=o.id),(0,z.Q)({object_id_str:r,view_type:4,view_parameter:51}),(0,u.jsx)(R,{requestContext:s,user:i,username:n,viewer:o,i18n:t,logContextEvent:e})}},695829:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);const s=(e,t)=>Array.from(new Array(t)).map(((t,o)=>(0,i.jsx)(n.xu,{width:e},o)));const r=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,i.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,s(t,o)]})}},390007:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(113563),s=o(756050),r=o(608190),l=o(966113),a=o(898781),c=o(946984),d=o(545062),u=o(349700),_=o(407043),h=o(925927),p=o(780280),m=o(81636),g=o(121151),f=o(883119),x=o(640586),b=o(785893);const y=new f.H3([g.b7]);function v({isOwnProfile:e,onDismiss:t,onToggleFollow:v,setShowMessageFlyout:P,user:w}){var A,C;const{logContextEvent:E}=(0,_.v)(),j=(0,a.ZP)(),T=(0,c.Z)(),I=(0,h.k6)(),S=(0,p.B)().isRTL,z=(0,x.V)(e,(null===(A=w.partner)||void 0===A?void 0:A.profile_place)||{},j._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied'));(0,m.Q)({view_type:548,view_parameter:e?3106:3107});const k=e=>{E({event_type:101,element:e,view_type:548,view_parameter:3107})},[D,R]=(0,n.useState)(),O=async()=>{const e=await o.e(55302).then(o.bind(o,755302));R((()=>e.parsePhoneNumberFromString))};(0,n.useEffect)((()=>{D||O()}),[D]);const{about:L,full_name:F,is_primary_website_verified:M,is_verified_merchant:B,partner:N,website_url:U}=w,{contact_email:Z="",contact_phone:G="",contact_phone_country:H={},enable_profile_address:V,enable_profile_message:W,profile_place:K}=null!=N?N:{},$=G?null==D?void 0:D(G,{defaultCallingCode:H&&"0"!==H.phone_code?H.phone_code:null}):null,Y=(0,b.jsx)(f.xu,{height:444,marginStart:6,marginEnd:10,children:(0,b.jsxs)(f.kC,{direction:"column",gap:9,children:[(0,b.jsxs)(f.kC,{direction:"column",gap:6,children:[B&&(0,b.jsx)(i.Z,{accessibilityLabel:j._('Verified merchant icon', 'profileHeader.aboutDrawer.verifiedMerchantIcon', 'Icon showing that user is a verified merchant'),color:"blue",icon:"workflow-status-ok",info:(0,b.jsx)(f.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,b.jsx)(f.rU,{href:l.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:j._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})}),U&&(0,b.jsx)(i.Z,{accessibilityLabel:j._('Website icon', 'profileHeader.aboutDrawer.websiteIcon', 'Icon next to user\'s website'),icon:M?"globe-checked":"globe",info:(0,b.jsx)(f.xv,{inline:!0,weight:"bold",children:(0,b.jsx)(f.rU,{rel:"nofollow",target:"blank",href:U,inline:!0,underline:"hover",children:(0,r.Z)(U)})})}),(0,b.jsx)(s.Z,{isAboutDrawerVariant:!0,user:w}),V&&(0,b.jsx)(i.Z,{accessibilityLabel:j._('Location icon', 'profileHeader.aboutDrawer.locationIcon', 'Icon next to user\'s address'),icon:"location",info:(0,b.jsx)(f.iP,{onTap:z,children:(0,b.jsx)(f.xv,{weight:"bold",children:(0,x.T)(K||{})})})})]}),(0,b.jsx)(f.xv,{children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.4"}},children:L})})]})}),q=(0,b.jsx)(f.kC,{justifyContent:"end",children:(0,b.jsx)(f.zx,{size:"lg",text:j._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:T((()=>{E({event_type:101,element:94,view_type:548,view_parameter:3106}),I.push("/settings#profile")}))})}),X=(0,b.jsxs)(f.kC,{justifyContent:"between",children:[(0,b.jsxs)(f.kC,{children:[W&&(0,b.jsx)(f.u,{idealDirection:"up",text:j._('Message', 'profileHeader.aboutDrawer.message', 'Menu option to message the user'),zIndex:y,children:(0,b.jsx)(f.hU,{accessibilityLabel:j._('Send message', 'profileHeader.aboutDrawer.messageIconButton', 'Button to send message to profile owner'),icon:"speech-ellipsis",iconColor:"darkGray",onClick:()=>{k(11956),P(!0),t()},padding:5,size:"lg"})}),($||G)&&(0,b.jsx)(f.u,{idealDirection:"up",text:j._('Call', 'profileHeader.aboutDrawer.phoneNumber', 'Menu option to call the user'),zIndex:y,children:(0,b.jsx)(f.hU,{accessibilityLabel:j._('Call', 'profileHeader.aboutDrawer.phoneIconButton', 'Button to call profile owner'),href:`tel:${$?$.getURI():G}`,icon:"phone",iconColor:"darkGray",onClick:()=>{k(11955)},rel:"nofollow",role:"link",padding:5,size:"lg",target:"blank"})}),Z&&(0,b.jsx)(f.u,{idealDirection:"up",text:(0,u.nk)(j._('Email {{ contactEmail }}', 'profileHeader.aboutDrawer.email', 'Menu option to send an email to the user'),{contactEmail:Z}).join(""),zIndex:y,children:(0,b.jsx)(f.hU,{accessibilityLabel:j._('Send email', 'profileHeader.aboutDrawer.emailIconButton', 'Button to send email to profile owner'),href:`mailto:${Z}`,icon:"gmail",iconColor:"darkGray",onClick:()=>{k(11954)},role:"link",rel:"nofollow",padding:5,size:"lg",target:"blank"})})]}),(0,b.jsx)(d.Z,{button:({followText:e,onClick:t})=>(0,b.jsx)(f.xu,{"data-test-id":w.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,b.jsx)(f.zx,{color:"red",onClick:t,selected:w.explicitly_followed_by_me,size:"lg",text:e})}),fullName:F,id:w.id,imageUrl:null!==(C=w.image_large_url)&&void 0!==C?C:"",isOwnProfile:!1,onUserFollow:v,profileUrl:`/${w.username}/`,userFollowed:w.explicitly_followed_by_me,viewType:548})]}),Q=(0,b.jsxs)(f.xu,{marginEnd:9,padding:8,children:[(0,b.jsx)(f.X6,{size:"500",children:(0,u.nk)(j._('About {{ name }}', 'profileHeader.aboutDrawer.heading', 'Heading for modal that shows a user\'s profile information'),{name:F})}),(0,b.jsx)(f.xu,{left:S,padding:8,position:"absolute",right:!S,top:!0,children:(0,b.jsx)(f.hU,{accessibilityLabel:j._('Close', 'profileHeader.aboutDrawer.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})})]});return(0,b.jsx)(g.ZP,{accessibilityModalLabel:j._('About the user', 'profileHeader.aboutDrawer.modal', 'Accessibility label for modal that shows a user\'s profile information'),footer:e?q:X,heading:Q,onDismiss:t,size:"sm",children:Y})}},113563:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e,color:t="darkGray",icon:o,info:s}){return(0,i.jsxs)(n.kC,{gap:7,children:[(0,i.jsx)(n.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),s]})}},678862:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(116303),i=o(521641),s=o(816003),r=o(898781),l=o(883119),a=o(785893);function c({onTouch:e,user:t,viewer:o}){const c=(0,r.ZP)(),{image_xlarge_url:d,username:u}=t,_=(0,s.Z)(t),h=(0,i.Z)({viewer:o,user:t})||o.isAuth&&o.isEmployee,p=(0,a.jsx)(n.Z,{name:u,outline:_,size:"xl",src:null!=d?d:void 0});return h?(0,a.jsx)(l.iP,{accessibilityLabel:c._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:p}):p}},45347:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(285970),i=o(890328),s=o(774026),r=o(440414),l=o(410004),a=o(842822),c=o(320101),d=o(117855),u=o(627658),_=o(375553),h=o(256883),p=o(67973),m=o(217468),g=o(185760),f=o(785893);function x({businessProfileTab:e}){const t=(0,m.tc)("web_unified_followers_page"),o={[g.u.CREATED]:i.default,[g.u.FOLLOWERS]:t().anyEnabled?h.default:r.default,[g.u.FOLLOWING]:l.default,[g.u.PINS]:p.default,[g.u.SAVED]:a.default,[g.u.SHOP]:c.default,[g.u.STORY_PINS]:d.default,[g.u.TOPICS]:u.default,[g.u.TRIED]:n.default,[g.u.VIDEO_PINS]:_.default,[g.u.DECIDER]:s.default},x=e?o[e]:null;return x?(0,f.jsx)(x,{}):null}},549883:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(887831),s=o(898781),r=o(883119),l=o(785893);function a(){const e=(0,s.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:o,onMouseLeave:a}}=(0,i.Z)(),c=(0,n.useRef)();return(0,l.jsxs)(r.xu,{display:"inlineBlock",onFocus:o,onBlur:a,onMouseOver:o,onMouseLeave:a,position:"relative",tabIndex:0,children:[(0,l.jsx)(r.xu,{display:"inlineBlock",ref:c,children:(0,l.jsx)(r.JO,{accessibilityLabel:t?"":e._('Claimed website', 'Claimed website icon', 'Claimed website icon'),color:"default",icon:"globe-checked",inline:!0,size:16})}),t&&(0,l.jsx)(r.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,l.jsx)(r.xu,{column:12,padding:3,children:(0,l.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"100",children:e._('This website has been claimed', 'Tooltip for claimed website.', 'Tooltip for claimed website.')})})})]})}},14005:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(45352),s=o(898781),r=o(349700),l=o(217468),a=o(407043),c=o(81636),d=o(640586),u=o(883119),_=o(785893);function h({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:h,user:p}){var m;const{logContextEvent:g}=(0,a.v)(),f=(0,l.tc)("web_about_drawer")().anyEnabled,x=(0,s.ZP)(),b=(0,n.useRef)(null),[y,v]=(0,n.useState)(!1),[P,w]=(0,n.useState)(),A=(0,d.V)(e,(null===(m=p.partner)||void 0===m?void 0:m.profile_place)||{},x._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),C=()=>{v(!1)},{id:E,partner:j}=p,{contact_email:T="",contact_phone:I="",contact_phone_country:S="",enable_profile_address:z,enable_profile_message:k,profile_place:D={}}=null!=j?j:{},R=I?null==P?void 0:P(I,{defaultCallingCode:S&&"0"!==S.phone_code?S.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107});const O=async()=>{if(v((e=>!e)),I&&!P){const e=await o.e(55302).then(o.bind(o,755302));w((()=>e.parsePhoneNumberFromString))}g({event_type:101,component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107})},L=e=>{g({event_type:101,component:13674,element:e,object_id_str:E,view_type:48,view_parameter:3107})},F=T||R,M={contact:x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f?x._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'):x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),message:x._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,r.nk)(x._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'Menu option to send an email to the user'),{contactEmail:T}),call:x._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!F&&!k)return null;const B=(0,d.T)(D||{});return(0,_.jsx)(i.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:h,userId:E,children:({toggleSendMessageFlyout:e})=>(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.xu,{ref:b,children:(0,_.jsx)(u.zx,{onClick:()=>{F?O():e()},selected:y,size:"lg",text:M.contact})}),y&&(0,_.jsxs)(u.Lt,{id:"profileHeader_contactMenu",anchor:b.current,idealDirection:"up",onDismiss:C,children:[(0,_.jsxs)(u.Lt.Section,{label:M.sectionTitle,children:[k&&(0,_.jsx)(u.Lt.Item,{onSelect:()=>{e(),L(11956),C()},option:{label:M.message,value:M.message}}),T&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,href:`mailto:${T}`,onClick:()=>{L(11954),C()},option:{label:M.email.join(""),value:M.email.join("")}}),(R||I)&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{L(11955),e(),C()},href:`tel:${R?R.getURI():I}`,option:{label:M.call,value:M.call}})]}),f&&z&&(0,_.jsx)(u.Lt.Section,{label:x._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,_.jsx)(u.Lt.Item,{onSelect:A,option:{label:B,value:B}})})]})]})})}},756050:(e,t,o)=>{o.d(t,{Z:()=>ee});var n=o(978674),i=o(319915),s=o(667294),r=o(113563),l=o(939106),a=o(694379),c=o(898781),d=o(19121),u=o(349700),_=o(883119),h=o(785893);function p({count:e,onClick:t,variant:o}){const n=(0,c.ZP)(),{isAuth:i}=(0,d.Z)(),s=e<=0,r={followers:(0,u.nk)(n.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(n.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return i?(0,h.jsx)(_.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,h.jsx)(_.iP,{disabled:s,onTap:()=>t(o),children:(0,h.jsx)(_.xv,{inline:!0,weight:s?"normal":"bold",children:r[o]})})}):(0,h.jsx)(_.xv,{inline:!0,children:r[o]})}function m({headingText:e,itemIndex:t,onDismiss:o,setItemIndex:n,showSegmentedController:i}){const r=(0,c.ZP)(),l=[r._('People', 'FollowersModalHeading.tabs.people', 'Tab for displaying Pinner follows'),r._('Boards', 'FollowersModalHeading.tabs.boards', 'Tab for displaying board follows')];return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsxs)(_.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,h.jsx)(_.X6,{size:"500",children:(0,h.jsx)(_.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,h.jsx)(_.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,h.jsx)(_.hU,{accessibilityLabel:r._('Close modal', 'FollowersModal.closeModalButton', 'Accessibility label for button to close the modal'),icon:"cancel",onClick:o})})]}),i&&(0,h.jsx)(_.xu,{paddingX:6,marginBottom:2,children:(0,h.jsx)(_.sY,{selectedItemIndex:t,items:l,onChange:({activeIndex:e})=>n(e)})})]})}var g=o(166150),f=o(695829),x=o(784590),b=o(8405);function y({layout:e,user:t}){const o=(0,c.ZP)(),n=(0,b.m)(e),i=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:t.username}}),{data:r,fetchMore:l,isAtEnd:a,isFetching:d,isLoaded:u}=i;return(0,h.jsxs)(s.Fragment,{children:[u&&r&&(0,h.jsx)(f.Z,{itemWidth:n,children:r.map(((t,o)=>(0,h.jsx)(_.xu,{width:n,padding:2,children:(0,h.jsx)(g.Z,{board:t,slotIndex:o,layout:e})},t.id)))}),(0,h.jsx)(_.$j,{accessibilityLabel:o._('Loading additional boards', 'FollowingBoards.spinner.accessibilityLabel', 'Label for the loading state spinner in the Boards section of the Following page'),show:d||!u}),!a&&!d&&(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:o._('See more', 'FollowingBoards.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:d,onClick:l,text:o._('See more', 'FollowingBoards.moreButton.text', 'Button text to see more')})})]})}var v=o(121151),P=o(35934);const w="square",A=(0,b.m)(w),C="number"==typeof A?2*A+48:"md";function E({accessibilityModalLabel:e,followersResource:t,headingText:o,onDismiss:n,showSegmentedController:i,user:r}){const l=(0,c.ZP)(),{data:a,fetchMore:d,isAtEnd:u,isFetching:p}=t,[g,f]=(0,s.useState)(0),x=a&&a.length>0&&0===g&&a.map((e=>(0,h.jsx)(P.Z,{showVerified:!0,user:e},e.id)));return(0,h.jsxs)(v.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:o,onDismiss:n,itemIndex:g,showSegmentedController:i,setItemIndex:f}),onDismiss:n,size:C,children:[(0,h.jsxs)(_.xu,{paddingX:6,paddingY:2,children:[(0,h.jsx)(s.Fragment,{children:x}),1===g&&(0,h.jsx)(y,{user:r,layout:w})]}),u||0!==g?null:(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:l._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:p,onClick:d,text:l._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})})]})}var j=o(521641),T=o(81636);function I({followersResource:e,onDismiss:t,totalFollowersCount:o,user:n,variant:i}){const r=(0,c.ZP)(),l="following"===i;(0,T.Q)({view_type:4,view_parameter:l?51:50});const _=(0,d.Z)(),p=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:n.username}}),m=!!p.data&&p.data.length>0,g={followers:r._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),following:r._('Following', 'FollowersModal.accessibilityModalLabel.following', 'Accessibility label for modal showing what of a given entity is following')},f={followers:null,following:r._('Following', 'FollowersModal.heading.following', 'Header text for modal showing what given entities a user is following')},b={followers:(0,u.nk)(r.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:o},"totalFollowersCount")}),following:null},y=(0,h.jsx)(s.Fragment,{children:[f[i],b[i]].filter(Boolean).reduce(((e,t,o)=>[...e,0!==o?" • ":null,t]),[])}),v=(0,j.Z)({user:n,viewer:_}),P=m&&v&&l;return(0,h.jsx)(E,{accessibilityModalLabel:g[i],headingText:y,showSegmentedController:P,onDismiss:t,followersResource:e,user:n})}var S,z,k,D=o(116303),R=o(70598),O=o(167912);const L=void 0!==S?S:S=o(126885),F=void 0!==z?z:z=o(811761),M=void 0!==k?k:k=o(17495);function B({pinner:e}){const t=(0,O.useFragment)(L,e),{id:o,username:n,fullName:i,imageMediumUrl:s,explicitlyFollowedByMe:r=!1,entityId:l}=t,[a,c]=(0,O.useMutation)(F),[d,u]=(0,O.useMutation)(M),p=c||u,m=()=>{},g=()=>{};return(0,h.jsxs)(_.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,h.jsx)(_.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(_.iP,{role:"link",href:n?`/${n}/`:"/",children:(0,h.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,h.jsx)(_.xu,{width:50,children:s&&(0,h.jsx)(D.Z,{name:i||"",src:s,size:"fit"})}),(0,h.jsx)(_.xv,{weight:"bold",children:i})]})})}),(0,h.jsx)(_.xu,{paddingX:1,children:(0,h.jsx)(R.Z,{disabled:p,followEventType:45,id:o,isFollowed:r||!1,isUserMe:!1,onFollow:()=>{a({variables:{followee:l},onCompleted:m,onError:g})},onUnfollow:()=>{d({variables:{followee:l},onCompleted:m,onError:g})},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}var N;const U=(0,b.m)("square"),Z="number"==typeof U?2*U+48:"md";function G({accessibilityModalLabel:e,headingText:t,onDismiss:i,userReference:s}){var r,l;const a=(0,c.ZP)(),{data:d,loadNext:u,hasNext:p,isLoadingNext:g}=(0,O.usePaginationFragment)(void 0!==N?N:N=o(510289),{...s,count:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE});if(!d)return null;const f=(null===(r=d.followers)||void 0===r||null===(l=r.connection)||void 0===l?void 0:l.edges.map((e=>null==e?void 0:e.node)))||[];return(0,h.jsxs)(v.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:t,onDismiss:i,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:i,size:Z,children:[(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",paddingX:6,paddingY:2,children:f.map((e=>(0,h.jsx)(B,{pinner:e},e.entityId)))}),p?(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:a._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:g,onClick:()=>{u(n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE)},text:a._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})}):null]})}function H({onDismiss:e,userReference:t,totalFollowersCount:o}){const n=(0,c.ZP)();(0,T.Q)({view_type:4,view_parameter:50});const i=n._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!o&&(0,h.jsx)(s.Fragment,{children:(0,u.nk)(n.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:o},"totalFollowersCount")})});return(0,h.jsx)(G,{accessibilityModalLabel:i,headingText:r,onDismiss:e,userReference:t})}var V=o(816003),W=o(256883);function K({onDismiss:e,totalFollowersCount:t}){const o=(0,c.ZP)(),n=(0,s.useRef)(null),i=o._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!t&&(0,h.jsx)(s.Fragment,{children:(0,u.nk)(o.ngettext('{{ count }} Follower', '{{ count }} Followers', t, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:t},"totalFollowersCount")})});return(0,h.jsx)(v.ZP,{accessibilityModalLabel:i,heading:(0,h.jsx)(m,{headingText:r,onDismiss:e,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:e,size:550,_dangerouslyDisableScrollBoundaryContainer:!0,children:(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",height:700,overflow:"auto",ref:n,children:(0,h.jsx)(W.default,{scrollContainer:()=>n.current||window})})})}var $=o(661106),Y=o(217468);function q({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:n,user:i,userReference:a}){const[d,u]=(0,s.useState)(null),m=(0,c.ZP)(),g=(0,Y.tc)("web_unified_followers_page"),f=()=>{u(null)},x=(0,V.Z)(i);return(0,h.jsxs)(s.Fragment,{children:[n?(0,h.jsxs)(_.kC,{direction:"column",gap:6,children:[!!e&&e>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:m._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,h.jsx)(l.Z,{items:[(0,h.jsx)(p,{count:e,onClick:u,variant:"followers"},"followersDisplay"),x?(0,h.jsx)($.Z,{user:i}):null]})}),o>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:m._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,h.jsx)(p,{count:o,onClick:u,variant:"following"})})]}):(0,h.jsx)(l.Z,{items:[e&&e>=0?(0,h.jsx)(p,{count:e,onClick:u,variant:"followers"}):null,o>=0?(0,h.jsx)(p,{count:o,onClick:u,variant:"following"}):null]}),"followers"===d&&!g&&(0,h.jsx)(H,{onDismiss:f,totalFollowersCount:e,userReference:a}),"followers"===d&&g&&(0,h.jsx)(K,{onDismiss:f,totalFollowersCount:e}),"following"===d&&(0,h.jsx)(I,{followersResource:t,onDismiss:f,totalFollowersCount:o,variant:d,user:i})]})}var X,Q=o(947599);function J({isAboutDrawerVariant:e=!1,user:t}){var i;const s=(0,d.Z)(),{id:r}=t,l=void 0!==X?X:X=o(226501),a=(0,O.useLazyLoadQuery)(l,{userId:r}),{following_count:c=0,interest_following_count:u=0}=t,{data:_}=null!==(i=a.v3GetUserHandlerQuery)&&void 0!==i?i:{},{followerCount:p,username:m}=_||{},g=(0,j.Z)({user:t,viewer:s}),f=(0,x.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!_)return null;const b=c-(null!=u?u:0);return(0,h.jsx)(q,{followersTotalCount:p,followingResource:f,followingTotalCount:b,isAboutDrawerVariant:e,user:t,userReference:_})}function ee(e){const t=(0,c.ZP)();return(0,h.jsx)(i.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,h.jsx)(Q.Z,{fallback:(0,h.jsx)(_.xu,{padding:5,children:(0,h.jsx)(_.$j,{accessibilityLabel:t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner'),show:!0})}),children:(0,h.jsx)(J,{...e})})})}},601769:(e,t,o)=>{o.d(t,{Z:()=>w});var n=o(667294),i=o(172071),s=o(898781),r=o(91214),l=o(934523),a=o(642345),c=o(349700),d=o(407043),u=o(217468),_=o(883119),h=o(752403),p=o(785893);const m=new _.H3([new _.Ry(r.HW),new _.Ry(l.fe)]),g="/settings/account-settings/",f=({text:e})=>{const t=(0,n.useRef)(null),[o,s]=(0,n.useState)(!1);return o&&i.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,p.jsxs)(n.Fragment,{children:[o&&(0,p.jsx)(_.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>s(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsx)(_.xv,{color:"inverse",align:"center",size:"200",children:e})})}),(0,p.jsx)(_.xu,{width:32,height:32,children:(0,p.jsx)(_.iP,{onFocus:()=>s(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,p.jsx)(_.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm"})})})]})},x=({badgeLabel:e,disabled:t,eligible:o,isChecked:n,setSelectedBadge:i})=>{const s=(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:h.QP[0],color:o?"black":"gray"}},children:e.label})})})});return(0,p.jsxs)(_.kC,{alignItems:"start",direction:"row",children:[(0,p.jsx)(_.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,p.jsx)(_.XZ,{checked:n,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>i(e.id,t)},e.id)}),e.controlsTooltip?(0,p.jsx)(_.u,{text:e.controlsTooltip,idealDirection:"right",children:s}):s]},e.id)};function b({inspirationalSignal:e,onDismiss:t,onSubmit:o}){var r;const{logContextEvent:l}=(0,d.v)(),b=(0,s.ZP)(),y=b._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),v=b._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),P=b._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),w=b._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),A=b._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),C=b._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),E=b._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),j=(0,h.eT)(e),T=(0,h.hm)(e),I=(0,h.I)(b,j,e.badge_details),S=(0,h.I)(b,T,e.badge_details),z=I.filter((e=>h.yQ.includes(e.id))),k=I.filter((e=>h.Dm.includes(e.id))),D=I.map((e=>e.id)),R=S.map((e=>e.id)),O=(null===(r=e.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0],[L,F]=(0,n.useState)(R),[M,B]=(0,n.useState)(!1),[N,U]=(0,n.useState)(O),Z=(0,n.useRef)(null),G=Boolean((0,a.oo)(N)),H=G?N.toUpperCase():h.QP[0],V=H===h.QP[0]?`${H} (${E})`:H,{anyEnabled:W}=(0,u.aq)(h.Fp),{anyEnabled:K}=(0,u.aq)(h.lz),$=L.filter((e=>h.Dm.includes(e))),Y=D.filter((e=>!L.includes(e))),q=R.length!==L.length||!L.every((e=>R.includes(e)))||N!==O,X=(e,t)=>{F(t?[...L,e]:L.filter((t=>t!==e)));l({event_type:t?9675:9676,component:13911})};return i.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,p.jsx)(_.mh,{zIndex:m,children:(0,p.jsx)(_.yo,{accessibilityDismissButtonLabel:b._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilitySheetLabel:b._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),heading:b._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,p.jsxs)(_.kC,{direction:"row",justifyContent:"between",children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:b._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,p.jsx)("br",{}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:(0,p.jsx)(_.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:v,inline:!0,underline:"hover",children:v})})]}),(0,p.jsx)(_.xu,{children:(0,p.jsxs)(_.hE,{children:[(0,p.jsx)(_.zx,{color:"gray",text:b._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges'),onClick:e}),(0,p.jsx)(_.zx,{color:"red",text:b._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges'),disabled:!q,onClick:()=>o({badgeColor:N,badgeOptOut:Y})})]})})]}),size:"sm",children:(0,p.jsx)(_.kC,{direction:"column",gap:12,children:(0,p.jsxs)(_.kC,{direction:"column",gap:4,children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsxs)(_.xv,{inline:!0,children:[b._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),b._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]})," ",(0,p.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(_.rU,{href:h._f,accessibilityLabel:y,target:"blank",inline:!0,onClick:()=>{l({event_type:9677,component:13911})},underline:"hover",children:y})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:P}),(0,p.jsx)(f,{text:w})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:P,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:z.map((e=>{const t=L.includes(e.id),o=L.length>=h.S4&&!t;return(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:X},e.id)}))})})})]}),k.length>0&&(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:A}),(0,p.jsx)(f,{text:C})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:A,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:k.map((e=>{const t=L.includes(e.id);let o;return o=K?L.length>=h.S4&&!t:(L.length>=h.S4||$.length>=h.st)&&!t,(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:X},e.id)}))})})}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:(0,c.nk)(b._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,p.jsx)(_.rU,{inline:!0,href:g,underline:"hover",children:(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:b._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},g)})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[W&&(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xu,{marginTop:4,marginBottom:4,children:(0,p.jsx)(_.__,{htmlFor:"color-menu",children:(0,p.jsx)(_.xv,{size:"200",children:b._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,p.jsx)(_.zx,{accessibilityControls:"color-menu",accessibilityExpanded:M,accessibilityHaspopup:!0,selected:M,onClick:()=>{l({event_type:9674,component:13911}),B(!0)},text:V,iconEnd:"arrow-down",size:"lg"})]}),(0,p.jsx)(_.xu,{ref:Z}),M&&(0,p.jsx)(_.mh,{children:(0,p.jsx)(_.J2,{anchor:Z.current,idealDirection:"down",onDismiss:()=>B(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,p.jsxs)(_.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,p.jsx)(_.kC,{alignItems:"start",gap:4,children:h.QP.map((e=>(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:N===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,p.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>U(e)})},e)))}),(0,p.jsxs)(_.kC,{alignItems:"start",gap:4,children:[(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:G&&!h.QP.includes(N.toUpperCase())?"black":void 0,backgroundColor:H}}}),(0,p.jsx)(_.nv,{id:"selected-color",value:N,onChange:({value:e})=>U(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var y=o(6637),v=o(969986);const P=new _.Ry(10);function w({country:e,isOwnProfile:t,userId:o}){var r;const{logContextEvent:l}=(0,d.v)(),a=(0,s.ZP)(),c=a._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),m=a._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),g=a._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),f=a._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),{anyEnabled:x}=(0,u.aq)(h.k$),{anyEnabled:w}=(0,u.aq)(h.Fp),A=(0,v.ye)(),C=A.data||{},E=(0,h.Bu)({areBadgesEnabled:x,country:e,verifiedMerchant:C}),j=(0,n.useRef)(),[T,I]=(0,n.useState)(h.Xe),[S,z]=(0,n.useState)(!1),[k,D]=(0,n.useState)(!0),R=E?(0,h.hm)(T):[],O=(0,h.I)(a,R,T.badge_details),L=w&&(null===(r=T.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0];(0,n.useEffect)((()=>{I(C.inspirational_signal||h.Xe)}),[C.inspirational_signal]),(0,n.useEffect)((()=>{l({event_type:9667,component:13910})}));const F=()=>{z(!0),D(!1),l({event_type:9671,component:13911})},M=()=>{l({event_type:9668,component:13910})},B=()=>{l({event_type:9670,component:13910})};return E&&i.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:t,num_badges:O.length,badge_color:L,user_id:C.id}),E?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[O.map((e=>(0,p.jsx)(_.u,{link:(0,p.jsx)(_.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,p.jsx)(_.rU,{href:h.NG,accessibilityLabel:c,target:"blank",onClick:B,children:(0,p.jsx)(_.xv,{color:"inverse",size:"100",weight:"bold",children:c})})}),text:e.description,zIndex:P,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.iP,{onMouseEnter:M,children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,h.ym)(L)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),t&&(0,p.jsxs)(n.Fragment,{children:[k&&(0,p.jsx)(_.mh,{zIndex:P,children:(0,p.jsx)(_.J2,{anchor:j.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{D(!1),l({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsxs)(_.xv,{color:"inverse",align:"center",size:"200",children:[(0,p.jsx)("strong",{children:m})," ",g]})})})}),0===O.length&&(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.iP,{onTap:F,fullWidth:!0,children:(0,p.jsx)(_.xv,{color:"subtle",children:f})})}),(0,p.jsx)(_.hU,{accessibilityLabel:f,icon:"edit",onClick:F,size:"sm",ref:j})]})]}),S&&(0,p.jsx)(b,{inspirationalSignal:T,onDismiss:()=>z(!1),onSubmit:({badgeColor:e,badgeOptOut:t})=>{z(!1),y.ZP.create("VerifiedMerchantResource",{userId:o,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}).callUpdate().then((()=>A.refresh()));const n={...T,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}};I(n),l({event_type:9672,component:13911})}})]}):(0,p.jsx)(n.Fragment,{})}},559319:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),s=o(81636),r=o(785893);function l({showSendMessageFlyout:e,userId:t}){const o=(0,n.ZP)();return(0,s.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,r.jsx)(i.zx,{fullWidth:!0,size:"lg",text:o._('Message', 'profileHeader.messageButton', 'Button on a user profile to message that user'),onClick:e})}},668369:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(966338),s=o(390007),r=o(678862),l=o(549883),a=o(14005),c=o(939106),d=o(319915),u=o(333312),_=o(756050),h=o(608190),p=o(601769),m=o(521641),g=o(816003),f=o(263116),x=o(559319),b=o(957767),y=o(45352),v=o(542533),P=o(409828),w=o(631466),A=o(883561),C=o(703425),E=o(966113),j=o(941646),T=o(898781),I=o(717615),S=o(946984),z=o(722081),k=o(545062),D=o(19121),R=o(993786),O=o(661106),L=o(231947),F=o(310214),M=o(752403),B=o(407043),N=o(925927),U=o(783571),Z=o(217468),G=o(883119),H=o(890087),V=o(785893);const W=(0,f.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(63663).then(o.bind(o,269128)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 269128}}),K={PARTNER:656,PINNER:488},$=170,Y=312;function q({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:f,selectedTab:q,user:X}){var Q;const{logContextEvent:J}=(0,B.v)(),ee=(0,i.useDispatch)(),te=(0,T.ZP)(),oe=(0,D.Z)(),ne=(0,n.useRef)(null),ie=(0,n.useRef)(null),[se,re]=(0,n.useState)(null),[le,ae]=(0,n.useState)(!1),[ce,de]=(0,n.useState)(!1),ue=(0,I.Z)(),_e=(0,S.Z)(),he=(0,N.k6)();(0,z.Z)((e=>{re(e.clientHeight)}),ne);const pe=(0,Z.tc)("web_profile_pronouns")().anyEnabled,me=!!X.show_suggested_creator_recs,ge=(0,U.n)(),[fe,xe]=(0,n.useState)(!1);(0,n.useEffect)((()=>{me&&ge&&xe(!0)}),[me,ge]);const{about:be,country:ye="",is_primary_website_verified:ve,full_name:Pe,impressum_url:we,is_verified_merchant:Ae,username:Ce,verified_identity:Ee,website_url:je,id:Te,pronouns:Ie}=X,Se=!(0,L.N1)(oe,X,ue),ze=(0,g.Z)(X),ke=oe.isLimitedLogin,De=(0,H.j3)()&&Boolean(we),Re=(null==Ee?void 0:Ee.verified)||Ae,Oe=Ie?Ie.join("/"):"",{anyEnabled:Le}=(0,Z.aq)(M.k$),Fe=(0,Z.tc)("web_about_drawer")().anyEnabled,Me=(0,Z.tc)("hfp_profile_post_follow_suggested_creators_web"),Be=!!Se&&Me().anyEnabled,Ne=(null==je?void 0:je.length)||0,Ue=(null==we?void 0:we.length)||0,Ze=$-Ne-Ue,Ge=()=>be?Fe?(0,V.jsxs)(n.Fragment,{children:[(0,V.jsx)(G.xv,{inline:!0,children:(0,A.ZP)(be,Ze)}),be.length>Ze&&(0,V.jsx)(G.xu,{display:"inlineBlock",children:(0,V.jsx)(G.iP,{accessibilityLabel:te._('Expand about section', 'profile.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to expand profile about section'),onTap:()=>{J({event_type:101,component:14011,view_type:4,view_parameter:(0,m.Z)({user:X,viewer:oe})?3106:3107}),ae(!0)},children:(0,V.jsx)(G.xv,{inline:!0,weight:"bold",children:te._('more', 'profile.profileHeader.moreText', 'Clickable text to expand profile about section')})})})]}):(0,V.jsx)(G.xv,{inline:!0,children:be}):null,He=De?(0,V.jsx)(G.rU,{href:we,inline:!0,underline:"hover",children:(0,V.jsx)(H.$m,{inline:!0,weight:"bold"})}):null,Ve=je?(0,V.jsxs)(n.Fragment,{children:[ve&&!Re&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{bottom:Fe?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,V.jsx)(l.Z,{})}),(0,V.jsx)(G.xv,{inline:!0,weight:"bold",children:(0,V.jsx)(G.rU,{rel:"nofollow",target:"blank",href:je,inline:!0,onClick:()=>{J({event_type:101,component:13056,element:12890,view_type:4,view_parameter:(0,m.Z)({user:X,viewer:oe})?3106:3107,aux_data:{website_link:je}})},underline:"hover",children:(0,h.Z)(je)})})]}):null;return(0,V.jsxs)(n.Fragment,{children:[(0,V.jsx)(G.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:ne,children:(0,V.jsx)(G.xu,{marginTop:ze?void 0:3,maxWidth:ze?K.PARTNER:K.PINNER,width:"100%",children:(0,V.jsxs)(G.kC,{alignItems:"center",direction:"column",gap:2,justifyContent:"center",children:[(0,V.jsxs)(G.xu,{width:ze?K.PARTNER:void 0,children:[ze&&!ke&&(0,V.jsx)(W,{user:X}),(0,V.jsx)(G.kC,{alignItems:"stretch",justifyContent:"center",children:(0,V.jsx)(r.Z,{onTouch:t,user:X,viewer:oe})})]}),(0,V.jsxs)(G.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,V.jsxs)(G.X6,{align:"center",size:"600",accessibilityLevel:1,children:[Pe,Re&&(0,V.jsx)(G.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,V.jsx)(R.Z,{hasVerifiedIdentity:Boolean(null==Ee?void 0:Ee.verified),isVerifiedMerchant:Ae,size:"lg"})})]}),Fe&&(0,V.jsx)(G.xu,{marginTop:2,children:(0,V.jsx)(c.Z,{color:"subtle",inline:!0,items:[Ae?(0,V.jsx)(G.xu,{display:"inlineBlock",children:(0,V.jsx)(G.rU,{href:E.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,V.jsx)(G.xv,{color:"shopping",inline:!0,underline:!0,size:"200",children:te._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,V.jsx)(G.xv,{color:"subtle",inline:!0,size:"200",children:`@${Ce}`},Ce),Oe?(0,V.jsx)(G.xv,{color:"subtle",inline:!0,size:"200",children:Oe}):null]})}),pe&&!Fe&&(0,V.jsx)(G.xv,{children:Oe})]}),Le&&!!X.is_inspirational_merchant&&(0,V.jsx)(d.Z,{name:"InspirationalBadges",children:(0,V.jsx)(p.Z,{country:ye,isOwnProfile:(0,m.Z)({user:X,viewer:oe}),userId:X.id})}),Ve||He||!Fe||Ge()?(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,V.jsx)(c.Z,{inline:!0,items:[Ve,He,Fe?null:(0,V.jsx)(G.xv,{inline:!0,children:`@${Ce}`}),Ge()]})}):void 0,(0,V.jsx)(_.Z,{user:X}),ze&&-1!==X.profile_views&&(0,V.jsx)(O.Z,{user:X}),Se&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,V.jsxs)(G.kC,{gap:7,children:[(0,V.jsx)(w.Z,{shownWithinProfileHeader:!0,user:X}),(0,V.jsxs)(G.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n}=null!==(e=X.partner)&&void 0!==e?e:{};return!t&&!o||X.blocked_by_me?!n&&ze||X.blocked_by_me?null:(0,V.jsx)(y.Z,{setShowMessageFlyout:de,showMessageFlyout:ce,userId:Te,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,V.jsx)(x.Z,{showSendMessageFlyout:e,userId:Te})}):(0,V.jsx)(d.Z,{name:"ContactMenuButton",children:(0,V.jsx)(a.Z,{isOwnProfile:(0,m.Z)({user:X,viewer:oe}),setShowMessageFlyout:de,showMessageFlyout:ce,user:X})})})(),X.blocked_by_me?(0,V.jsx)(G.zx,{onClick:o,size:"lg",text:te._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,V.jsx)(k.Z,{button:({followText:e,onClick:t})=>(0,V.jsx)(G.xu,{"data-test-id":X.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,V.jsx)(G.zx,{color:"red",onClick:t,selected:X.explicitly_followed_by_me,size:"lg",text:e})}),fullName:Pe,id:X.id,imageUrl:null!==(Q=X.image_large_url)&&void 0!==Q?Q:"",isOwnProfile:!1,onUserFollow:e=>{f(),e&&(xe(!0),ee((0,F.V)(X.id,"profile")))},profileUrl:`/${X.username}/`,userFollowed:X.explicitly_followed_by_me})]}),(0,V.jsx)(P.Z,{userId:X.id,children:({showSendMessageFlyout:t})=>(0,V.jsx)(v.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:X})})]})}),Se&&fe&&Be&&(0,V.jsx)(C.Z,{fullName:Pe,id:X.id,viewType:4,viewParameter:(0,m.Z)({user:X,viewer:oe})?3106:3107}),(0,m.Z)({user:X,viewer:oe})&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,V.jsxs)(G.kC,{gap:2,children:[(0,V.jsx)(w.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:X}),(0,V.jsx)(j.Z,{id:"edit-button",children:(0,V.jsx)(G.zx,{ref:ie,size:"lg",text:te._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:_e((()=>{J({event_type:101,element:94}),he.push("/settings#profile")}))})})]})})]})})}),(0,V.jsx)(b.Z,{headerHeight:se,selectedTab:q,user:X,viewer:oe}),le&&(0,V.jsx)(s.Z,{isOwnProfile:(0,m.Z)({user:X,viewer:oe}),onDismiss:()=>{ae(!1)},onToggleFollow:f,setShowMessageFlyout:de,user:X}),ie&&(0,V.jsx)(u.Z,{anchor:ie.current,experienceIds:[504214],flyoutSize:Y,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{he.push("/settings#profile")},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]})}},957767:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(360848),i=o(521641),s=o(667294),r=o(333312),l=o(898781),a=o(615071),c=o(304903),d=o(349700),u=o(407043),_=o(925927),h=o(185760),p=o(883119),m=o(785893);function g({headerHeight:e,isOwnProfile:t,selectedTab:o,user:n}){var i;const{logContextEvent:g}=(0,u.v)(),f=(0,l.ZP)(),x=(0,_.k6)(),b=(0,s.useRef)(null),{id:y,username:v}=n,[P,w]=(0,s.useState)(0),A=()=>{w((0,c.S$)())};(0,s.useEffect)((()=>(window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)})));const C={1:{tab:h.u.CREATED,text:f._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:b},0:{tab:h.u.SAVED,text:f._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},2:{tab:h.u.SHOP,text:f._('Shop', 'profileHeader.tabs.shop', 'Label for Shop tab on profile header')},3:{tab:h.u.TRIED,text:f._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}};function E({ref:e,tab:n,text:i}){return{href:`/${v}/${n}/`,id:`${n}-profile-tab`,isActive:o===n,onClick:()=>{return e=n,void g({event_type:101,component:h.D[e],object_id_str:y,view_type:4,view_parameter:t?3106:3107});var e},ref:e,text:i}}const j=[];if((null!==(i=n.eligible_profile_tabs)&&void 0!==i?i:[]).forEach((e=>{const{tab_type:t}=e,o=void 0===t?null:C[t];o&&j.push(E(o))})),j.length<2)return(0,m.jsx)(a.Z,{in:!!e&&P>e,timeout:300,classNames:"ProfileTabsFullName",unmountOnExit:!0,children:(0,m.jsx)(p.X6,{size:"400",children:n.full_name})});return(0,m.jsxs)(p.xu,{children:[(0,m.jsx)(p.mQ,{activeTabIndex:Math.max(j.findIndex((e=>e.isActive)),0),onChange:({event:e,activeTabIndex:t})=>{const o=j[t];o.onClick&&o.onClick(),0!==e.button||(e=>Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||(e.preventDefault(),x.push(o.href))},tabs:j.map((({href:e,id:t,ref:o,text:n})=>({href:e,id:t,ref:o,text:n})))}),b&&t&&(0,m.jsx)(r.Z,{anchor:b.current,experienceIds:[502727],flyoutSize:300,idealDirection:"down",placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal",textOverrideFn:()=>(0,m.jsx)(p.xv,{align:"center",color:"inverse",children:(0,d.nk)(f._('New look! Click {{created}} to see Pins you\'ve published. Click {{saved}} to see your saved Pins and boards.', 'profileHeader.experience.tooltipText', 'Text informing users about purpose of Created and Saved tabs on profile'),{created:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Created', 'profileHeader.experience.createdTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')}),saved:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Saved', 'profileHeader.experience.savedTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')})})})})]})}function f({headerHeight:e,selectedTab:t,user:o,viewer:s}){const r=(0,i.Z)({user:o,viewer:s});return(0,m.jsx)(n.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,shouldStick:!0,children:(0,m.jsx)(g,{headerHeight:e,isOwnProfile:r,selectedTab:t,user:o})})}},45352:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:d,userId:u}){const{logContextEvent:_}=(0,l.v)(),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{o(!d)}})}),d&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),o(!1),_({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[u],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>o(!1),message:h})]})}},542533:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(349811),i=o(816003),s=o(898781),r=o(883119),l=o(785893);function a({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:o,user:a}){const c=(0,s.ZP)(),d=(0,i.Z)(a),{blocked_by_me:u}=a,_={label:c._('Message', 'profileHeader.actionBar.overflowFlyout.message', 'Overflow menu option on a user profile to send a message to that user'),clickHandler:o},h={label:c._('Block', 'profileHeader.actionBar.overflowFlyout.block', 'Overflow menu option on a user profile to block that user'),clickHandler:t},p={label:c._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user'),clickHandler:e},m=[];u||((()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n=!1}=null!==(e=a.partner)&&void 0!==e?e:{};return(!!t||!!o)&&n&&d})()&&m.push(_),m.push(h)),m.push(p);const g={label:c._('Profile options', 'profileHeader.actionBar.overflowFlyout.profileOptions', 'Category heading on Overflow menu on a user profile'),items:m};return(0,l.jsx)(n.Z,{icon:"ellipsis",label:c._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),children:({handleClose:e})=>[g].map((({items:t,label:o})=>(0,l.jsx)(r.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,l.jsx)(r.Lt.Item,{onSelect:()=>{e(),t()},option:{label:o,value:o}},o)))},o)))})}},661106:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(333312),s=o(521641),r=o(694379),l=o(966113),a=o(898781),c=o(19121),d=o(349700),u=o(883119),_=o(785893);function h({user:e}){var t;const o=(0,a.ZP)(),h=(0,n.useRef)(),p=(0,c.Z)(),m=new u.Ry(2);if(-1===e.profile_views)return null;const g=null!==(t=e.profile_views)&&void 0!==t?t:0,f=g>=1e7?o._('10m+', 'viewerCount.overTenMillion', 'Shortform number for a count of over 10,000,000'):(0,_.jsx)(r.Z,{value:g||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,_.jsx)(u.xu,{ref:h,children:(0,_.jsxs)(u.xv,{children:[(0,d.nk)(o._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:f,label:o._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')}),(0,s.Z)({user:e,viewer:p})&&(0,_.jsx)(i.Z,{showCaret:!0,anchor:h.current,customWrapper:({children:e})=>(0,_.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:m,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(l.Z.settings.HELP_UPDATED_REPORTING_METRICS,"_blank"),placementId:19,textAlign:"center"})]})})}},640586:(e,t,o)=>{o.d(t,{T:()=>l,V:()=>a});var n=o(499128),i=o(407043),s=o(343341),r=o(785893);function l(e){const{street:t,extra_street:o,locality:n,region:i,postal_code:s,country:r}=e,l=t||"",a=o||"",c=n||"";return`${l}${a}${(l||a)&&","} ${c}${c&&","} ${i||""} ${s||""} ${r||""}`.trim()}function a(e,t,o){const{logContextEvent:a}=(0,i.v)(),{showToast:c}=(0,s.F9)();return()=>{a({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(l(t)),c((({hideToast:e})=>(0,r.jsx)(n.ZP,{onHide:e,text:o})))}}},185760:(e,t,o)=>{o.d(t,{D:()=>i,u:()=>n});const n={CREATED:"_created",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",PINS:"pins",SAVED:"_saved",SHOP:"_shop",STORY_PINS:"story_pins",TOPICS:"topics",TRIED:"tried",VIDEO_PINS:"video_pins"},i={[n.CREATED]:13668,[n.SAVED]:13669,[n.SHOP]:13670,[n.TRIED]:13671}},608190:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(648492),i=o(237900);function s(e){const t=(0,i.q)(e).replace(/^www\./,"");return(0,n.Z)(t)}},521641:(e,t,o)=>{function n({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}o.d(t,{Z:()=>n})},816003:(e,t,o)=>{function n(e){return Boolean(null==e?void 0:e.show_creator_profile)}o.d(t,{Z:()=>n})},722081:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){let o=null,i=null,s=null;const r=()=>{if(o){const t=o.clientHeight,n=o.clientWidth;i===t&&s===n||(i=t,s=n,e(o)),window.requestAnimationFrame(r)}};(0,n.useEffect)((()=>{var n;return t.current&&(n=t.current,o&&o===n||(o=n,i=n.clientHeight,s=n.clientWidth,e(o),r())),()=>{o=null}}),[t])}},52713:(e,t,o)=>{o.d(t,{Z:()=>de});var n=o(667294),i=o(966338),s=o(319915),r=o(834849),l=o(514209),a=o(121093),c=o(898781),d=o(217468),u=o(883119),_=o(785893);function h(e){const t=(0,c.ZP)(),{group:o}=(0,d.tc)("advertiser_growth_pinner_upgrade_to_business_banner")(),{handleComplete:n,handleDismiss:i}=e;return(0,_.jsx)(u.xu,{width:"55%",marginStart:"auto",marginEnd:"auto",marginTop:2,marginBottom:2,children:(0,_.jsx)(u.QH,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:i},imageData:{component:(0,_.jsx)(u.JO,{dangerouslySetSvgPath:{__path:"M8.6,0.2C4,0.2,0.2,4,0.2,8.6s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S13.3,0.2,8.6,0.2z M6.5,11.9c0,0.1-0.1,0.2-0.2,0.2H4.8  c-0.1,0-0.2-0.1-0.2-0.2V7.8c0-0.1,0.1-0.2,0.2-0.2h1.3c0.2,0,0.3,0.1,0.3,0.2V11.9z M9.5,11.9c0,0.1-0.1,0.2-0.2,0.2H8  c-0.1,0-0.2-0.1-0.2-0.2V4.6c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2v7.3H9.5z M12.7,11.9c0,0.1-0.1,0.2-0.2,0.2H11  c-0.1,0-0.2-0.1-0.2-0.2V6.8c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2V11.9z"},accessibilityLabel:"graph",color:"default",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n},title:"enabled_variant_b"===o?t._('Get more clicks, traffic and sales!', 'PinnerUpgradeToBusinessBanner.title.variant_b', 'Title of the Banner to upgrade pinners to business account'):t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}const p=({placementId:e})=>(0,_.jsx)(a.Z,{placementId:e,eligibleIds:[503755],children:({complete:e,dismiss:t})=>(0,_.jsx)(h,{handleComplete:e,handleDismiss:t})});var m=o(227361),g=o.n(m),f=o(816003),x=o(965261),b=o(343375),y=o(826067),v=o(925927);function P({children:e,experience:t,isOwnProfile:o}){const n=(0,v.TH)(),i=(0,b.Z)(),s=!!(0,y.mB)(n.search).skipFac,r=t&&500980===t.experience_id&&!s;return o&&r&&i.dismissExperience(19,500980),e}var w=o(970977),A=o(668369),C=o(19121),E=o(281180),j=o(121151),T=o(349700);function I({firstName:e,onClearModal:t}){const o=(0,c.ZP)(),n=o._('User blocked', 'BlockConfirmation.heading', 'Heading of confirmation modal after blocking a user');return(0,_.jsx)(j.ZP,{accessibilityModalLabel:n,heading:n,onDismiss:t,size:"sm",footer:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",onClick:t,text:o._('OK', ' - ', ' -- ')})})}),children:(0,_.jsx)(u.xu,{padding:4,children:(0,_.jsx)(u.xv,{children:(0,T.nk)(o._('You\'ve blocked {{name}}', 'BlockConfirmation.message', 'Confirmation message after blocking a user'),{name:(0,_.jsx)("strong",{children:e})})})})})}var S=o(541044),z=o(15265),k=o(847650),D=o(966113);function R({onDismiss:e}){const t=(0,c.ZP)();return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.rU,{href:D.Z.settings.POLICY_COPYRIGHT_URL,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my copyright', 'Copyright infringement statement', 'Copyright infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to copyright infringement', ' - ', ' -- '),color:"default"})})]})}),(0,_.jsx)(u.iz,{}),(0,_.jsx)(u.rU,{href:D.Z.settings.ABOUT_TRADEMARK_FORM,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my trademark', 'Trademark infringement statement', 'Trademark infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to trademark infringement', ' - ', ' -- '),color:"default"})})]})})]})}var O=o(224262);function L({reason:e,user:t,userBlocked:o,onChangeBlocked:i}){const s=(0,c.ZP)(),r={[O.b.SPAM]:{title:s._('Report spam?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Misleading content or behavior', 'Example of spam', 'Example of spam'),s._('Repetitive posts', 'Example of spam', 'Example of spam'),s._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[O.b.PORN]:{title:s._('Report nudity or pornography?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Sexualized nudity', 'Example of porn', 'Example of porn'),s._('Depictions of sexual acts', 'Example of porn', 'Example of porn'),s._('Fetish content', 'Example of porn', 'Example of porn')]},[O.b.SELF_INJURY]:{title:s._('Report self-harm?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Encouraging self-mutilation, eating disorders and drug abuse', 'Example of self-injury', 'Example of self-injury'),s._('Graphic depictions of self-harm', 'Example of self-injury', 'Example of self-injury')]},[O.b.MEDICAL_MISINFORMATION]:{title:s._('Report medical misinformation?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),s._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[s._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[O.b.HATE_SPEECH]:{title:s._('Report hateful speech?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),s._('People or groups that advocate hate speech', 'Example of hate speech', 'Example of hate speech')],nonRemovals:[s._('Profanity', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[O.b.HARASSMENT]:{title:s._('Report harassment?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks directed at a specific private individual', 'Example of harassment', 'Example of harassment'),s._('Personally identifiable information', 'Example of harassment', 'Example of harassment')],nonRemovals:[s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[O.b.VIOLENCE]:{title:s._('Report graphic violence?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Extreme graphic violence', 'Example of violence', 'Example of violence'),s._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),s._('Threats of physical harm', 'Example of violence', 'Example of violence')],nonRemovals:[s._('Historical, educational or newsworthy content', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Political protests, advocacy or other social causes', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]}},{full_name:l,username:a,id:d}=t,h=l?`${l} (${a})`:a,p=(0,_.jsx)(u.xu,{paddingX:2,paddingY:2,children:(0,_.jsxs)(u.xu,{alignItems:"center",display:"flex",direction:"row",paddingX:2,children:[(0,_.jsxs)(u.xu,{paddingX:2,children:[(0,_.jsx)(u.X6,{size:"500",children:(0,T.nk)(s._('Block {{ name }}', 'Block a user heading', 'Block a user heading'),{name:l||t.username})}),(0,_.jsx)(u.xu,{marginTop:2,marginEnd:2,children:(0,_.jsx)(u.xv,{children:(0,T.nk)(s._('If you block {{ names }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'Explanation of blocking a user', 'Explanation of blocking a user'),{names:(0,_.jsx)(u.rU,{href:`/${a}`,inline:!0,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:h},"blockUserLink")})})})]}),(0,_.jsx)(u.xu,{paddingX:2,children:(0,_.jsx)(u.rs,{id:"blockUser",onChange:i(d,h),switched:o})})]})}),m=r[e],{removals:g,nonRemovals:f}=m;return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsxs)(u.xu,{paddingX:6,"data-test-id":"detail-text",children:[(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.X6,{children:m.title})}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:g.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`removals-${t}`)))})}),f&&(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:"bold",children:s._('We don\u2019t remove things like', 'Title for list of content we do not remove', 'Title for list of content we do not remove')}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:f.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`nonRemovals-${t}`)))})})]}),m.notes&&(0,_.jsx)(u.xv,{children:(0,T.nk)(s._('Note: {{ notes }}', 'Note to the user', 'Note to the user'),{notes:m.notes})})]}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.iz,{})}),p]})})}var F=o(6637),M=o(499128),B=o(343341);function N(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const U="cover-image",Z="cover-video",G="report-type-step",H="reason-step",V="confirm-step";class W extends n.Component{constructor(...e){var t;super(...e),t=this,N(this,"state",{reason:null,reportType:null,step:G,showUserBlockedToastText:null}),N(this,"handleChangeReason",(e=>()=>this.setState({reason:e}))),N(this,"handleChangeReportType",(e=>()=>this.setState({reportType:e}))),N(this,"handleExperimentReportSpam",(e=>()=>this.setState({reason:"spam",reportType:e}))),N(this,"handleCopyrightReportClick",(()=>{const{user:{username:e},history:t}=this.props;t.push({pathname:`/copyright-reporting/${e}/`})})),N(this,"handleChangeStep",(e=>()=>{this.setState({step:e})})),N(this,"handleSubmitReport",(async function(){const{onClearModal:e,username:o,toastManagerContext:n}=t.props,{reportType:i,reason:s}=t.state,r={username:o,reason:s,reportObject:i};await F.ZP.create("UserReportProfileResource",r).callCreate(),e(),n.showToast((({hideToast:e})=>(0,_.jsx)(M.ZP,{text:t.props.i18n._('Thanks! Your feedback helps us improve Pinterest.', 'profileHeader.reportProfile.reportSentToast', 'User profile report was sent'),onHide:e})))})),N(this,"handleChangeBlocked",((e,t)=>()=>{const{isUserBlocked:e,blockUser:o,unblockUser:n,user:i}=this.props,{id:s}=i;e?(n(s),this.showChangeBlock({name:t,showBlocked:!1})):(o(s),this.showChangeBlock({name:t,showBlocked:!0}))})),N(this,"showChangeBlock",(({name:e,showBlocked:t})=>{const o=t?(0,T.nk)(this.props.i18n._('{{ name }} blocked', 'Toast text for blocking user', 'Toast text for blocking user'),{name:e}):(0,T.nk)(this.props.i18n._('Unblocked {{ name }}', 'Toast text for unblocking user', 'Toast text for unblocking user'),{name:e});this.setState({showUserBlockedToastText:o.join("")})})),N(this,"hideUserBlockedToast",(()=>this.setState({showUserBlockedToastText:null})))}renderFooter(){const{onClearModal:e}=this.props,{reportType:t,reason:o,step:n}=this.state,i=n!==V,s=!t&&n===G||!o&&n===H,r=!(n===V&&o===O.b.INTELLECTUAL_PROPERTY),l=i?this.props.i18n._('Next', 'Button to progress to next screen in report flow', 'Button to progress to next screen in report flow'):this.props.i18n._('Report', 'Button text to submit a report profile', 'Button text to submit a report profile');let a,c;n===G?(a=this.handleChangeStep(H),c=e,"name"===t&&(a=this.handleChangeStep(V)),"BulkDmca"===t&&(a=this.handleCopyrightReportClick)):n===H?(a=this.handleChangeStep(V),c=this.handleChangeStep(G)):(a=this.handleSubmitReport,c=this.handleChangeStep(H),"name"===t&&(c=this.handleChangeStep(G)));const d=n===G?this.props.i18n._('Cancel', 'Cancel button', 'Cancel button'):this.props.i18n._('Back', 'Back button', 'Back button');return(0,_.jsxs)(u.xu,{display:"flex",direction:"row",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{onClick:c,text:d})}),r&&(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",disabled:s,onClick:()=>{a()},text:l})})]})}renderReportTypes(){const{reportType:e}=this.state,{user:t,inBulkDmcaToolExp:o}=this.props,i=t.profile_cover&&t.profile_cover.source,s=[];return"video"===i?s.push({key:Z,title:this.props.i18n._('Inappropriate cover video', 'Cover video of profile', 'Cover video of profile')}):"image"===i&&s.push({key:U,title:this.props.i18n._('Inappropriate cover image', 'Cover image of profile', 'Cover image of profile')}),(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.xv,{align:"center",color:"subtle",size:"200",children:this.props.i18n._('Why are you reporting this account?', 'What is the reason for reporting', 'What is the reason for reporting')})}),(0,_.jsx)(u.iz,{}),(0,_.jsxs)(u.xu,{"data-test-id":"report-spam-option",children:[(0,_.jsx)(u.__,{htmlFor:"ReportSpam",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"name"===e,id:"ReportSpam",name:"reportPinOptions",onChange:this.handleExperimentReportSpam("name"),value:"ReportSpam"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Spam', 'Report user for spam', 'Report user for spam')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-ReportSpam"),o&&(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:"BulkDmca",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"BulkDmca"===e,id:"BulkDmca",name:"reportPinOptions",onChange:this.handleChangeReportType("BulkDmca"),value:"BulkDmca"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Copyright infringement', 'Report users pins for copyright infringement', 'Report users pins for copyright infringement')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-BulkDmca")}),s.map(((t,o)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:t.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:t.key===e,id:t.key,name:"reportPinOptions",onChange:this.handleChangeReportType(t.key),value:t.key})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:t.title})})})]})}),s.length>o+1&&(0,_.jsx)(u.iz,{})]},`Option-${t.key}`)))]})}renderReasons(){const{reason:e}=this.state,t=[{key:O.b.SPAM,title:this.props.i18n._('Spam', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Misleading or repetitive posts', 'Report profile option description', 'Report profile option description')},{key:O.b.PORN,title:this.props.i18n._('Nudity or pornography', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Sexually explicit content', 'Report profile option description', 'Report profile option description')},{key:O.b.SELF_INJURY,title:this.props.i18n._('Self-harm', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Eating disorders, cutting, suicide', 'Report profile option description', 'Report profile option description')},{key:O.b.MEDICAL_MISINFORMATION,title:this.props.i18n._('Medical misinformation', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Harmful or misleading content about health and safety', 'Report profile option description', 'Report profile option description')},{key:O.b.HATE_SPEECH,title:this.props.i18n._('Hate speech or symbols', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Attacks directed at protected groups', 'Report profile option description', 'Report profile option description')},{key:O.b.HARASSMENT,title:this.props.i18n._('Harassment or privacy violations', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Threats, blackmail, personal attacks', 'Report profile option description', 'Report profile option description')},{key:O.b.VIOLENCE,title:this.props.i18n._('Graphic violence', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Violent images or promotion of violence', 'Report profile option description', 'Report profile option description')},{key:O.b.INTELLECTUAL_PROPERTY,title:this.props.i18n._('My intellectual property', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Copyright or trademark infringement', 'Report profile option description', 'Report profile option description')}];return(0,_.jsx)(u.xu,{maxHeight:"60vh",overflow:"auto",children:t.map(((o,n)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:o.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:o.key===e,id:o.key,name:"reportPinOptions",onChange:this.handleChangeReason(o.key),value:o.key})}),(0,_.jsxs)(u.xu,{flex:"grow",children:[(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:o.title})}),(0,_.jsx)(u.xv,{size:"200",children:o.subtitle})]})]})}),t.length>n+1&&(0,_.jsx)(u.iz,{})]},`Option-${o.key}`)))})}render(){const{onClearModal:e,user:t,isUserBlocked:o}=this.props,{step:n,reason:i,showUserBlockedToastText:s}=this.state,r=this.props.i18n._('Report account', 'Modal heading for report profile flow', 'Modal heading for report profile flow');let l;return l=n===G?this.renderReportTypes():n===H?this.renderReasons():n===V&&i===O.b.INTELLECTUAL_PROPERTY?(0,_.jsx)(R,{onDismiss:e}):(0,_.jsx)(L,{reason:i,user:t,userBlocked:o,onChangeBlocked:this.handleChangeBlocked}),(0,_.jsxs)(j.ZP,{accessibilityModalLabel:r,onDismiss:e,heading:r,footer:this.renderFooter(),children:[l,(0,_.jsx)(u.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:s&&(0,_.jsx)(M.ZP,{duration:2e3,onHide:this.hideUserBlockedToast,text:s})})]})}}function K(e){const t=(0,c.ZP)(),{anyEnabled:o}=(0,d.aq)("web_creators_bulk_dmca_tool");return(0,_.jsx)(W,{...e,i18n:t,history:(0,v.k6)(),inBulkDmcaToolExp:o,toastManagerContext:(0,B.F9)()})}function $({blockUser:e,currentModal:t,handleBlockUser:o,handleHideConfirmationModal:n,handleHideModal:i,isUserBlocked:s,unblockUser:r,user:l}){var a,c;switch(t){case"blockConfirmation":return(0,_.jsx)(I,{firstName:null!==(a=l.first_name)&&void 0!==a?a:"",onClearModal:n});case"blockUser":return(0,_.jsx)(S.Z,{firstName:null!==(c=l.first_name)&&void 0!==c?c:"",onBlockUser:o,onClearModal:i});case"reportProfile":return(0,_.jsx)(K,{onClearModal:i,username:l.username,user:l,isUserBlocked:s,blockUser:e,unblockUser:r});case"createPincode":const t=280;return(0,_.jsx)(k.Z,{onHide:i,objectId:l.id,children:(0,_.jsx)(z.ZP,{id:l.id,images:[{height:t,url:l.image_xlarge_url||"",width:t}]})});default:return null}}var Y=o(946984),q=o(984644);function X(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Q extends n.Component{constructor(...e){super(...e),X(this,"state",{currentModal:null,currentUserDetails:this.props.user}),X(this,"handleClickCreatePincode",this.props.requireAuth((()=>this.setState({currentModal:"createPincode"})))),X(this,"handleClickReportProfile",this.props.requireAuth((()=>this.setState({currentModal:"reportProfile"})))),X(this,"handleHideModal",(()=>this.setState({currentModal:null}))),X(this,"handleHideConfirmationModal",(()=>{this.refreshPage()})),X(this,"refreshPage",(()=>{window.location.reload(!0)})),X(this,"handleToggleBlock",this.props.requireAuth((()=>{const{isUserBlocked:e}=this.props;e?this.unblockUser():this.setState({currentModal:"blockUser"})}))),X(this,"unblockUser",(()=>{const{unblockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!1}),e(t).then((()=>this.refreshPage()))})),X(this,"handleBlockUser",(()=>{const{blockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!0}),e(t),this.setState({currentModal:"blockConfirmation"})})),X(this,"handleToggleFollow",(()=>{const{currentUserDetails:{explicitly_followed_by_me:e}}=this.state,t=!e;this._updateUserDetails({explicitly_followed_by_me:t})})),X(this,"_updateUserDetails",(e=>{const{currentUserDetails:t}=this.state,o={...t,...e};this.setState({currentUserDetails:o})}))}static getDerivedStateFromProps(e,t){return e.user.id!==t.currentUserDetails.id?{...t,currentUserDetails:e.user}:null}renderModal(){const{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:n,blockUser:i}=this.props;return(0,_.jsx)($,{blockUser:i,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideConfirmationModal:this.handleHideConfirmationModal,handleHideModal:this.handleHideModal,isUserBlocked:o,unblockUser:n,user:t})}render(){const{minimalPartnerHeader:e,tab:t,user:o}=this.props,{currentModal:i}=this.state;return e?(0,_.jsx)(w.Z,{avatarUrl:o.image_medium_url,merchantName:o.full_name,text:o.full_name,username:o.username}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(A.Z,{onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,selectedTab:t,user:o}),i&&this.renderModal()]})}}function J(e){var t,o,n,s;const r=(0,i.useDispatch)(),{users:l}=(0,E.kW)(),a=l&&l[null!==(t=null===(o=e.user)||void 0===o?void 0:o.id)&&void 0!==t?t:""]?l[null!==(n=null===(s=e.user)||void 0===s?void 0:s.id)&&void 0!==n?n:""]:e.user,c=(0,C.Z)(),d=(0,Y.Z)();return(0,_.jsx)(Q,{...e,blockUser:e=>r((0,q.G)(e)),isUserBlocked:Boolean(null==a?void 0:a.blocked_by_me),unblockUser:e=>r((0,q.h)(e)),user:a,viewer:c,requireAuth:d})}var ee=o(430323),te=o(767790),oe=o(220465),ne=o(920005),ie=o(914993),se=o(407043),re=o(480622),le=o(319048),ae=o(185760);const ce=(0,oe.ZP)(19,(({clickedFollowingButton:e},t)=>({clickedFollowingButton:e,profile_ownership:t.profile_ownership,profile_user_id:t.profile_user_id})))((function({children:e,clickedFollowingButton:t,experience:o,history:i,minimalPartnerHeader:a,renderError:d,setPlacementExtraContext:h,showPulsar:m,tab:b,unsetError:y,username:v,pins:w}){const{logContextEvent:A}=(0,se.v)(),E=(0,c.ZP)(),j=(0,C.Z)(),I=0!==((e,t)=>Object.keys(t).filter((o=>{const n=t[String(o)];return(n.pinner||{}).id===e.id&&!n.is_repin})).map((e=>t[e])))(j,w).length,S=(0,n.useRef)(!1),z=(0,n.useRef)(t),k=(0,n.useRef)(I),D=(0,te.Z)(),R=(0,re.f)().id,O=j&&j.isAuth&&D.data&&j.id===D.data.id;if((0,n.useEffect)((()=>{(0,x.Z)()}),[]),(0,n.useEffect)((()=>{"v3_get_board"!==g()(d,"apiHandler")||404!==g()(d,"http_status")||S.current||!D.data||D.error?D.error&&404===D.error.httpStatus&&i.replace("/?show_error=true"):(S.current=!0,r.Z.showHtmlError((0,T.nk)(E._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:D.data.full_name}).join(""),y(),E._('We couldn\'t find that page.', ' - ', ' -- ')))})),(0,n.useEffect)((()=>{A({event_type:13,view_type:4,aux_data:{pin_id:R}})}),[A,R]),(0,n.useEffect)((()=>{if(D.isLoaded){var e;let o={profile_ownership:O?"own":"other",profile_user_id:(null===(e=D.data)||void 0===e?void 0:e.id)||""};t&&t!==z.current&&(o={...o,clickedFollowingButton:!0}),h(o)}}),[t,D.isLoaded]),!D||!D.isLoaded||!D.data)return null;const L=j.isAuth&&v===j.username,F=(({tab:e,updateUrlFromDecider:t,userData:o})=>{const n={2:ae.u.SHOP,1:ae.u.CREATED,0:ae.u.SAVED,3:ae.u.TRIED};if(e===ae.u.DECIDER){var i;const e=null===(i=o.eligible_profile_tabs)||void 0===i?void 0:i.find((e=>e.is_default)),s=n[null==e?void 0:e.tab_type]||ae.u.SAVED;return t(s),s}return e})({tab:b,updateUrlFromDecider:e=>i.replace(`/${D.data.username}/${e}/`),userData:D.data}),M=L?3106:3107,B=(0,f.Z)(D.data),N=(0,_.jsx)(ie.aG,{children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p,{placementId:19}),(0,_.jsx)(l.default,{placementId:19}),(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(s.Z,{name:"ProfileHeaderContainer",children:(0,_.jsx)(ne.c,{children:e=>(0,_.jsx)(J,{minimalPartnerHeader:a,tab:F,top:e,user:D.data})})}),(0,_.jsx)(s.Z,{name:"ProfileContent",children:(0,_.jsx)(u.xu,{children:e})})]})]})}),U=B?(0,_.jsx)(P,{experience:o,initialViewerCreatedPins:k.current,isOwnProfile:L,username:v,children:N}):N;return(0,_.jsx)(ee.Z,{view:4,viewParameter:M,objectId:D.data.id,children:(0,_.jsx)(n.Fragment,{children:U})})}));function de(e){const t=(0,i.useSelector)((({pins:e})=>e)),{topics:o}=(0,le.X)(),n=o&&Object.keys(o).map((e=>o[e])).filter((e=>e.showTooltip)).length>0;return(0,_.jsx)(ce,{...e,clickedFollowingButton:n,pins:t})}},914993:(e,t,o)=>{o.d(t,{Fj:()=>a,JI:()=>c,aG:()=>l});var n=o(667294),i=o(785893);const s=(0,n.createContext)(),r=(0,n.createContext)();function l({children:e}){const[t,o]=(0,n.useState)(!1);return(0,i.jsx)(s.Provider,{value:t,children:(0,i.jsx)(r.Provider,{value:o,children:e})})}function a(){const e=(0,n.useContext)(s);if(void 0===e)throw new Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){const e=(0,n.useContext)(r);if(void 0===e)throw new Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},842822:(e,t,o)=>{o.r(t),o.d(t,{default:()=>it});var n=o(667294),i=o(333312),s=o(619983);function r({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:n,requestContext:i,updatedBoardOrder:r}){if(!o)return"last_pinned_to";if(r)return r;if(n)return n;const l=!e&&t&&new s.v(i,"web_gb_highlight_on_profile_default").enabled();return e?"custom":l?"group_boards_at_top":"last_pinned_to"}var l=o(521641),a=o(349811),c=o(6637),d=o(898781),u=o(784590),_=o(19121),h=o(883119),p=o(217468),m=o(407043),g=o(330899),f=o(785893);const x={alphabetical:10430,last_pinned_to:10431,custom:10434};function b({user:e,setVisibilityControlsModalOpen:t}){var o;const i=(0,g.x)(),{logContextEvent:s}=(0,m.v)(),l=(0,d.ZP)(),b=(0,_.Z)(),{data:y}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:b.isAuth&&b.username}}}),v=null==i?void 0:i.profileBoardView,P=null!==(o=null==i?void 0:i.boardSortOrder)&&void 0!==o?o:"",w=null==i?void 0:i.profilePinDensity,A=r({hasCustomOrder:Boolean(e.has_custom_board_sorting_order),isOwnProfile:!0,mostRecentBoardSortOrder:null==y?void 0:y.most_recent_board_sort_order,updatedBoardOrder:P});(0,n.useEffect)((()=>{if(y&&(!v||"list"===v)){const{profile_board_rep_view_type:e}=y,t=e&&"list"!==e?e:"wide";null==i||i.setProfileBoardView(t)}}),[y,v]);(0,n.useEffect)((()=>{if(y&&""===w){const{board_pin_rep_view_type:e}=y;null==i||i.setProfilePinDensity(null!=e?e:"regular")}}),[y,w]);const C=e=>()=>{s({event_type:101,component:13149,element:x[e]});c.ZP.create("UserMetadataResource",{most_recent_board_sort_order:e}).callUpdate(),null==i||i.setBoardSortOrder(e)},{group:E}=(0,p.tc)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),j=["enabled","enabled_no_experience"].includes(E),T=[{label:j?l._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'):l._('Sort boards by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy.deprecated', 'Category heading on Organize menu on user profile, to be deprecated'),items:[{label:l._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===A,clickHandler:C("alphabetical")},{label:j?l._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'):l._('Drag and drop', 'profileHeader.actionBar.organizeFlyout.dragAndDrop.deprecated', 'Organize menu option to sort boards by drag-and-drop, to be deprecated'),isSelected:"custom"===A,clickHandler:C("custom")},{label:l._('Last saved to', 'profileHeader.actionBar.organizeFlyout.lastSavedTo', 'Organize menu option to sort boards by last saved to'),isSelected:"last_pinned_to"===A,clickHandler:C("last_pinned_to")}]},j&&t?{label:l._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:l._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),s({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map((e=>e)).filter(Boolean);return(0,f.jsx)(a.Z,{icon:"filter",label:l._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>T.map((({items:t,label:o})=>(0,f.jsx)(h.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,f.jsx)(h.Lt.Item,{onSelect:()=>{e(),t()},option:{label:o,value:o}},o)))},o)))})}var y=o(966338),v=o(121093),P=o(914993);const w=110;function A({boardThumbs:e}){const t=(0,d.ZP)();return(0,f.jsx)(h.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,f.jsx)(h.zd,{height:w,rounding:4,width:w,children:(0,f.jsx)(h.gM,{columns:2,cover:!0,height:w,gutter:1,renderImage:({index:t,width:o,height:n})=>{var i,s,r;const l=e[0],a=e.slice(1),c=0===t?l:a[t-1];return(0,f.jsx)(h.zd,{width:o,height:n,children:(0,f.jsx)(h.Ee,{alt:"",src:null!==(i=c.url)&&void 0!==i?i:"",color:"#EFEFEF",naturalHeight:null!==(s=c.height)&&void 0!==s?s:1,naturalWidth:null!==(r=c.width)&&void 0!==r?r:1,fit:"cover"})})},width:w})})})}function C(){const e=(0,d.ZP)(),t=(0,P.JI)();return(0,f.jsx)(v.Z,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:n,experience:{display_data:i}})=>{const{button_text:s,images:r,subtitle:l,title:a}=i,c=r.map((e=>e["170x"]));return(0,f.jsx)(h.kC,{justifyContent:"center",children:(0,f.jsx)(h.xu,{maxWidth:960,paddingY:4,children:(0,f.jsx)(h.QH,{title:a,imageData:{component:(0,f.jsx)(A,{boardThumbs:c})},message:l,primaryAction:{label:s,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:n}})})})}})}var E=o(164066),j=o(252867),T=o(444445);const I=(0,n.lazy)((()=>Promise.all([o.e(77638),o.e(63614)]).then(o.bind(o,893296))));function S({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,isOwnProfile:i,userId:s}){const r=(0,d.ZP)(),l=(0,P.JI)(),a=(0,P.Fj)(),c=i&&e.length>=5&&!o,{fetchMore:u,isAtEnd:_,isFetching:p,isLoaded:m}=t;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(h.xu,{padding:o?0:3,children:[o&&e.length>0&&(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(h.xu,{marginTop:5,marginBottom:i?0:7,children:(0,f.jsx)(h.iz,{})}),i&&(0,f.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:5,paddingY:7,children:[(0,f.jsx)(h.X6,{size:"400",children:r._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),(0,f.jsx)(h.zx,{onClick:()=>{l(!0)},text:r._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')})]})]}),c&&(0,f.jsx)(C,{}),(0,f.jsx)(E.default,{columnWidth:T.xf,comp:({data:e,itemIdx:t})=>{const o=i?{type:"none"}:{type:"inline"};return(0,f.jsx)(j.default,{pinId:e.id,saveButtonOptions:o,surface:"BoardlessPins",trackingParameters:{viewParameter:i?3106:3107,viewType:4,slotIndex:t}})},gutterWidth:T.Us,isAtEnd:_,isFetching:p,isGridCentered:!0,isLoaded:m,items:e,layout:"basicCentered",loadItems:u,serverRender:!0})]}),!!e&&e.length>0&&a&&(0,f.jsx)(I,{boardlessPinsNormalized:e,fetchMore:u,hasBoards:o,onDismiss:()=>l(!1),userId:s})]})}var z=o(166150),k=o(91885);function D({children:e,containerWidth:t,inListView:o,semiTransparent:n}){const i=n?.5:void 0;return o?(0,f.jsx)(h.xu,{"data-test-id":k.Kb,display:"flex",justifyContent:"center",width:"100%",children:(0,f.jsxs)(h.xu,{maxWidth:800,paddingX:3,width:"100%",children:[(0,f.jsx)(h.iz,{}),(0,f.jsx)(h.xu,{opacity:i,paddingY:3,width:"100%",children:e})]})}):(0,f.jsx)(h.xu,{"data-test-id":k.Kb,maxWidth:t,opacity:i,overflow:"hidden",padding:2,children:e})}function R({headerLabel:e}){const t=(0,d.ZP)();return(0,f.jsx)(h.W2,{children:(0,f.jsxs)(h.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:-4,marginEnd:-4,paddingX:3,children:[(0,f.jsx)(h.xu,{column:9,display:"flex",justifyContent:"between",paddingX:4,children:(0,f.jsx)(h.xv,{color:"subtle",size:"200",children:t._('Name', 'Profile header - board name', 'Profile header - board name')})}),(0,f.jsx)(h.xu,{alignItems:"center",column:3,display:"flex",paddingX:4,children:(0,f.jsx)(h.xv,{color:"subtle",size:"200",children:e||""})})]})})}var O=o(695829);const L=e=>e.boards;var F=o(8405);function M({boardIds:e,layout:t,onBoardArchiveChange:o,onBoardDelete:i,showCreatorProfile:s}){const r=(0,d.ZP)(),l=(0,n.useRef)(null),a=(0,y.useSelector)(L);if(!e.length)return null;const c=(0,F.m)(t);return(0,f.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F6F6F6"}},paddingY:4,ref:l,children:["list"===t&&(0,f.jsx)(R,{headerLabel:r._('Archived on', 'Profile board list view heading label', 'Profile board list view heading label')}),(0,f.jsx)(O.Z,{itemWidth:c,children:e.map((e=>a[e])).filter(Boolean).map(((e,n)=>(0,f.jsx)(D,{containerWidth:c,inListView:"list"===t,children:(0,f.jsx)(z.Z,{board:e,isOwnProfile:!0,layout:t,onBoardArchiveChange:o,onBoardDelete:i,slotIndex:n})},e.id)))})]})}var B=o(966113);const N=(e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}},U=e=>"archived"===e?"remove":"protected"===e?"protect":"lock",Z=(e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');case"archived":return t._('These are hidden from your profile.', 'subtitle for archived boards section on a profile', 'subtitle for archived boards section on a profile');default:return""}};function G({type:e}){const t=(0,d.ZP)();return(0,f.jsx)(h.W2,{children:(0,f.jsxs)(h.xu,{paddingY:6,paddingX:3,children:[(0,f.jsxs)(h.xv,{size:"200",weight:"bold",children:[N(e,t)," ",(0,f.jsx)(h.JO,{accessibilityLabel:"",color:"default",icon:U(e),inline:!0,size:12})]}),(0,f.jsx)(h.xv,{inline:!0,size:"200",children:Z(e,t)}),"secret"===e&&(0,f.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,f.jsx)(h.rU,{href:B.Z.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,inline:!0,underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var H=o(223656),V=o(298361),W=o(767790);function K({boardOrder:e,allPinsStory:{objects:t}}){var o;const n=(0,V.Z)(),i=(0,_.Z)(),s=null!==(o=t.map((e=>{var t,o;return{name:"AllPins",url:null!==(t=null===(o=e.images)||void 0===o?void 0:o["236x"].url)&&void 0!==t?t:""}})))&&void 0!==o?o:[],r=(0,W.Z)();if(!r||!r.isLoaded||!r.data)return null;const a=r.data,c=(0,l.Z)({user:a,viewer:i}),d=e&&"last_pinned_to"===e&&a.last_pin_save_time?n(a.last_pin_save_time,!0):"";return(0,f.jsx)(H.Z,{storyPinImages:s,subtitle:d,userId:a.id,isOwnProfile:c,pinCount:a.pin_count})}var $=o(694379),Y=o(349700);function q({boardName:e,collaboratorCount:t}){const o=(0,d.ZP)(),n=(0,f.jsx)(h.xv,{inline:!0,weight:"bold",children:e},"board_name");return(0,f.jsx)(h.xv,{children:t?(0,Y.nk)(o._('When you delete {{ boardName }}, you\'ll lose {{ n_collaborators }} and all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n,n_collaborators:(0,f.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,Y.nk)(o.ngettext('{{ count }} collaborator', '{{ count }} collaborators', t, 'label for n board collaborator(s)', 'label for n board collaborator(s)'),{count:(0,f.jsx)($.Z,{value:t})})},"collaborator_count")}):(0,Y.nk)(o._('When you delete {{ boardName }}, you\'ll lose all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n})})}function X({board:{name:e="",is_collaborative:t}}){const o=(0,d.ZP)(),n=t?o._('your {{ boardName }} group board', ' - ', ' -- '):o._('your {{ boardName }} board', ' - ', ' -- ');return(0,f.jsx)(h.xv,{inline:!0,children:(0,Y.nk)(n,{boardName:(0,f.jsx)(h.xv,{inline:!0,weight:"bold",children:e},`board_${e}`)})},`yourboard_${e}`)}function Q({sourceBoard:e,targetBoard:t}){var o;const n=(0,d.ZP)();return(0,f.jsxs)(h.xu,{children:[(0,f.jsx)(h.xu,{paddingY:2,children:(0,f.jsx)(h.xv,{children:(0,Y.nk)(n._('You\'re about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{sourceBoardName:(0,f.jsx)(X,{board:e},"sourceBoard"),targetBoardName:(0,f.jsx)(X,{board:t},"targetBoard")})})}),(0,f.jsx)(h.xu,{paddingY:2,children:(0,f.jsx)(q,{boardName:null!==(o=e.name)&&void 0!==o?o:"",collaboratorCount:e.collaborator_count})})]})}var J=o(121151);function ee({onConfirm:e,onHide:t,sourceBoard:o,targetBoard:n}){const i=(0,d.ZP)();return(0,f.jsx)(J.ZP,{accessibilityModalLabel:i._('Confirm Board Merge', 'accessibility label for board merging confirmation modal', 'accessibility label for board merging confirmation modal'),onDismiss:t,heading:i._('Move Pins and delete board?', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"dialog",size:"md",footer:(0,f.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginStart:-2,marginEnd:-2,children:[(0,f.jsx)(h.xu,{paddingX:2,children:(0,f.jsx)(h.zx,{text:i._('Cancel', 'Cancel button in board merging confirmation modal', 'Cancel button in board merging confirmation modal'),onClick:t})}),(0,f.jsx)(h.xu,{paddingX:2,children:(0,f.jsx)(h.zx,{color:"red",text:i._('Move Pins and delete board', 'Confirm button in board merging confirmation modal', 'Confirm button in board merging confirmation modal'),onClick:()=>e(o,n)})})]}),children:(0,f.jsx)(h.xu,{padding:4,children:(0,f.jsx)(Q,{sourceBoard:o,targetBoard:n})})})}var te=o(755970),oe=o(834849),ne=o(636803);function ie({onHide:e}){const t=(0,d.ZP)();return(0,f.jsx)(J.ZP,{accessibilityModalLabel:t._('Board Merge Error Alert', 'accessibility label for board merging error alert', 'accessibility label for board merging error alert'),onDismiss:e,heading:t._('Oops!', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"alertdialog",size:"md",footer:(0,f.jsx)(h.xu,{children:(0,f.jsx)(h.zx,{fullWidth:!0,color:"red",text:t._('Got it', 'ok button in board merging error alert', 'ok button in board merging error alert'),onClick:e})}),children:(0,f.jsx)(h.xu,{padding:4,children:(0,f.jsx)(h.xv,{children:t._('You can\'t move this board because you didn\'t create it.', 'board merging error alert', 'board merging error alert')})})})}function se({onConfirm:e,onHide:t}){const o=(0,d.ZP)();return(0,f.jsx)(J.ZP,{accessibilityModalLabel:o._('Warning about overwriting board order', 'Accessible label for the board order overwrite modal', 'Accessible label for the board order overwrite modal'),onDismiss:t,heading:o._('Are you sure?', 'Heading for board order overwriting modal', 'Heading for board order overwriting modal'),role:"alertdialog",size:"md",footer:(0,f.jsxs)(h.xu,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[(0,f.jsx)(h.xu,{padding:1,children:(0,f.jsx)(h.zx,{fullWidth:!0,size:"lg",text:o._('Cancel', 'Button text for canceling board re-ordering', 'Button text for canceling board re-ordering'),onClick:t})}),(0,f.jsx)(h.xu,{padding:1,children:(0,f.jsx)(h.zx,{fullWidth:!0,size:"lg",color:"red",text:o._('Lose previous customization', 'Button text for confirming board re-ordering', 'Button text for confirming board re-ordering'),onClick:e})})]}),children:(0,f.jsx)(h.xu,{padding:4,children:(0,f.jsx)(h.xv,{children:(0,Y.nk)(o._('You\u2019re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}', ' - ', ' -- '),{dragAndDrop:(0,f.jsx)(h.xv,{inline:!0,weight:"bold",children:o._('Drag and drop', 'Text for indicating drag and drop sort order', 'Text for indicating drag and drop sort order')},"dragDrop")})})})})}var re=o(145401);class le extends n.Component{constructor(...e){var t,o,n;super(...e),n={board:null},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){var e;const{invite:t}=this.props,o={board_id:null===(e=t.board)||void 0===e?void 0:e.id,field_set_key:"profile_grid_item"};c.ZP.create("BoardResource",o).callGet().then((e=>{this.setState({board:e.resource_response.data})}),(e=>{throw e}))}render(){const{invite:e,layout:t,onDeclineRequest:o,slotIndex:n}=this.props,{board:i}=this.state;return i&&e?(0,f.jsx)(re.Z,{board:i,canEdit:!1,invite:e,isOwnProfile:!1,layout:t,onDeclineRequest:o,onEditClick:e=>{},slotIndex:n,subtitle:null}):null}}const ae=le;function ce(e){const{isOwnProfile:t,layout:o}=e,n=(0,_.Z)(),i=(0,u.Z)({name:"ContactRequestsResource",noCache:!0}),s=(0,u.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"},noCache:!0}),r=(0,F.m)(o),l="list"===o,a=[];(s.data||[]).forEach((e=>{e.invited_user&&a.push({invited_user:e.invited_user,invited_by_user:e.invited_by_user,board:e.board})}));const c=()=>{s.refresh()};let d=[];if(n.isAuth&&!n.isPartner){d=(i.data||[]).filter((e=>!!e.board&&!!e.created_at&&Date.now()-new Date(e.created_at)<2592e6)).map((e=>({invited_user:e.recipient,invited_by_user:e.sender,board:e.board})))}const h=[...a,...d].slice(0,5);return t&&!l&&h.length>0?h.map(((e,t)=>{var n;return(0,f.jsx)(D,{containerWidth:r,inListView:l,children:(0,f.jsx)(ae,{invite:e,layout:o,onDeclineRequest:c,slotIndex:t})},`invite-card-wrapper-${String(null===(n=e.board)||void 0===n?void 0:n.id)}`)})):null}var de=o(993404),ue=o(588028),_e=o(281615);const he={borderColor:"white",WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function pe({index:e,isHovering:t,onImageLoad:o,pinImageObject:{images:n}}){var i,s,r;return(0,f.jsx)(h.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:0-e,marginInlineEnd:"-89px"}},children:(0,f.jsx)(h.xu,{position:"relative",height:157,width:118,color:"white",borderStyle:"sm",overflow:"hidden",rounding:4,dangerouslySetInlineStyle:{__style:he},children:(0,f.jsx)(h.zd,{height:"100%",width:"100%",wash:t,children:n?(0,f.jsx)(h.Ee,{alt:"",src:null!==(i=n["236x"].url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=n["236x"].height)&&void 0!==s?s:1,naturalWidth:null!==(r=n["236x"].width)&&void 0!==r?r:1,onLoad:o}):(0,f.jsx)(h.xu,{height:"100%",width:"100%",color:"lightGray"})})})})}var me=o(436285),ge=o(343375);var fe=o(215292),xe=o(780280);function be({shoppingListStory:{objects:e,id:t,title:o}}){const{logContextEvent:i}=(0,m.v)(),s=(0,d.ZP)(),{showShoppingListIconEducation:r}=function(){const{experienceForPlacement:e}=(0,ge.Z)(19);return{showShoppingListIconEducation:503246===(null==e?void 0:e.experience_id)}}(),l=(0,n.useRef)(),[a,c]=(0,n.useState)(r),u=(0,_.Z)(),p=u.isAuth?u.username:"";(0,n.useEffect)((()=>{i({event_type:170,component:13811,view_type:4,aux_data:{...{story_type:"wishlist_shop_your_products_story",story_id:t}}})}),[i,t]);const g=[...e];for(;g.length<5;)g.push({images:null});const{isRTL:x}=(0,xe.B)();return(0,f.jsxs)(h.xu,{padding:2,position:"relative",children:[a&&(0,f.jsx)(h.mh,{zIndex:new h.Ry(10),children:(0,f.jsx)(h.J2,{anchor:l.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>c(!1),positionRelativeToAnchor:!1,size:"xs",children:(0,f.jsx)(h.xu,{padding:4,children:(0,f.jsx)(h.xv,{color:"inverse",align:"center",children:s._('Shop all your saved products in one place', 'Profile.User.Button.Icon.ShoppingList.Tooltip', 'Tooltip explaining shopping list functionality on user own profile')})})})}),(0,f.jsx)(h.iP,{role:"link",href:`/${p}/_shopping_list/`,onTap:()=>{i({event_type:102,component:13811,view_type:4,aux_data:{story_type:"wishlist_shop_your_products_story",story_id:t}})},children:(0,f.jsx)(fe.q,{children:({active:e,focused:t,hovered:n,onMouseEnter:i,onMouseLeave:r,onFocus:l})=>(0,f.jsxs)(h.xu,{onFocus:l,onMouseEnter:i,onMouseLeave:r,children:[(0,f.jsxs)(h.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:[g.map(((o,i)=>(0,f.jsx)(pe,{index:i,isHovering:e||n||t,pinImageObject:o},i))),(0,f.jsx)(h.xu,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!x,marginStart:4,marginTop:4,position:"absolute",right:x,rounding:"circle",top:!0,width:32,children:(0,f.jsx)(me.Z,{})})]}),(0,f.jsx)(h.xu,{alignItems:"start",display:"flex",padding:2,children:(0,f.jsxs)(h.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,f.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:o.format}),(0,f.jsx)(h.xu,{alignItems:"center",display:"flex",marginTop:1,children:(0,f.jsx)(h.xv,{size:"100",children:s._('All saved products', 'shoppingListCard.Subtitle.Text', 'Subtitle for shopping list entrypoint card on user profile')})})]})})]})})})]})}var ye=o(179213),ve=o(229448),Pe=o(442279),we=o(683190),Ae=o(283040),Ce=o(839045),Ee=o(708206);function je(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Te=-1;class Ie extends n.PureComponent{constructor(...e){super(...e),je(this,"state",{activeModal:null,boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Te,sourceIndex:Te,targetIndex:Te}),je(this,"firstBoardRef",(0,n.createRef)()),je(this,"container",(0,n.createRef)()),je(this,"cancelHoverTimeout",(()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null})),je(this,"dragHoverTimeout",null),je(this,"isDragging",(()=>this.state.sourceIndex!==Te)),je(this,"handleBoardCardDragBegin",(e=>this.setState({previewIndex:e,sourceIndex:e}))),je(this,"handleBoardCardDragHover",((e,t)=>{if(!t)return;const{boardIds:o,previewIndex:n}=this.state;if(!this.allowDragging)return;const i=this.allowDragging?(0,Ce.TI)({hoverRelativePosition:t,centerEnabled:e!==n}):"center",s={itemIndex:e,regionWithinItem:i};if(this.dragHoverTimeout&&(0,Ce.Lz)(s,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const r="center"===i?"merge":"reorder",l=(0,Ce.X3)({hoverLocation:s,sourceIndex:n});l!==n?this.dragHoverTimeout={hoverLocation:s,timeoutId:setTimeout((()=>{this.dragHoverTimeout=null,this.setState({dropAction:r,targetIndex:l,..."reorder"===r?{previewIndex:l,boardIds:(0,_e.zX)(o,n,l)}:{}})}),"reorder"===r?200:20)}:l!==this.state.targetIndex&&this.setState({targetIndex:l})})),je(this,"handleCloseModal",(()=>this.setState({activeModal:null}))),je(this,"handleBoardCardDragEnd",(e=>{const{boardIds:t,boardMap:o,boardOrder:n,dispatch:i,onBoardReorder:s,viewer:r}=this.props,{boardIds:l,dropAction:a,previewIndex:d,sourceIndex:u,targetIndex:_}=this.state;if(this.cancelHoverTimeout(),this.setState({boardIds:t,previewIndex:Te,sourceIndex:Te,targetIndex:Te}),e&&u!==Te&&_!==Te&&u!==_)if("custom"!==n&&this.setState({activeModal:(0,f.jsx)(se,{onConfirm:this.handleOverwriteBoardOrder,onHide:this.handleCloseModal})}),"merge"===a){const e=e=>{const t=l[e];return t&&o[t]},t=e(d),n=e(_);if(t&&n){if(t.collaborated_by_me)return void this.setState({activeModal:(0,f.jsx)(ie,{onHide:this.handleCloseModal})});this.setState({activeModal:(0,f.jsx)(ee,{onConfirm:()=>this.handleMergeBoards(t,n),onHide:this.handleCloseModal,sourceBoard:t,targetBoard:n})})}}else if(_<l.length&&u<l.length&&"custom"===n){i(function({boardIds:e,sourceIndex:t,targetIndex:o,username:n}){return i=>{if(!n)return;i((0,de.Z)({feedType:"profileBoards",feedId:(0,ue.O)(n,"custom"),itemType:"board",sourceItemId:e[t],targetItemId:e[o]}));const s=(0,_e.zX)(e,t,o);c.ZP.create("BoardsReorderResource",{board_ids:s}).callUpdate({showError:!1})}}({boardIds:t,sourceIndex:u,targetIndex:_,username:r.isAuth?r.username:null})),s&&s()}})),je(this,"handleOverwriteBoardOrder",(()=>{const{updateBoardSortOption:e}=this.props;null==e||e("custom"),c.ZP.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),this.handleCloseModal()})),je(this,"handleMergeBoards",((e,t)=>{const{dispatch:o,showBlockingActionToast:n,onBoardDelete:i,logContextEvent:s}=this.props;s({event_type:7172,object_id_str:e.id,aux_data:{merge_flow:"dnd"}}),o((0,we.xH)(e.id,t.id)).then((()=>n({actionType:"merge",board:t}))).catch((e=>{oe.Z.showError(e.message||this.props.i18n._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})),i(e.id),this.handleCloseModal()})),je(this,"renderBoards",(()=>{var e,t;const{allPinsStory:o,boardOrder:i,boardMap:s,boardVisibility:r,viewer:l,isOwnProfile:a,isDragWithinBounds:c,layout:d,onBoardArchiveChange:u,onBoardDelete:_,onBoardPrivacyChange:h,onBoardUpdate:p,onBoardLeave:m,shoppingListStory:g,allowShoppingControls:x}=this.props,{activeModal:b,boardIds:y}=this.state,v=(0,F.m)(d),P="list"===d,w=!o||!x||(null==r||null===(e=r.data)||void 0===e?void 0:e.show_all_pins),A=!g||!x||(null==r||null===(t=r.data)||void 0===t?void 0:t.eligible_for_wishlist)&&r.data.show_shopping_list;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(O.Z,{...P?{}:{itemWidth:v},maxColumns:P?0:12,children:[w&&o&&(0,f.jsx)(K,{boardOrder:i,allPinsStory:o}),A&&g&&!l.isLimitedLogin&&(0,f.jsx)(be,{shoppingListStory:g}),!l.isLimitedLogin&&(0,f.jsx)(ce,{isOwnProfile:a,layout:d}),y.map((e=>s[e])).filter(Boolean).map(((e,t)=>{const o=(0,f.jsx)(z.Z,{board:e,boardOrder:i,forwardedRef:0===t?this.firstBoardRef:void 0,isOwnProfile:a,isReordering:this.isDragging(),layout:d,onBoardArchiveChange:u,onBoardDelete:()=>_(e.id),onBoardLeave:m,onBoardPrivacyChange:h,onBoardUpdate:p,slotIndex:t});return(0,f.jsx)(D,{containerWidth:v,inListView:P,semiTransparent:this.isDragging()&&!c,children:this.allowDragging?(0,f.jsx)(Ae.Z,{index:t,onDragBegin:this.handleBoardCardDragBegin,onDragEnd:this.handleBoardCardDragEnd,onDragHover:this.handleBoardCardDragHover,type:Ae.y.Board,children:o}):o},`main-card-wrapper-${e.id}`)}))]}),(0,f.jsx)(ne.Z,{anchors:{3008:this.firstBoardRef.current},placementId:19,positionRelativeToAnchor:!1}),b]})}))}componentDidUpdate(e){e.boardIds.join(",")!==this.props.boardIds.join(",")&&this.setState({boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Te,sourceIndex:Te,targetIndex:Te})}componentWillUnmount(){this.cancelHoverTimeout()}get allowDragging(){const{isOwnProfile:e,isOverview:t}=this.props;return e&&!t}render(){const{connectDropTarget:e,boardOrder:t,layout:o}=this.props;return(0,f.jsxs)(h.xu,{ref:this.container,children:["list"===o&&(0,f.jsx)(R,{headerLabel:["newest","oldest"].includes(t)?this.props.i18n._('Created on', 'Profile board list view heading label', 'Profile board list view heading label'):this.props.i18n._('Last saved to', 'Profile board list view heading label', 'Profile board list view heading label')}),this.allowDragging&&e?(0,f.jsxs)(n.Fragment,{children:[e((0,f.jsx)("div",{children:this.renderBoards()})),this.isDragging()&&(0,f.jsx)(te.Z,{})]}):this.renderBoards()]})}}const Se=(0,Ee.compose)((0,ye.Z)(Ae.y.Board),ve.ZP,(0,y.connect)((0,Pe.zB)({boardMap:L}),(e=>({dispatch:e}))))((function(e){var t;const o=(0,d.ZP)(),n=(0,_.Z)(),{logContextEvent:i}=(0,m.v)(),s=null===(t=(0,g.x)())||void 0===t?void 0:t.setBoardSortOrder,r=!0===e.isOwnProfile,{group:l,anyEnabled:a}=(0,p.aq)("web_shopping_list_controls",r),c=!a||"enabled_pwt"===l,h=(0,u.Z)({name:"UserResource",options:{username:n.username||"",field_set_key:"board_visibility"},dangerouslyDisableFetch:!a});return(0,f.jsx)(Ie,{...e,boardVisibility:a?h:void 0,allowShoppingControls:!c,i18n:o,viewer:n,updateBoardSortOption:s,logContextEvent:i})}));function ze({allPinsStory:e,boardIds:t,boardOrder:o,group:n,isOverview:i,isOwnProfile:s,isPartner:r,onBoardChange:l,onBoardGroupChange:a,profileBoardView:c,showCreatorProfile:d,shoppingListStory:u}){if("archived"===n)return(0,f.jsx)(M,{boardIds:t,layout:c,onBoardArchiveChange:a,onBoardDelete:l,showCreatorProfile:d});const _=(0,f.jsx)(Se,{allPinsStory:e,boardIds:t,boardOrder:o,isOverview:i,isOwnProfile:s,layout:c,onBoardArchiveChange:a,onBoardDelete:l,onBoardLeave:e=>a(),onBoardPrivacyChange:a,onBoardReorder:l,onBoardUpdate:l,showCreatorProfile:d,shoppingListStory:u});return"unlabeled"===n?_:(0,f.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},marginBottom:6,marginTop:6,overflow:"hidden",children:[(0,f.jsx)(G,{type:n}),_]})}var ke=o(725053);function De({fetchMore:e,isAtEnd:t,isFetching:o}){return(0,f.jsx)(h.gr,{fetchMore:e,isAtEnd:t,isFetching:o})}var Re=o(430323),Oe=o(969853),Le=o(717615),Fe=o(543398),Me=o(231947),Be=o(501817),Ne=o(414327),Ue=o(276602);function Ze(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ge({isAtEndOfFeed:e}){return(0,Oe.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class He extends n.PureComponent{constructor(...e){super(...e),Ze(this,"state",{boardsResourceAnnotationAdded:!1}),Ze(this,"feedIsStale",!1),Ze(this,"handleBoardChanged",(()=>{this.feedIsStale=!0})),Ze(this,"handleBoardGroupChange",(()=>this.props.boardsResource.refresh()))}componentDidUpdate(e){const{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){const{boardsResource:o,pwtSurfaceContext:n}=e,{boardsResourceAnnotationAdded:i}=t;return o.isLoaded&&n&&!i?(n.addAnnotation("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){const{invalidateFeeds:e}=this.props;this.feedIsStale&&e()}renderAllBoardsGroups(e){const{boardOrder:t,boardlessPinsNormalized:o,boardsResource:n,filterStories:i,isOwnProfile:s,isOverview:r,mixPublicSecret:l,profileBoardView:a,user:c}=this.props,{is_partner:d,show_creator_profile:u}=c,_=!i&&n.data&&n.data.length>0&&"all_pins"===n.data[0].story_type?n.data[0]:null,p=!i&&n.data?n.data.find((e=>"wishlist_shop_your_products_story"===e.story_type?e:null)):null,m=_&&1===(n.data||[]).length;if((n.data||[]).length>0&&0===e.length&&!m&&!p)return(0,f.jsx)(h.xu,{padding:6,children:(0,f.jsx)(h.$j,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});const g=(o||[]).length>0;if(0===e.length&&!m&&!g)return(0,f.jsx)(ke.Z,{fullName:c.full_name,isOwnProfile:s,isPartnerProfile:d});const x=function(e,t){return e.reduce(((e,{id:o,profileGroup:n})=>{let i;return i="public"===n||t&&"secret"===n?{unlabeled:e.unlabeled.concat([o])}:{[n]:e[n].concat([o])},{...e,...i}}),{unlabeled:[],protected:[],secret:[],archived:[]})}(e,l),b=["protected","secret","archived"].filter((e=>x[e].length>0)),y=i?a:"square";return g&&m?null:(0,f.jsx)(h.xu,{marginTop:"list"===a?6:-2,overflow:"hidden",children:["unlabeled"].concat(s&&!r?b:[]).map((e=>(0,f.jsx)(ze,{allPinsStory:"unlabeled"===e&&"story"===(null==_?void 0:_.type)?_:null,boardIds:x[e],boardOrder:t,group:e,isOverview:!!r,isOwnProfile:s,isPartner:!!d,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,profileBoardView:y,showCreatorProfile:!!u,shoppingListStory:"unlabeled"===e&&"story"===(null==p?void 0:p.type)?p:null},e)))})}render(){var e;const{boardKeys:t,i18n:o,isBoardlessProfileEnabled:n,isOwnProfile:i,isOverview:s,boardlessPinsNormalized:r,boardlessPinsResource:l,boardsResource:a,user:c}=this.props,{data:d,isFetching:u,isLoaded:_,isAtEnd:p,fetchMore:m}=a,{isLoaded:g,isAtEnd:x}=l||{},b=!!d&&d.length>0&&"all_pins"===d[0].story_type,y=!!d&&d.length>0&&("wishlist_shop_your_products_story"===d[0].story_type||"wishlist_shop_your_products_story"===(null===(e=d[1])||void 0===e?void 0:e.story_type)),v=!!d&&((b||y)&&d.length>1||!b&&d.length>0),P=n?g&&_:_,w=n?x&&p:p;return(0,f.jsx)(Re.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,f.jsxs)(h.xu,{children:[_&&this.renderAllBoardsGroups(s?t.slice(0,6):t),(0,f.jsx)(h.xu,{padding:u?6:0,children:(0,f.jsx)(h.$j,{accessibilityLabel:o._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:u})}),_&&!s&&(0,f.jsx)(De,{fetchMore:m,isAtEnd:p,isFetching:u}),P&&(0,f.jsx)(Ge,{isAtEndOfFeed:w}),(r||[]).length>0&&(null==l?void 0:l.data)&&(0,f.jsx)(S,{boardlessPinsNormalized:r,boardlessPinsResource:l,hasBoards:v,isOwnProfile:i,userId:c.id})]})})}}Ze(He,"defaultProps",{boardKeys:[]});const Ve=(0,y.connect)((0,Pe.P1)([ue.M],(e=>({boardKeys:(e||[]).reduce(((e,t)=>e.concat("board"===t.type&&t.onProfile?[t]:[])),[])}))),(()=>({})))((function(e){const t=(0,d.ZP)(),{id:o}=e.user,n=(0,_.Z)(),i=n.isAuth?n.username:"",s=(0,Le.Z)(),r=(0,Me.lJ)(n,s),l=(0,g.x)(),a=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&(null==l?void 0:l.profileBoardView)||"wide",{showEnabledSaveBehavior:c}=(0,Fe.ZP)(o),h=(0,u.Z)({name:Be.O.name,options:Be.O.options(e,r)}),p=(0,u.Z)({name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o},dangerouslyDisableFetch:!c}),m=(0,y.useSelector)((({feeds:e})=>e.boardlessPins[o]))||[],x=(0,y.useDispatch)();return(0,f.jsx)(He,{...e,boardlessPinsNormalized:m,boardlessPinsResource:p,boardsResource:h,i18n:t,invalidateFeeds:()=>x((0,we.K8)(i)),invalidatePinBetterSaveResource:()=>x((0,Ne.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),isBoardlessProfileEnabled:c,profileBoardView:a,pwtSurfaceContext:(0,Ue.EV)(),requestContext:(0,xe.B)()})})),We={ALL_PINS_VISIBILITY_SWITCH:12787,SHOPPING_LIST_VISIBILITY_SWITCH:12788};function Ke({setVisibilityControlsModalOpen:e}){const{logContextEvent:t}=(0,m.v)(),o=(0,d.ZP)(),i=(0,xe.B)(),s=(0,_.Z)(),{data:r,isFetching:l,refresh:a}=(0,u.Z)({name:"UserResource",options:{user_id:s.isAuth?s.id:"",field_set_key:"board_visibility"}}),{show_all_pins:p=!1,show_shopping_list:g=!1,eligible_for_wishlist:x=!1}=r||{},[b,y]=(0,n.useState)(!1),[v,P]=(0,n.useState)(!1);(0,n.useEffect)((()=>y(p)),[p]),(0,n.useEffect)((()=>P(g)),[g]);const w=async(e,o,n,i)=>{t({event_type:101,view_type:4,view_parameter:3689,element:We[i]}),n(e),await c.ZP.create("UserSettingsResource",{[o]:e}).callUpdate(),await a()},A=i.isRTL,C=(0,f.jsx)(h.hU,{accessibilityLabel:o._('Close', 'profileBoardsPage.visibilityControlsModal.close', 'Accessibility string that describes the close icon button to close the modal that controls board visibility on profile'),icon:"cancel",iconColor:"darkGray",onClick:()=>e(!1)});return(0,n.useEffect)((()=>{t({event_type:13,view_type:4,view_parameter:3689})}),[t]),(0,f.jsx)(J.ZP,{heading:(0,f.jsx)(h.xu,{padding:8,children:(0,f.jsxs)(h.kC,{alignItems:"center",children:[A&&C,(0,f.jsx)(h.kC.Item,{flex:"grow",children:(0,f.jsx)(h.X6,{align:"center",size:"500",children:o._('Manage visibility', 'profileBoardsPage.visibilityControlsModal.heading', 'Title on the modal to control board visibility on profile')})}),!A&&C]})}),accessibilityModalLabel:o._('Edit board visibility', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel', 'Accessibility string that describes the modal to control board visibility on profile'),onDismiss:()=>e(!1),children:(0,f.jsxs)(h.xu,{paddingX:8,marginBottom:8,children:[(0,f.jsx)(h.__,{htmlFor:"show_all_pins",children:(0,f.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show All Pins', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.label', 'Title of the switch to control all pins board visibility on profile')})}),(0,f.jsxs)(h.xu,{display:"flex",marginTop:1,marginBottom:8,children:[(0,f.jsx)(h.xu,{marginEnd:2,children:(0,f.jsx)(h.xv,{color:"subtle",children:o._('All Pins will be publicly visible to you and others when viewing your profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.explanation', 'Describes the switch to control all pins board visibility on profile')})}),(0,f.jsx)(h.rs,{id:"show_all_pins",switched:b,disabled:l,onChange:({value:e})=>{w(e,"show_all_pins",y,"ALL_PINS_VISIBILITY_SWITCH")}})]}),x&&(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(h.__,{htmlFor:"show_shopping_list",children:(0,f.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show Your shopping list', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.label', 'Title of the switch to control shopping list board visibility on profile')})}),(0,f.jsxs)(h.xu,{display:"flex",marginTop:1,children:[(0,f.jsx)(h.xu,{marginEnd:2,children:(0,f.jsx)(h.xv,{color:"subtle",children:o._('Your shopping list will only be visible to you when viewing your own profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.explanation', 'Describes the switch to control shopping list board visibility on profile')})}),(0,f.jsx)(h.rs,{id:"show_shopping_list",switched:v,disabled:l,onChange:({value:e})=>{w(e,"show_shopping_list",P,"SHOPPING_LIST_VISIBILITY_SWITCH")}})]})]})]})})}var $e=o(296117),Ye=o(851942),qe=o(340274),Xe=o(31739),Qe=o(925927),Je=o(946984),et=o(185760);function tt({currentTab:e}){const t=(0,d.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,Qe.k6)(),r=(0,y.useDispatch)(),l=(0,_.Z)(),a=(0,Le.Z)(),c=(0,Me.lJ)(l,a),u=(0,Je.Z)({shouldStopEventPropagation:!1}),{logContextEvent:h}=(0,m.v)(),p=u((()=>{i(!0)})),g=u((e=>{const t=c&&(0,Xe.Z)(e)?`?orbac_subject_id=${c}`:"";r((0,Ne.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),s.push(`${e.url||""}${t}`,{newBoard:!0})})),x=u((()=>{s.push("/pin-builder/")})),b=u((()=>{h({event_type:101,component:13056,element:10949,view_type:4,view_parameter:3106,aux_data:{entry_type:"profile_plus_button"}}),s.push({pathname:"/idea-pin-builder/",state:{entry_type:"profile_plus_button"}})}));return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(Ye.Z,{onCreateBoard:p,onCreatePin:x,onCreateStoryPin:b,surface:e===et.u.PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:n})=>(0,f.jsx)($e.Z,{accessibilityLabel:e===et.u.PINS?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:n,selected:o})}),o&&(0,f.jsx)(qe.Z,{onBoardCreate:g,onClose:()=>i(!1)})]})}function ot({username:e}){var t,o;const s=(0,xe.B)(),a=(0,_.Z)(),c=(0,Le.Z)(),d=(0,n.useRef)(null),[,m]=(0,n.useState)(!1);(0,n.useLayoutEffect)((()=>{m(!0)}),[]);const{group:x}=(0,p.tc)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),y="enabled"===x,{anyEnabled:v}=(0,p.tc)("web_m10n_business_access_orbac_ga")(),[P,w]=(0,n.useState)(!1),A=null!==(t=null===(o=(0,g.x)())||void 0===o?void 0:o.boardSortOrder)&&void 0!==t?t:"",{data:C}=(0,W.Z)(),{data:E}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!C||!E)return null;const{most_recent_board_sort_order:j}=E,{has_custom_board_sorting_order:T=!1}=C,I=(0,l.Z)({user:C,viewer:a}),S=(0,Me.q6)(a,C.id,c),z=r({hasCustomOrder:T,hasGroupBoard:void 0!==a.groupBoardCount&&a.groupBoardCount>0,isOwnProfile:I||v&&S,mostRecentBoardSortOrder:j||void 0,updatedBoardOrder:A,requestContext:s});return(0,f.jsxs)(h.kC,{direction:"column",gap:2,children:[(0,f.jsx)(h.xu,{paddingX:4,children:(0,f.jsxs)(h.kC,{justifyContent:"between",children:[(I||v&&S)&&(0,f.jsx)(h.xu,{ref:d,children:(0,f.jsx)(b,{user:C,setVisibilityControlsModalOpen:w})}),(I||S)&&(0,f.jsx)(tt,{currentTab:et.u.SAVED})]})}),(0,f.jsx)(Ve,{boardOrder:z,filterStories:!1,isOwnProfile:I,mixPublicSecret:I||S,user:C,username:C.username}),P&&(0,f.jsx)(Ke,{setVisibilityControlsModalOpen:w}),y&&(0,f.jsx)(i.Z,{anchor:d.current,placementId:19,experienceIds:[504098],idealDirection:"down",showCaret:!0,textAlign:"center",textWeight:"normal",onClickComplete:()=>w(!0)})]})}var nt=o(953192);function it(){const{data:e}=(0,W.Z)(),t=(0,Qe.$B)();return(0,nt.S)(t.params.username,null==e?void 0:e.id,13669),(0,f.jsx)(ot,{username:t.params.username})}},320101:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Te});var n=o(966338),i=o(667294),s=o(6637),r=o(499128),l=o(898781),a=o(708032),c=o(794230),d=o(966113),u=o(883119),_=o(785893);function h({onClick:e,text:t}){const{feedProfileId:o}=(0,n.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),i=o&&""!==o?`${d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${o}/product-groups/create/`:d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL,s=(0,c.Z)(i,{from:"storefront"});return(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.zx,{role:"link",href:s,rel:"none",onClick:e,size:"lg",text:t})})}var p=o(765310),m=o(306732),g=o(91214),f=o(677581),x=o(934523),b=o(349700),y=o(407043);const v=()=>{const{logContextEvent:e}=(0,y.v)(),t=(0,l.ZP)();return(0,_.jsx)(i.Fragment,{children:(0,_.jsxs)(u.xu,{marginTop:-4,marginBottom:6,children:[(0,_.jsx)(u.xu,{marginBottom:2,children:(0,_.jsx)(u.xv,{size:"300",inline:!0,children:t._('Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.', 'merchantStorefront.ProductGroupControls.subheader.text', 'Text for explaining the purpose of the product group controls sheet')})}),(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(p.Z,{}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(h,{onClick:()=>e({event_type:9866,component:14001}),text:t._('Create product group', 'Storefront.ProductGroupControls.CreateProductGroup.button', 'Button to create product group from catalogs page')})})]})]})})},P=({featuredGroups:e=[],recommendedGroups:t=[],customGroups:o=[],checkedGroups:n=[],setSelectedGroup:s})=>{const{logContextEvent:r}=(0,y.v)(),a=(0,l.ZP)(),c=(e,t,o,i,l)=>{const c=n.includes(t),d=[m.EK.FEATURING,m.EK.FEATURED,m.EK.CAN_FEATURE].includes(l);return(0,_.jsx)(u.xu,{width:"100%",height:91,marginTop:4,marginBottom:4,borderStyle:"shadow",padding:2,rounding:5,children:(0,_.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,_.jsx)(u.xu,{column:2,children:(0,_.jsx)(u.zd,{rounding:4,wash:!0,height:79,width:79,children:(0,_.jsx)("img",{alt:a._('product group cover image', 'merchantStorefront.ProductGroupControls.body.card.image', 'The cover image for a product group'),src:null==o?void 0:o.url})})}),(0,_.jsx)(u.xu,{column:7,padding:4,children:(0,_.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,_.jsx)(u.X6,{size:"400",color:d?"default":"subtle",children:e}),!d&&(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.u,{text:(0,f.O)(l,a),idealDirection:"right",children:(0,_.jsx)(u.JO,{accessibilityLabel:a._('An exclamation point alert icon indicating issues, described on a tooltip', 'merchantStorefront.productGroupControlsSheet.ProductGroupCard.icon.accessibiltyLabel', 'The accessibility label for alert icon'),color:"subtle",icon:"alert",size:24})})})]})}),(0,_.jsx)(u.xu,{column:4,padding:4,children:(0,_.jsx)(u.xv,{size:"300",align:"forceRight",color:"subtle",children:(0,b.nk)(a.ngettext('{{productCount}} product', '{{productCount}} products', i, 'merchantStorefront.ProductGroupControls.ProductGroupCard.productCount', 'Number of products in a product group'),{productCount:i})})}),(0,_.jsx)(u.xu,{padding:2,column:1,children:(0,_.jsx)(u.XZ,{checked:c,id:t,label:"",name:e,disabled:!d,onChange:({checked:e})=>{s(t,e);r({event_type:e?9864:9865,component:14e3})}})})]})},t)};return(0,_.jsx)(i.Fragment,{children:(0,_.jsxs)(u.xu,{marginTop:4,children:[e&&e.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:a._('Featured', 'merchantStorefront.ProductGroupControls.body.header.featured', 'Text indicating the product groups shown are currently being featured')}),e.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,_.jsx)("br",{}),t&&t.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:a._('Recommended for you', 'merchantStorefront.ProductGroupControls.body.header.recommended', 'Text indicating the product groups shown are recommended groups')}),t.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,_.jsx)("br",{}),o&&o.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:a._('Your custom product groups', 'merchantStorefront.ProductGroupControls.body.header.custom', 'Text indicating the product groups shown are custom groups')}),o.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]})]})})},w=({isLoading:e=!1,onDismiss:t,onSave:o,featuredGroups:n=[],recommendedGroups:s=[],customGroups:r=[]})=>{const a=(0,l.ZP)(),c=new u.H3([new u.Ry(g.HW),new u.Ry(x.fe)]),[d,h]=(0,i.useState)([]);(0,i.useEffect)((()=>{e||h(n.map((({id:e})=>e)))}),[n,e]);return(0,_.jsx)(u.mh,{zIndex:c,children:(0,_.jsx)(u.yo,{accessibilityDismissButtonLabel:a._('Close storefront product group controls sheet', 'merchantStorefront.ProductGroupControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing storefront product group sheet'),accessibilitySheetLabel:a._('Product group controls for merchant storefront', 'merchantStorefront.ProductGroupControls.accessibilitySheetLabel', 'Accessibility text for opening storefront product group controls sheet'),heading:a._('Feature product groups', 'merchantStorefront.ProductGroupControls.title', 'Title for storefront product group controls sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.xv,{size:"300",weight:"bold",inline:!0,children:(0,b.nk)(a.ngettext('{{checkedCount}} product group selected', '{{checkedCount}} product groups selected', d.length, 'merchantStorefront.ProductGroupControls.changest', 'Tracks how many product groups were selected to edit'),{checkedCount:d.length})})}),(0,_.jsx)(u.xu,{children:(0,_.jsxs)(u.hE,{children:[(0,_.jsx)(u.zx,{color:"gray",text:a._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:e}),(0,_.jsx)(u.zx,{color:"red",text:a._('Save', 'Storefront.ProductGroupControls.save', 'Save storefront product group changes'),onClick:()=>{o(d)}})]})})]}),size:"md",children:e?(0,_.jsx)(u.$j,{show:!0,accessibilityLabel:"loading"}):(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(v,{}),(0,_.jsx)(P,{featuredGroups:n,customGroups:r,recommendedGroups:s,checkedGroups:d,setSelectedGroup:(e,t)=>{h(t?[...d,e]:d.filter((t=>t!==e)))}})]})})})};var A=o(198938),C=o(262534),E=o(642247),j=o(343341),T=o(400264);function I({onDismiss:e}){const{logContextEvent:t}=(0,y.v)(),o=(0,n.useDispatch)(),c=(0,l.ZP)(),{country:d,language:u,feedProfileId:h}=(0,n.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),{isLoaded:p,userId:m,settings:g,refresh:f}=(0,E.LO)(),{showOneToast:x}=(0,j.F9)(),b=(0,T.G7)({feedProfileId:h}),v=b.data||[],P=(0,T.Ib)({feedProfileId:h}),I=P&&P.data||[];(0,i.useEffect)((()=>{t({event_type:9861,component:14e3})}),[t]);const S=p&&P.isLoaded&&!P.isFetching&&b.isLoaded&&!b.isFetching,{featuredGroups:z,customGroups:k,recommendedGroups:D}=((e,t)=>{const o=[],n=[],i=[],s=[];return e&&t?(t.forEach((o=>{const n=e.find((e=>String(e.id)===o.id)),i={};i.name=o.name,i.id=o.id,i.image=o.preview_pins&&o.preview_pins[0]&&o.preview_pins[0].images&&o.preview_pins[0].images["170x"],i.isFeatured=!!o.featured_position,i.count=n&&n.product_count?n.product_count:0,i.isCustom="MERCHANT_CREATED"===o.group_type,i.featureStatus=(0,a._c)(t,i.id,""),s.push(i)})),s.forEach((e=>{e.isFeatured?o.push(e):e.isCustom?n.push(e):i.push(e)})),{featuredGroups:o,recommendedGroups:i,customGroups:n}):{featuredGroups:o,customGroups:n,recommendedGroups:i}})(I,v);return(0,_.jsx)(w,{isLoading:!S,onDismiss:()=>{e(),t({event_type:9863,component:14e3})},onSave:n=>{const i=new Set(v.filter((e=>!!e.featured_position)).map((({id:e})=>e))),l=new Set(n),a=new Set([...l.values()].filter((e=>!i.has(e)))),p=new Set([...i.values()].filter((e=>!l.has(e)))),y=[...a.values()].map((e=>s.ZP.create("FeaturedProductGroupsResource",{feedProfileId:h,productGroupId:e}).callCreate())),w=[...p.values()].map((e=>s.ZP.create("FeaturedProductGroupsResource",{feedProfileId:h,productGroupId:e}).callDelete())),E=`${d}/${u.toUpperCase()}`,j=new Set(g[E].featured_product_groups);p.forEach((e=>{j.delete(e)})),a.forEach((e=>{j.add(e)}));const T={...g,[E]:{...g[E]||{},featured_product_groups:[...j.values()]}},I=s.ZP.create("ApiResource",{url:`/v3/business/users/${m}/storefront/settings/`,data:{settings:JSON.stringify(T)}}).callUpdate();t({event_type:9862,component:14e3}),Promise.all([I,...y,...w]).then((()=>{e(),x((({hideToast:e})=>(0,_.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,_.jsx)(r.ZP,{duration:A.QE,onHide:e,text:c._('Product groups saved! Drag to reorder.', 'MerchantStorefront.ProductGroupControls.pgSaved', 'toast text')})}))),P.refresh(),b.refresh(),f(),o((0,C.a)((new Date).getTime()))})).catch((()=>{x((({hideToast:e})=>(0,_.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,_.jsx)(r.ZP,{duration:A.QE,onHide:e,variant:"error",text:c._('Failed to save or feature product groups. You can select up to 8 product groups to feature on your business profile.', 'MerchantStorefront.ProductGroupControls.error', 'toast text')})})))}))},featuredGroups:z,customGroups:k,recommendedGroups:D})}var S=o(826067),z=o(925927),k=o(296117);function D({bgColor:e}){const t=(0,i.useRef)(null),o=(0,z.TH)(),n="open"===(0,S.mB)(o.search).controls,[s,r]=(0,i.useState)(n),a=(0,l.ZP)();return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(u.xu,{ref:t,children:(0,_.jsx)(k.Z,{accessibilityLabel:a._('Product group controls button', 'Profile.User.Button.Icon.Product.Group.Controls', 'Icon for product group control on merchant profile'),bgColor:e,icon:"add",onClick:()=>r(!s),selected:s,size:"lg"})}),s&&(0,_.jsx)(I,{onDismiss:()=>r(!1)})]})}var R=o(704115),O=o(57636),L=o(564194),F=o(870592),M=o(409401);function B(e){const{children:t,footer:o,title:n,dataTestId:i}=e;return(0,_.jsxs)(u.xu,{marginBottom:10,paddingX:4,"data-test-id":i,children:[n&&(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.X6,{size:"500",children:n})}),t,o]})}var N=o(149230);function U({onClick:e,text:t,url:o}){const n=(0,N.Z)({url:o})?"nofollow":"none";return(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.zx,{role:"link",href:o,rel:n,onClick:e,size:"lg",text:t})})}var Z=o(623314);function G({bubble:e,slotIndex:t,storyId:o,viewParameter:n,source:s,title:r}){const{logContextEvent:l}=(0,y.v)();(0,i.useEffect)((()=>{F.Z.StructuredFeed.Categories.viewCategory({id:o,source:s,title:r},l)}),[]);return(0,_.jsx)(O.Z,{bubble:e,height:118,onClick:()=>F.Z.StructuredFeed.Categories.tapCategory({id:o,source:s,title:r},l),referringSource:"merchantStorefront",slotIndex:t,storyId:o,viewParameter:n,viewType:4,width:Z.Ny})}function H(e){const{logContextEvent:t}=(0,y.v)(),{data:o,source:n,viewParameter:i}=e,{footer:s,id:r,items:l,title:a}=o,d=s&&(0,_.jsx)(L.Z,{contextLogData:{story_id:r,story_type:s.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,M.Z)(n),children:(0,_.jsx)(U,{onClick:()=>F.Z.StructuredFeed.Categories.tapSeeMoreCategories({id:r,source:n},t),text:s.text,url:(0,c.Z)(s.url,{source:n})})});return(0,_.jsx)(L.Z,{contextLogData:{story_id:r,story_type:"storefront_category_bubbles"},impressionType:"Story",viewParameter:3512,viewType:(0,M.Z)(n),children:(0,_.jsx)(B,{title:null==a?void 0:a.text,footer:d,dataTestId:"storefront-categories-module",children:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"center",paddingY:6,wrap:!0,children:l.map(((e,t)=>{var o;const s=(0,c.Z)((null===(o=e.action)||void 0===o?void 0:o.url)||"",{source:n}),r={...e,action:{...e.action,url:s}};return(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(G,{bubble:r,slotIndex:t,storyId:e.id,viewParameter:i,source:n,title:e.title.format})},e.id)}))})})})}var V=o(767449),W=o(623568),K=o(558774),$=o(890473);function Y(e){const{data:t,isOwnProfile:o,merchant:n,source:s,storefrontResource:r}=e,{footer:a,title:d}=t,h=(0,M.Z)(s),p=(0,l.ZP)(),{logContextEvent:m}=(0,y.v)();(0,i.useEffect)((()=>{F.Z.StructuredFeed.PinsFeed.viewPinsFeed({id:null==d?void 0:d.id,OwnerUserId:n.id,pinsFeedTitle:null==d?void 0:d.text,source:s},m)}),[]);const g=e=>{const t={...(0,$.Zs)(e),board_owner_id:n.id,pin_is_promoted:(0,W.jL)(e)},o=(0,$.Sn)(t)||{};F.Z.StructuredFeed.PinsFeed.tapPin({commerceData:o,source:s},m)},f=a&&(0,_.jsx)(U,{text:a.text,url:(0,c.Z)(a.url,{storefront:1})}),x=d&&(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(L.Z,{impressionType:"Story",viewType:h,viewParameter:3512,contextLogData:{story_id:d.id,story_type:"storefront_header"},children:(0,_.jsx)(u.xu,{children:d.text})}),d.allProductLink&&(0,_.jsx)(u.xu,{position:"absolute",paddingX:4,right:!0,children:(0,_.jsx)(u.zx,{accessibilityLabel:p._('Button to view all the merchant\'s products', 'MerchantStorefront.structuredFeed.shopAllProducts.accessibilityLabel', 'The accessibility label for the button to show the merchant "All Products" pins'),size:"lg",text:p._('Shop all products', 'MerchantStorefront.structuredFeed.shopAllProducts.text', 'Button to open a view with all the merchant\'s product pins'),role:"link",href:d.allProductLink||"",color:"transparent"})})]});return(0,_.jsx)(B,{title:x,footer:f,dataTestId:"storefront-pins-module",children:(0,_.jsx)(K.QI,{renderPin:({data:e,itemIdx:t})=>(0,_.jsx)(V.Z,{componentType:null,merchant:n,onClick:g,pin:e,slotIndex:t,surface:"pdp"===s?"ShoppingSquareGridStorefrontDomain":"ShoppingSquareGridStorefront",viewParameter:3512,viewType:h}),isGridCentered:!0,isOverview:!1,isOwnProfile:o,layout:"basicCentered",onClick:g,pins:r,surface:"ShoppingGridShippedMetadata",user:n,username:n.username})})}var q=o(319915),X=o(6405),Q=o(207112);function J({children:e,onClick:t,productGroup:o,showControls:n,url:s,width:r}){const a=(0,l.ZP)(),c=(0,N.Z)({url:s})?"nofollow":"none",d=a._('Edit product group display', 'ProductGroup.editTooltip', 'Tooltip text for the edit product group button'),[h,p]=(0,i.useState)();return(0,_.jsxs)(u.Zb,{children:[(0,_.jsxs)(u.xu,{position:"relative",children:[(0,_.jsx)(u.iP,{role:"link",rel:c,onTap:t,href:s,children:(0,_.jsxs)(u.xu,{"data-test-id":`productGroup-${o.name}`,width:r,children:[(0,_.jsx)(u.xu,{position:"relative",children:e}),(0,_.jsx)(u.xu,{display:"flex",alignItems:"end",paddingY:1,children:(0,_.jsx)(u.xu,{padding:2,flex:"grow",overflow:"hidden",children:(0,_.jsx)(u.X6,{size:"400",children:(0,_.jsx)(Q.Z,{maxHeightPx:70,children:o.name})})})})]})}),n&&(0,_.jsx)(u.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,_.jsx)(u.u,{text:d,idealDirection:"down",children:(0,_.jsx)(u.hU,{accessibilityLabel:d,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>p(!0),size:"lg"})})})]}),n&&h&&(0,_.jsx)(q.Z,{name:"ProductGroupDetailsModal",children:(0,_.jsx)(X.Z,{onDismiss:()=>p(!1),onSubmit:()=>p(!1),productGroup:o})})]})}var ee=o(621936),te=o(816661);function oe({onClick:e,productGroup:t,showControls:o,url:n}){return(0,_.jsx)(J,{onClick:e,productGroup:t,url:n,width:320,showControls:o,children:(0,_.jsx)(ee.Z,{height:213,numCols:te.X,pins:t.preview_pins,rounding:4,width:320})})}var ne=o(732699),ie=o(487392),se=o(784590),re=o(179213),le=o(281615),ae=o(217468),ce=o(283040),de=o(839045);const ue={previewIndex:-1,sourceIndex:-1,target:null};function _e({merchantName:e,productGroup:t,showControls:o,source:n,isControlsExpEnabled:s}){const{logContextEvent:r}=(0,y.v)();(0,i.useEffect)((()=>{F.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:t.id,source:n},r)}),[]);const l=()=>F.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:t.id,source:n},r);return s?(0,_.jsx)(ne.Z,{onClick:l,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`}):(0,_.jsx)(oe,{onClick:l,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`})}const he=(0,re.Z)(ce.y.Section)((function(e){const{logContextEvent:t}=(0,y.v)(),{data:o,merchantName:r,source:l,storefrontResource:a}=e,{footer:d,items:h,title:p}=o,[m,g]=(0,i.useState)(ue),f=h.reduce(((e,t)=>({...e,[t.id]:t})),{}),[x,b]=(0,i.useState)(h.map((e=>e.id)));(0,i.useEffect)((()=>{b(h.map((e=>e.id)))}),[h]);const{ownerUserId:v}=(0,ie.Z)(),P=(0,se.Z)({name:"ApiResource",options:{url:`/v3/business/users/${v}/storefront/settings/`}}),{country:w,language:C}=(0,n.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),j=(0,se.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:T,locale:I}=j.data||{},S=`${w||T}/${(C||(0,A.Md)(I)).toUpperCase()}`,z=d&&(0,_.jsx)(L.Z,{contextLogData:{story_id:d.id,story_type:d.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,M.Z)(l),children:(0,_.jsx)(U,{onClick:()=>F.Z.StructuredFeed.ProductGroups.tapSeeMoreProductGroups({id:d.id,source:l},t),text:d.text,url:(0,c.Z)(d.url,{source:l})})});function k(e){g({previewIndex:e,sourceIndex:e,target:null})}function D(e){const o=m&&m.target;if(!e||!m||!o||o.index===m.sourceIndex){g(ue);const e=[...h];if(P.data&&P.data[S].featured_product_groups){const t=P.data[S].featured_product_groups;e.sort(((e,o)=>{const n=t.indexOf(e.id),i=t.indexOf(o.id);return n===i?0:o.group_type===A.yh||-1===n?1:e.group_type===A.yh||-1===i?-1:n-i}))}return void b(e.map((e=>e.id)))}const{previewIndex:n}=m,{index:i}=o;g(ue);const r=(0,le.zX)(x,n,i),l=new Set(P.data?P.data[S].featured_product_groups:[]),c={...P.data,[S]:{...P.data&&P.data[S]||{},featured_product_groups:r.concat([...l])}};s.ZP.create("ApiResource",{url:`/v3/business/users/${v}/storefront/settings/`,data:{settings:JSON.stringify(c)}}).callUpdate().then((()=>{P.refresh(),a.refresh()})),t({event_type:9869,component:14004})}function R(e,t){const o={itemIndex:e,regionWithinItem:(0,de.TI)({hoverRelativePosition:t,centerEnabled:e!==m.previewIndex})},n={index:(0,de.X3)({hoverLocation:o,sourceIndex:m.previewIndex})};n.index!==m.previewIndex?(g({...m,target:n,previewIndex:n.index}),b((0,le.zX)(x,m.previewIndex,n.index))):m.target&&m.target.index!==n.index&&g({...m,target:n})}const O=(0,E.N0)(),N=(0,ae.tc)("web_merchant_success_storefront_controls")().anyEnabled,Z=(0,ae.tc)("web_merchant_storefront_controls_international")().anyEnabled,G=N||Z;return(0,_.jsx)(B,{title:null==p?void 0:p.text,footer:z,dataTestId:"storefront-product-groups-module",children:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"center",marginBottom:8,wrap:!0,children:x.map((e=>f[e])).map(((e,t)=>e&&(0,_.jsx)(u.xu,{padding:2,children:O&&e.group_type!==A.yh?(0,_.jsx)(ce.Z,{index:t,onDragBegin:k,onDragEnd:D,onDragHover:R,type:ce.y.Section,children:(0,_.jsx)(_e,{merchantName:r,productGroup:e,showControls:O,source:l,isControlsExpEnabled:G})}):(0,_.jsx)(_e,{merchantName:r,productGroup:e,showControls:O,source:l,isControlsExpEnabled:G})},e.id)))})})}));var pe=o(587941);const me=(e,t)=>({ms:e._('Malay', 'merchantStorefront.hiddenShopBanner.language.Malay', 'The language name of the language code ms'),ru:e._('Russian', 'merchantStorefront.hiddenShopBanner.language.Russian', 'The language name of the language code ru'),en:e._('English', 'merchantStorefront.hiddenShopBanner.language.English', 'The language name of the language code en'),cs:e._('Czech', 'merchantStorefront.hiddenShopBanner.language.Czech', 'The language name of the language code cs'),nb:e._('Norwegian', 'merchantStorefront.hiddenShopBanner.language.Norwegian', 'The language name of the language code nb'),el:e._('Greek', 'merchantStorefront.hiddenShopBanner.language.Greek', 'The language name of the language code el'),pt:e._('Portuguese', 'merchantStorefront.hiddenShopBanner.language.Portuguese', 'The language name of the language code pt'),tr:e._('Turkish', 'merchantStorefront.hiddenShopBanner.language.Turkish', 'The language name of the language code tr'),te:e._('Telugu', 'merchantStorefront.hiddenShopBanner.language.Telugu', 'The language name of the language code te'),hi:e._('Hindi', 'merchantStorefront.hiddenShopBanner.language.Hindi', 'The language name of the language code hi'),zh:e._('Chinese', 'merchantStorefront.hiddenShopBanner.language.Chinese', 'The language name of the language code zh'),es:e._('Spanish', 'merchantStorefront.hiddenShopBanner.language.Spanish', 'The language name of the language code es'),hu:e._('Hungarian', 'merchantStorefront.hiddenShopBanner.language.Hungarian', 'The language name of the language code hu'),sk:e._('Slovak', 'merchantStorefront.hiddenShopBanner.language.Slovak', 'The language name of the language code sk'),fr:e._('French', 'merchantStorefront.hiddenShopBanner.language.French', 'The language name of the language code fr'),da:e._('Danish', 'merchantStorefront.hiddenShopBanner.language.Danish', 'The language name of the language code da'),ko:e._('Korean', 'merchantStorefront.hiddenShopBanner.language.Korean', 'The language name of the language code ko'),uk:e._('Ukrainian', 'merchantStorefront.hiddenShopBanner.language.Ukrainian', 'The language name of the language code uk'),fi:e._('Finnish', 'merchantStorefront.hiddenShopBanner.language.Finnish', 'The language name of the language code fi'),nl:e._('Dutch', 'merchantStorefront.hiddenShopBanner.language.Dutch', 'The language name of the language code nl'),de:e._('German', 'merchantStorefront.hiddenShopBanner.language.German', 'The language name of the language code de'),tl:e._('Tagalog', 'merchantStorefront.hiddenShopBanner.language.Tagalog', 'The language name of the language code tl'),pl:e._('Polish', 'merchantStorefront.hiddenShopBanner.language.Polish', 'The language name of the language code pl'),ro:e._('Romanian', 'merchantStorefront.hiddenShopBanner.language.Romanian', 'The language name of the language code ro'),ja:e._('Japanese', 'merchantStorefront.hiddenShopBanner.language.Japanese', 'The language name of the language code ja'),ar:e._('Arabic', 'merchantStorefront.hiddenShopBanner.language.Arabic', 'The language name of the language code ar'),bn:e._('Bangla', 'merchantStorefront.hiddenShopBanner.language.Bangla', 'The language name of the language code bn'),it:e._('Italian', 'merchantStorefront.hiddenShopBanner.language.Italian', 'The language name of the language code it'),id:e._('Indonesian', 'merchantStorefront.hiddenShopBanner.language.Indonesian', 'The language name of the language code id'),sv:e._('Swedish', 'merchantStorefront.hiddenShopBanner.language.Swedish', 'The language name of the language code sv'),vi:e._('Vietnamese', 'merchantStorefront.hiddenShopBanner.language.Vietnamese', 'The language name of the language code vi'),th:e._('Thai', 'merchantStorefront.hiddenShopBanner.language.Thai', 'The language name of the language code th')}[t]),ge=()=>{const e=(0,l.ZP)(),t=(0,n.useDispatch)(),[o,s]=(0,i.useState)(!1),{countries:r,feedProfiles:a,settings:c,userId:d,refresh:h}=(0,E.LO)(),{country:p,language:m}=(0,n.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),g=()=>{s(!0)};return!(0,A.c8)(c[[p||"",m||""].join("/").toUpperCase()])?(0,_.jsxs)(u.xu,{marginBottom:8,paddingX:8,width:"100%",display:"flex",justifyContent:"center",children:[(0,_.jsxs)(u.xu,{minHeight:134,paddingY:4,width:1496,dangerouslySetInlineStyle:{__style:{backgroundColor:"#FDF5EC"}},rounding:4,display:"flex",children:[(0,_.jsx)(u.xu,{height:"100%",marginStart:8,marginEnd:6,display:"flex",alignItems:"center",children:(0,_.jsx)(u.JO,{icon:"workflow-status-warning",accessibilityLabel:e._('Warning icon', 'merchantStorefront.hiddenShopBanner.warningIcon.accessibilityLabel', 'The accessibility label for the warning icon of the merchant storefront hidden shop banner'),color:"warning",size:32})}),(0,_.jsxs)(u.xu,{height:"100%",marginEnd:6,display:"flex",direction:"column",alignItems:"start",justifyContent:"center",maxWidth:1124,children:[(0,_.jsx)(u.xu,{marginBottom:2,children:(0,_.jsx)(u.X6,{size:"400",children:e._('Your shop is hidden in this region/language', 'merchantStorefront.hiddenShopBanner.heading', 'The heading of the merchant storefront hidden shop banner')})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.xv,{size:"300",children:(0,b.nk)(e._('{{ language }} speaking people in the {{ country }} can\'t see your shop. You can preview the shop, but people in this region/language won\u2019t see it until you make the shop visible.', 'merchantStorefront.hiddenShopBanner.text', 'The body text of the merchant storefront hidden shop banner'),{language:me(e,m),country:r[p]})})})]}),(0,_.jsx)(u.xu,{height:"100%",marginEnd:12,display:"flex",alignItems:"center",children:(0,_.jsx)(u.zx,{accessibilityLabel:e._('Manage shop visibility button', 'merchantStorefront.hiddenShopBanner.button.accessibilityLabel', 'The accessibilityLabel of the merchant storefront hidden shop banner button'),size:"lg",text:e._('Manage shop visibility', 'merchantStorefront.hiddenShopBanner.button.text', 'The text of the merchant storefront hidden shop banner button'),color:"white",onClick:g})})]}),o&&(0,_.jsx)(pe.Z,{countries:r,feedProfiles:a,onDismiss:()=>s(!1),onSubmit:()=>{h(),t((0,C.a)((new Date).getTime()))},onUndo:g,settings:c,userId:d})]}):null};var fe=o(430323),xe=o(19121);const be=function({merchant:e,source:t,storefrontData:o,storefrontResource:n}){const{explorearticle:s,pin:r,productgroup:l}=o,{id:a,username:c}=e,{logContextEvent:d}=(0,y.v)();(0,i.useEffect)((()=>{F.Z.StructuredFeed.viewStructuredFeed({merchantId:a,source:t},d)}),[]);const u=(0,xe.Z)(),h=u.isAuth&&u.username===c,p=h?3106:3107,m=!u.isLimitedLogin&&l&&(0,_.jsx)(he,{data:l,merchantName:c,source:t,storefrontResource:n},"productGroupsModule"),g=s&&(0,_.jsx)(H,{data:s,source:t,viewParameter:p},"categoriesModule"),f=r&&(0,_.jsx)(Y,{data:r,isOwnProfile:h,merchant:e,source:t,storefrontResource:n},"pinsModule"),x=[m,g];x["pdp"===t?"unshift":"push"](f);const b=(0,E.t8)();return(0,_.jsx)(fe.Z,{component:237,view:4,viewParameter:p,children:(0,_.jsxs)(i.Fragment,{children:[b&&(0,_.jsx)(ge,{}),x]})})};function ye(e){return e.type===Z.sy.story&&e.story_type===Z.sy.header}function ve(e){return e.type===Z.sy.story&&Z.sy.footers.includes(e.story_type)}const Pe=function(e){const t=[];for(const o of e)o.type===Z.sy.story&&[Z.sy.header,Z.sy.bubblesStory].includes(o.story_type)||!t.length?t.push([o]):t[t.length-1].push(o);return t.map((e=>{let t;const o=e.find(ve);let n;o&&(t={id:o.id,story_type:o.story_type,text:o.button_text.format,url:o.action.url});const i=e.find(ye);var s;i&&(n={id:i.id,text:i.title.format,allProductLink:null===(s=i.action)||void 0===s?void 0:s.url});let r,l=e.filter((e=>!ye(e)&&!ve(e)));const a=e.find((e=>e.type===Z.sy.story&&e.story_type===Z.sy.bubblesStory));return a&&(n={text:a.title.format},l=l[0].objects,r=a.id),{footer:t,title:n,id:r,items:l,label:l[0].type}})).reduce(((e,t)=>{const{footer:o,title:n,id:i,items:s,label:r}=t;return{...e,[r]:{footer:o,id:i,title:n,items:s}}}),{})};var we=o(767790),Ae=o(953192);function Ce(){return(0,E.tt)(),null}function Ee({country:e,language:t,lastUpdated:o}){const{search:n}=(0,z.TH)(),{params:{username:i}}=(0,z.$B)(),s=(0,ae.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:r,group:l}=s({dangerouslySkipActivation:!0});l.includes("pwt")||s();const{data:a}=(0,we.Z)();(0,Ae.G)(i,3313);const{pin:c,search_query:d,source:h}=(0,R.Z)(n),m=(0,E.N0)(),g=(0,E.t8)(),f=g?{country:e,language:t}:{},x=(0,se.Z)({name:"StoreFrontFeedResource",options:{field_set_key:r?"shopping_grid_item":"grid_item",pin:c,search_query:d,shop_source:c?"product_detail_page":null,source:h,userId:a?a.id:void 0,username:i,last_updated:o,...f}}),{data:b}=x;return a?(0,_.jsxs)(u.xu,{children:[(0,_.jsxs)(u.kC,{alignItems:"stretch",direction:"row",justifyContent:"between",children:[(0,_.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:m&&(0,_.jsx)(p.Z,{})}),(0,_.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:g&&(0,_.jsx)(D,{})})]}),b?(0,_.jsx)(be,{merchant:a,source:c?"pdp":"profile",storefrontData:Pe(b),storefrontResource:x}):null,g&&(0,_.jsx)(Ce,{})]}):null}function je(){const{country:e,language:t}=(0,n.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),o=(0,n.useSelector)((({storefrontSettings:e})=>e.lastUpdated));return(0,_.jsx)(Ee,{country:e,language:t,lastUpdated:o})}const Te=()=>{const{params:{username:e}}=(0,z.$B)(),{data:t}=(0,we.Z)();return(0,Ae.S)(e,t?t.id:null,13670),null!=t&&t.has_catalog?(0,_.jsx)(je,{}):null}},117855:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var n=o(430323),i=o(883119),s=o(558774),r=o(785893);const l=function(e){const{isOwnProfile:t,user:o}=e,{username:l}=o,a=t?3106:3107;return(0,r.jsx)(n.Z,{view:4,viewParameter:a,component:13322,children:(0,r.jsx)(i.xu,{children:(0,r.jsx)(s.pP,{isOwnProfile:t,user:o,username:l})})})};var a=o(767790),c=o(19121),d=o(953192),u=o(925927);function _(e){const t=(0,u.$B)(),o=(0,c.Z)(),n=(0,a.Z)();(0,d.G)(t.params.username,3240);const i=o.isAuth&&o.username===t.params.username;return n&&n.data?(0,r.jsx)(l,{isOwnProfile:i,user:n.data}):null}},627658:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(784590),i=o(19121),s=o(883119),r=o(925927),l=o(81636),a=o(441553),c=o(785893);function d(e){const t=(0,r.$B)(),o=(0,n.Z)({name:"UserResource",options:{username:t.params.username}}),d=(0,i.Z)();if((0,l.Q)({view_type:4,view_parameter:51}),!o.isLoaded||!o.data)return(0,c.jsx)(s.$j,{accessibilityLabel:"Page loading...",show:!0});const{data:u}=o;return d.id===u.id?(0,c.jsx)(a.cs,{user:u}):(0,c.jsx)(a.ZP,{user:u})}},375553:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var n=o(430323),i=o(558774),s=o(785893);const r=function(e){const{isOwnProfile:t,user:o}=e,r=t?3106:3107;return(0,s.jsx)(n.Z,{view:4,viewParameter:r,component:13364,children:(0,s.jsx)(i.Ol,{isOwnProfile:t,user:o,username:o.username})})};var l=o(767790),a=o(19121),c=o(953192),d=o(925927);function u(e){const t=(0,d.$B)(),o=(0,l.Z)(),n=(0,a.Z)();(0,c.G)(t.params.username,3272);const i=n.isAuth&&n.username===t.params.username;return o&&o.data?(0,s.jsx)(r,{isOwnProfile:i,user:o.data}):null}},541044:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(121151),i=o(966113),s=o(898781),r=o(349700),l=o(883119),a=o(785893);const c=i.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function d({firstName:e,onBlockUser:t,onClearModal:o}){const i=(0,s.ZP)(),d=(0,r.nk)(i._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join("");return(0,a.jsxs)(n.ZP,{accessibilityModalLabel:d,onDismiss:o,heading:d,footer:(0,a.jsxs)(l.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",text:i._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:o})}),(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",color:"red",text:i._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,a.jsx)(l.xu,{padding:4,"data-test-id":"block-text",children:(0,a.jsx)(l.xv,{children:(0,r.nk)(i._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e})})}),(0,a.jsx)(l.xu,{padding:4,children:(0,a.jsx)(l.xv,{color:"default",weight:"bold",children:(0,a.jsx)(l.rU,{target:"blank",href:c,children:i._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]})}},558774:(e,t,o)=>{o.d(t,{Ol:()=>w,QI:()=>v,ZP:()=>A,pP:()=>P});var n=o(667294),i=o(164066),s=o(252867),r=o(858388),l=o(288494),a=o(430323),c=o(784590),d=o(19121),u=o(444445),_=o(623568),h=o(232843),p=o(396704),m=o(898781),g=o(330899),f=o(883119),x=o(785893);function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class y extends n.Component{constructor(...e){super(...e),b(this,"masonryRef",{current:null}),b(this,"renderPin",(({data:e,itemIdx:t})=>{const{componentType:o,isOwnProfile:n,onClick:i,surface:r,user:l,viewParameter:a,viewType:c}=this.props;switch(e.type){case"module":return e.name===p.o?(0,x.jsx)(p.Z,{}):null;case"pin":default:const d=n?3106:3107;return(0,x.jsx)(f.iP,{onTap:()=>i&&i(e),children:(0,x.jsx)(s.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:null!=r?r:"UserProfilePinGrid",trackingParameters:{contextLogData:{commerce_data:{board_owner_id:null==l?void 0:l.id,pin_is_promoted:(0,_.jL)(e)}},componentType:void 0===o?237:o,slotIndex:t,viewParameter:a||d,viewType:c||4}})})}}))}componentDidUpdate(e){this.props.profilePinView!==e.profilePinView&&this.masonryRef.current&&this.masonryRef.current.reflow()}render(){var e;const{emptyState:t,isGridCentered:o,isOverview:n,isOwnProfile:s,layout:c,limit:d,nativePins:_,onload:p,pins:m,profilePinView:g,scrollContainer:b,showNativePins:y,surface:v,user:P,username:w,renderPin:A}=this.props,{fetchMore:C,isAtEnd:E,isFetching:j,isLoaded:T}=m,I=(null!==(e=m.data)&&void 0!==e?e:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(T&&p&&p(I?I.length:0),T&&_&&!s&&(!I||!I.length))return null;let S,z;d||n?(S="gridCentered",z={marginTop:12}):o&&(y&&_||!y)?(S="gridCentered",z={marginTop:24}):o&&(S="gridCentered");let k=_?`${w}:pins`:`${w}:pins:native`;k=g?`${k}:${g}`:void 0;const D=s?3106:3107,R=d?()=>{}:C,O="OtherProfilePinGrid"===v||"dense"===g?2/3*u.xf:u.xf,L="OtherProfilePinGrid"===v||"dense"===g?2/3*16:16,F=A||this.renderPin,M=n?(0,x.jsx)(i.default,{cacheKey:k,columnWidth:O,comp:F,gutterWidth:L,isAtEnd:E,isFetching:j,isGridCentered:o,isLoaded:T,items:I,layout:c,loadItems:R,masonryRef:this.masonryRef,paddingStyle:"dense",scrollContainer:b,serverRender:!1}):(0,x.jsx)(i.default,{cacheKey:k,columnWidth:O,comp:F,gutterWidth:L,isAtEnd:E,isFetching:j,isGridCentered:o,isLoaded:T,items:I,layout:c,loadItems:C,masonryRef:this.masonryRef,scrollContainer:b,virtualize:!0}),B=t||(0,x.jsx)(r.Z,{marginTop:s?0:5,textSize:s?"sm":"md",children:(0,x.jsx)(l.Z,{subject:"pins",surface:"profile",user:P})});return(0,x.jsx)(a.Z,{component:210,view:4,viewParameter:D,children:(0,x.jsx)(h.H,{value:{onPinCreate:()=>{this.props.pins.refresh()},onPinDelete:()=>{this.props.pins.refresh()}},children:(0,x.jsxs)("div",{className:S,style:z,children:[T&&(I&&0!==I.length?null:B),T&&I?(0,x.jsx)(f.xu,{"data-test-id":"user-profile-pin-grid",children:M}):null,j&&(0,x.jsx)(f.xu,{paddingY:3,position:"relative",children:(0,x.jsx)(f.$j,{accessibilityLabel:this.props.i18n._('Loading Pins on profile', ' - ', ' -- '),show:y&&_||!y})})]})})})}}function v(e){var t,o;const n=(0,m.ZP)(),i=null!==(t=null===(o=(0,g.x)())||void 0===o?void 0:o.profilePinDensity)&&void 0!==t?t:"";return(0,x.jsx)(y,{...e,i18n:n,profilePinView:i})}function P(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{exclude_add_pin_rep:!0,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(v,{...e,pins:o})}function w(e){var t;const o=(0,d.Z)(),n=(0,c.Z)({name:"UserVideoPinsFeedResource",options:{exclude_add_pin_rep:!0,username:null===(t=e.user)||void 0===t?void 0:t.username,field_set_key:o.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(v,{...e,pins:n})}function A(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserPinsResource",options:{is_own_profile_pins:e.isOwnProfile,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}});return(0,x.jsx)(v,{...e,pins:o})}b(y,"defaultProps",{isGridCentered:!0})},67973:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(667294),i=o(725053),s=o(430323),r=o(784590),l=o(19121),a=o(558774),c=o(785893);function d({isOwnProfile:e,user:t}){const o=(0,l.Z)(),n=(0,r.Z)({name:"BusinessProfileUserPinsResource",options:{exclude_add_pin_rep:!0,username:t.username,is_own_profile_pins:e,user_id:t.id,field_set_key:o.isPartner&&e?"partner_grid_item":"grid_item"}});return!n.isLoaded||n.data&&0!==n.data.length?(0,c.jsx)(s.Z,{view:4,viewParameter:e?3106:3107,component:210,children:(0,c.jsx)(a.QI,{isOverview:!1,isOwnProfile:e,pins:n,showNativePins:!0,user:t,username:t.username})}):(0,c.jsx)(i.Z,{fullName:t.full_name,isOwnProfile:e,isPartnerProfile:!0})}var u=o(883119);const _=e=>{const{label:t,sublabel:o}=e;return(0,c.jsx)(u.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:(0,c.jsxs)(u.xu,{children:[(0,c.jsx)(u.X6,{size:"400",children:t}),(0,c.jsx)(u.xu,{marginTop:1,children:(0,c.jsx)(u.xv,{children:o})})]})})};var h=o(898781),p=o(767790),m=o(184451),g=o(349700),f=o(953192),x=o(281180),b=o(925927);function y(e){var t,o,s,r;const y=(0,h.ZP)(),v=(0,l.Z)(),P=(0,b.$B)(),w=(0,p.Z)();(0,f.G)(P.params.username,74);const{users:A}=(0,x.kW)(),C=v.isAuth?A[v.id]:void 0,E=null!==(t=null==C?void 0:C.scheduled_pin_count)&&void 0!==t?t:null;if(!w.data)return null;const j=v.isAuth&&v.username===P.params.username,T=null!==(o=w.data)&&void 0!==o?o:{},I=E||T.scheduled_pin_count||0,S=j&&v.isPartner&&I>0,z=T.show_creator_profile&&v.isAuth;return(0,c.jsxs)(n.Fragment,{children:[S&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(m.Z,{username:null!==(s=P.params.username)&&void 0!==s?s:""}),(0,c.jsx)(u.W2,{children:(0,c.jsx)(_,{label:y._('Published Pins', 'title for published Pins', 'title for published Pins'),sublabel:(0,g.nk)(y.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null !== (r = T.pin_count) && void 0 !== r ? r : 0, 'Label for the number of pins a user has', 'Label for the number of pins a user has'),{pinCount:T.pin_count})})})]}),z?(0,c.jsx)(d,{isOwnProfile:j,user:T}):(0,c.jsx)(a.ZP,{emptyState:(0,c.jsx)(i.Z,{fullName:T.full_name,isOwnProfile:j}),isOwnProfile:j,showNativePins:!0,user:T,username:P.params.username||""})]})}},587941:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(150361),s=o.n(i),r=o(121151),l=o(6637),a=o(499128),c=o(898781),d=o(91214),u=o(934523),_=o(349700),h=o(407043),p=o(343341),m=o(198938),g=o(883119),f=o(785893);const x=new g.H3([new g.Ry(d.HW),new g.Ry(u.fe)]);function b({countries:e,feedProfiles:t,onDismiss:o,onSubmit:i,onUndo:d,settings:u,userId:b}){const{logContextEvent:y}=(0,h.v)(),v=(0,c.ZP)(),P=v._('Manage shop visibility', 'MerchantStorefront.ManageShopVisibilityModal.heading', 'Modal title'),w=v._('People on Pinterest in the selected regions/languages below can see your shop tab. These regions and languages are based on your active catalog feeds. To hide your shop in any region/language, deselect it and save your changes. ', 'MerchantStorefront.ManageShopVisibilityModal.subHeading', 'Modal subtitle'),A=v._('Cancel', 'MerchantStorefront.ManageShopVisibilityModal.cancel', 'Confirmation option'),{showOneToast:C}=(0,p.F9)(),[E,j]=(0,n.useState)(s()(u)),[T,I]=(0,n.useState)(!1),S=[...t].sort(((t,o)=>{const n=(0,m.LT)(e,(0,m.u3)(t)),i=(0,m.LT)(e,(0,m.u3)(o));return n.localeCompare(i)})),z=t.map(m.u3),k=(0,m.Q1)(u,t),D=(0,m.Q1)(E,t),R=D.map((t=>(0,m.LT)(e,t)));R.sort();const O=k.length!==D.length||D.reduce(((e,t)=>e||!k.includes(t)),!1);(0,n.useEffect)((()=>{y({event_type:9858,component:13999})}),[y]);const L=(0,_.Wc)(v.ngettext('Hide shop in {{count}} region/language?', 'Hide shop in {{count}} regions/languages?', D.length, 'MerchantStorefront.ManageShopVisibilityModal.confirmHeading', 'Header to confirm hiding'),{count:D.length.toString()}),F=1===D.length?(0,_.Wc)(v._('Hide shop in {{country}}?', 'MerchantStorefront.ManageShopVisibilityModal.confirmHeadingCountry', 'Header to confirm hiding'),{country:(0,m.LT)(e,D[0])}):"",M=D.length>1?L:F,B=()=>{o(),y({event_type:9860,component:13999})},N=()=>{o(),l.ZP.create("ApiResource",{url:`/v3/business/users/${b}/storefront/settings/`,data:{settings:JSON.stringify(E)}}).callUpdate().then((()=>{i(),y({event_type:9859,component:13999}),C((({hideToast:e})=>(0,f.jsx)("div",{className:"ShopVisibleToast",children:(0,f.jsx)(a.ZP,{duration:m.QE,onHide:e,text:(0,f.jsx)(n.Fragment,{children:(0,f.jsxs)(g.xv,{children:[0===D.length&&v._('Shop visible in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.visibleEverywhere', 'toast text'),D.length>0&&D.length<z.length&&(0,_.Wc)(v.ngettext('Shop hidden in {{count}} region/language', 'Shop hidden in {{count}} regions/languages', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenSomewhere', 'toast text'),{count:D.length.toString()}),D.length===z.length&&v._('Shop hidden in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.hiddenEverywhere', 'toast text')]})}),button:(0,f.jsx)(g.zx,{text:v._('Undo', 'MerchantStorefront.ManageShopVisibilityModal.undoToast', 'Undo button in toast'),size:"lg",onClick:()=>{d(),e()}},"undo-button")})})))}))},U=D.length>1?(0,_.Wc)(v._('{{item1}} and {{item2}}', 'MerchantStorefront.ManageShopVisibilityModal.andItems', 'And joining two geographic locations'),{item1:R.slice(0,-1).join(", "),item2:R[R.length-1]}):R.join();return(0,f.jsx)(g.mh,{zIndex:x,children:T?(0,f.jsx)(r.ZP,{accessibilityModalLabel:M,align:"center",heading:M,onDismiss:B,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:()=>I(!1)}),(0,f.jsx)(g.zx,{color:"red",text:v._('Hide shop', 'MerchantStorefront.ManageShopVisibilityModal.hideShop', 'Confirmation option'),onClick:N})]}),size:"sm",children:(0,f.jsx)(g.xu,{paddingX:8,children:(0,f.jsx)(g.xv,{size:"300",align:"center",children:(0,_.Wc)(v.ngettext('People in {{region}} won\'t see your shop tab. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', 'People in the following regions won\'t see your shop tab: {{regions}}. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenRegions.bodyText', 'Message describing what regions the user is about to hide their store from'),{region:U,regions:U})})})}):(0,f.jsxs)(r.ZP,{accessibilityModalLabel:P,align:"start",heading:P,onDismiss:B,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:B}),(0,f.jsx)(g.zx,{color:"red",text:v._('Save', 'MerchantStorefront.ManageShopVisibilityModal.save', 'Confirmation option'),onClick:()=>{D.length>0?I(!0):N()},disabled:!O})]}),size:"sm",children:[(0,f.jsx)(g.xu,{paddingX:8,marginBottom:8,children:(0,f.jsx)(g.xv,{size:"300",children:w})}),(0,f.jsx)(g.xu,{paddingX:8,children:S.map((t=>(0,f.jsx)(g.xu,{marginBottom:8,children:(0,f.jsx)(g.XZ,{checked:(0,m.c8)(E[(0,m.u3)(t)]),id:`country_language_${t.id||""}`,label:(0,m.LT)(e,(0,m.u3)(t)),name:"country_language",onChange:({checked:e})=>j({...E,[(0,m.u3)(t)]:{...E[(0,m.u3)(t)]||{},shop_visible:e}})})},t.id)))})]})})}},970977:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({avatarUrl:e,contentsRight:t,merchantName:o,text:r,username:l,accessibilityLevel:a}){return(0,s.jsxs)(i.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,s.jsx)(i.xu,{column:2}),(0,s.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,s.jsx)(i.xu,{marginEnd:2,children:(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${l}`,children:(0,s.jsx)(n.Z,{name:o,size:"md",src:e})})}),(0,s.jsx)(i.rU,{underline:"none",href:`/${l}`,children:(0,s.jsx)(i.X6,{size:"500",accessibilityLevel:a,children:r})})]}),(0,s.jsx)(i.xu,{column:2,display:"flex",alignItems:"center",justifyContent:"end",children:t})]})}},6405:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(966338),s=o(121151),r=o(6637),l=o(499128),a=o(487392),c=o(898781),d=o(784590),u=o(19121),_=o(808683),h=o(91214),p=o(934523),m=o(349700),g=o(262534),f=o(407043),x=o(343341),b=o(198938),y=o(883119),v=o(400264),P=o(785893);const w=new y.H3([new y.Ry(h.HW),new y.Ry(p.fe)]),A=316;function C({onFileUpload:e}){const t=(0,c.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,n.useRef)(null),r=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,P.jsxs)(y.kC,{justifyContent:"center",children:[(0,P.jsx)(y.hU,{accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>i((e=>!e)),ref:s,size:"lg"}),o&&(0,P.jsx)(y.Lt,{anchor:s.current,id:"product-group-image-dropdown",onDismiss:()=>i(!1),children:(0,P.jsx)(y.Lt.Item,{onSelect:()=>{i(!1),e()},option:{value:r,label:r}})})]})}function E({image:e,onFileUpload:t,onError:o}){const n=(0,c.ZP)(),i=n._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,P.jsxs)(y.xu,{position:"relative",children:[(0,P.jsx)(y.xu,{height:A,width:A,rounding:5,overflow:"hidden",children:(0,P.jsx)(y.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:o})}),(0,P.jsx)(y.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,P.jsx)(C,{onFileUpload:t})})]})}const j=e=>{var t;return null===(t=(null==e?void 0:e["488x488"])||(null==e?void 0:e.originals)||(null==e?void 0:e.orig)||(null==e?void 0:e[Object.keys(e)[0]]))||void 0===t?void 0:t.url};function T({onDismiss:e,onSubmit:t,productGroup:o}){var h,p,C;const{logContextEvent:T}=(0,f.v)(),I=(0,c.ZP)(),S=I._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),z=(0,u.Z)(),k=(0,i.useDispatch)(),D=`/v3/business/users/${z.id||""}/storefront/product_group_image/`,[R,O]=(0,n.useState)(""),[L,F]=(0,n.useState)(""),[M,B]=(0,n.useState)(),[N,U]=(0,n.useState)(),[Z,G]=(0,n.useState)(!1),[H,V]=(0,n.useState)(0),[W]=(0,n.useState)((new Date).getTime()),K=o.group_type!==b.yh,{merchantId:$,advertiserId:Y}=(0,a.Z)(),{showOneToast:q}=(0,x.F9)(),X=(0,v.Ib)({advertiserId:Y,merchantId:$,productGroupsIds:[o.id],uniq:W},!1,!0),Q=(0,d.Z)({name:"ApiResource",options:{url:D,data:{product_group_ids:[o.id]},uniq:W},noCache:!0}),J=(0,n.useRef)(),ee=Number(o.id),te=null===(h=X.data)||void 0===h?void 0:h.find((e=>e.id===ee)),oe=X.isLoaded&&Q.isLoaded,ne=te&&(R!==te.name||L!==(te.description||"")||!!M),ie=te&&(R!==te.name||L!==(te.description||"")),se=oe?j(null===(p=Q.data)||void 0===p||null===(C=p[o.id])||void 0===C?void 0:C[0]):null,re=o.preview_pins[0],le=null==re?void 0:re.image_signature,ae=j(null==re?void 0:re.images),ce=N||[se,ae].filter((e=>!!e))[H];(0,n.useEffect)((()=>{te&&(O(te.name||""),F(te.description||""))}),[te]),(0,n.useEffect)((()=>{T({event_type:9854,component:13998})}),[T]);const de=()=>{e(),T({event_type:9856,component:13998})},ue=I._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),_e=I._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,P.jsx)(y.mh,{zIndex:w,children:(0,P.jsx)(s.ZP,{accessibilityModalLabel:S,align:"center",heading:S,onDismiss:de,footer:oe?(0,P.jsxs)(y.kC,{alignItems:"start",children:[(0,P.jsx)(y.xu,{width:"50%",children:(0,P.jsx)(y.xv,{size:"300",children:(0,m.nk)(I._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,P.jsx)(y.rU,{href:"/product-catalogs",inline:!0,underline:"hover",children:(0,P.jsx)(y.xv,{weight:"bold",inline:!0,children:I._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,P.jsx)(y.xu,{width:"50%",children:(0,P.jsxs)(y.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,P.jsx)(y.zx,{color:"gray",text:_e,onClick:de}),(0,P.jsx)(y.zx,{color:"red",text:ue,onClick:()=>{const e=se?M:le,n=[];e&&n.push(r.ZP.create("ApiResource",{url:D,data:{image_signatures:[e],product_group_id:o.id}}).callUpdate()),ie&&n.push(r.ZP.create("ProductGroupsResource",{name:R,description:L,productGroupId:Number(o.id),filters:null==te?void 0:te.filter_v2}).callUpdate()),t(),T({event_type:9857,component:13998}),Promise.all(n).then((()=>{k((0,g.a)((new Date).getTime())),q((({hideToast:e})=>(0,P.jsx)("div",{className:"ProductGroupSavedToast",children:(0,P.jsx)(l.ZP,{duration:b.QE,onHide:e,text:I._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!ne})]})})]},"product-group-details-footer"):(0,P.jsx)(n.Fragment,{}),size:K?"md":"sm",children:(0,P.jsx)(y.xu,{paddingX:8,marginBottom:2,children:oe?(0,P.jsxs)(y.kC,{justifyContent:"center",children:[(0,P.jsxs)(y.xu,{width:320,children:[(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:I._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,P.jsx)("input",{accept:"image/*",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],o=new FileReader;t&&o.readAsDataURL(t),o.addEventListener("load",(()=>{G(!0),T({event_type:9855,component:13998}),r.ZP.create("ApiResource",{url:D,data:{image_base64:o.result}}).callCreate().then((e=>{var t,n;B(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.image_signature),G(!1),"string"==typeof o.result&&U(o.result)}))}),!1)}},ref:J,style:{display:"none"},type:"file"}),Z&&(0,P.jsx)(y.xu,{height:A,width:A,rounding:5,color:"lightGray",justifyContent:"center",direction:"column",display:"flex",children:(0,P.jsx)(y.$j,{accessibilityLabel:I._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!Z&&ce&&(0,P.jsx)(E,{image:ce,onFileUpload:()=>{var e;null===(e=J.current)||void 0===e||e.click()},onError:()=>V(H+1)})]}),K&&(0,P.jsxs)(y.xu,{width:320,marginStart:4,children:[(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:I._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,P.jsx)(y.nv,{disabled:(null==te?void 0:te.type)!==_.CatalogProductGroupType.MERCHANT_CREATED,id:"name",onChange:({value:e})=>O(e.slice(0,255)),size:"lg",type:"text",value:R}),(0,P.jsxs)(y.xu,{marginTop:2,marginBottom:4,height:30,children:[R&&(0,P.jsx)(y.xv,{size:"100",color:"subtle",children:I._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!R&&(0,P.jsx)(y.xv,{size:"100",color:"error",children:I._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:I._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,P.jsx)(y.xu,{height:178,children:(0,P.jsx)(y.Kx,{id:"description",onChange:({value:e})=>F(e.slice(0,155)),placeholder:I._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:L,rows:7})})]})]}):(0,P.jsx)(y.$j,{accessibilityLabel:I._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},732699:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(6405),s=o(898781),r=o(883119),l=o(785893);const a=488,c=488;function d({productGroup:e}){const t=(0,s.ZP)(),o=e.cover_images&&e.cover_images[0]&&e.cover_images[0]["488x488"]&&e.cover_images[0]["488x488"].url,i=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images&&e.preview_pins[0].images.orig,[d,u]=(0,n.useState)(!o),_=d?null==i?void 0:i.height:a,h=d?null==i?void 0:i.width:c,p=d?null==i?void 0:i.url:o;return _&&h&&p?(0,l.jsx)(r.Ee,{alt:t._('Cover image', 'ProductGroupV2.coverImage', 'Cover image for product group rep v2'),naturalHeight:_,naturalWidth:h,src:p,fit:"contain",onError:()=>{d||u(!0)}}):null}function u({onClick:e,productGroup:t,showControls:o,url:u}){const _=(0,s.ZP)(),h=_._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[p,m]=(_._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,n.useState)(!1)),[g,f]=(0,n.useState)(!1);return(0,l.jsxs)(r.xu,{position:"relative",onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:[(0,l.jsxs)(r.xu,{position:"relative",children:[(0,l.jsxs)(r.zd,{width:c,height:a,rounding:8,children:[(0,l.jsx)(d,{productGroup:t}),(0,l.jsx)(r.xu,{position:"absolute",width:c,height:a,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,l.jsx)(r.xu,{position:"absolute",color:"darkGray",opacity:g?.5:0,width:c,height:a,rounding:8,top:!0})]}),o&&g&&(0,l.jsxs)(r.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,l.jsx)(r.xu,{marginEnd:0,children:(0,l.jsx)(r.u,{text:h,idealDirection:"down",children:(0,l.jsx)(r.hU,{accessibilityLabel:h,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>m(!0),size:"xl"})})}),false]}),(0,l.jsxs)(r.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,l.jsx)(r.xu,{marginBottom:5,maxWidth:424,children:(0,l.jsx)(r.X6,{size:"600",color:"inverse",children:t.name})}),g&&(0,l.jsx)(r.xu,{marginBottom:5,maxWidth:424,children:(0,l.jsx)(r.xv,{size:"300",color:"inverse",children:t.description})}),(0,l.jsx)(r.zx,{accessibilityLabel:_._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:_._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:u,onClick:e})]}),o&&p&&(0,l.jsx)(i.Z,{onDismiss:()=>m(!1),onSubmit:()=>m(!1),productGroup:t})]})}},767449:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(252867),i=o(623568),s=o(372169),r=o(883119),l=o(785893);function a({commerceData:e,componentType:t,height:o=s.Je,merchant:a,onClick:c,pin:d,slotIndex:u,surface:_,viewParameter:h,viewType:p}){return(0,l.jsx)(r.xu,{height:o,margin:s.iO,width:s.jh,children:(0,l.jsx)(r.iP,{onTap:()=>c(d),children:(0,l.jsx)(n.default,{attributionOption:"hide",pin:d,pinId:d.id,surface:_||"ShoppingGridShippedMetadata",trackingParameters:{contextLogData:{commerce_data:{...e,board_owner_id:a.id,pin_is_promoted:(0,i.jL)(d)}},componentType:t,slotIndex:u,viewParameter:h,viewType:p}})})})}},765310:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(667294),i=o(966338),s=o(587941),r=o(898781),l=o(349700),a=o(407043),c=o(198938),d=o(262534),u=o(642247),_=o(883119),h=o(785893);const p=({language:e,country:t,hidden:o,productCount:i,onClick:s,selected:a})=>{const d=(0,r.ZP)(),[u,p]=(0,n.useState)(!1);return(0,h.jsx)(_.iP,{onTap:s,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,h.jsxs)(_.xu,{alignItems:"center",color:u?"lightGray":void 0,display:"flex",justifyContent:"between",padding:2,position:"relative",rounding:2,children:[(0,h.jsxs)(_.xu,{children:[(0,h.jsx)(_.xv,{weight:a?"bold":"normal",overflow:"noWrap",children:(0,c.z1)(t,e)}),(0,h.jsx)(_.xv,{size:"200",color:"subtle",children:(0,l.nk)(d.ngettext('{{productCount}} product', '{{productCount}} products', i, 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.productCount', 'Shows how many products are in a merchant product feed'),{productCount:i})})]}),o&&(0,h.jsx)(_.xu,{color:"gray",rounding:1,dangerouslySetInlineStyle:{__style:{padding:"2px"}},marginStart:2,marginEnd:8,position:"absolute",right:!0,children:(0,h.jsx)(_.xv,{color:"inverse",size:"100",weight:"bold",overflow:"noWrap",align:"forceRight",children:d._('Shop hidden', 'merchantStorefront.storefrontLocaleSelector.shopHidden', 'Shop hidden badge')})}),a&&(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.JO,{accessibilityLabel:d._('A checkmark indicating the currently selected locale on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.selectedIcon.accessibilityLabel', 'Accessibility label for the icon indicating the selected locale in a list'),icon:"check",color:"default"})})]})})},m=()=>{const{logContextEvent:e}=(0,a.v)(),t=(0,r.ZP)(),o=(0,i.useDispatch)(),{country:m,language:g}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale));(0,u.tt)();const[f,x]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),v=(0,n.useRef)(null),{countries:P,feedProfiles:w,isLoaded:A,settings:C,userId:E,refresh:j}=(0,u.LO)(),[T,I]=(0,n.useState)(!1),S=()=>{I(!0),x(!1)};(0,n.useEffect)((()=>{f&&e({event_type:9853,component:13997})}),[e,f]);const z=[...w].sort(((e,t)=>(0,c.z1)(P[e.country||""],e.locale).localeCompare((0,c.z1)(P[t.country||""],t.locale))));if(!(A&&m&&g&&w&&(0,c.Ee)(w,m,g)))return null;const k=z.reduce(((e,t)=>e||!(0,c.c8)(C[(0,c.u3)(t)])),!1);return(0,h.jsxs)(_.xu,{color:b?"lightGray":void 0,"data-test-id":"storefrontLocaleSelector",padding:4,rounding:6,ref:v,children:[(0,h.jsx)(_.iP,{accessibilityLabel:t._('Button to show a dropdown of locales you can select to show on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.button.accessibilityLabel', 'The accessibility label for the button the triggers a dropdown of selectable locales to view your storefront in'),onTap:()=>x(!f),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(0,h.jsx)(_.xv,{color:"default",overflow:"noWrap",children:(0,h.jsxs)(_.kC,{alignItems:"end",justifyContent:"start",children:[(0,l.nk)(t._('Viewing shop as: {{viewingStorefrontLocaleAsLabel}}', 'merchantStorefront.storefrontLocaleSelector.button.header', 'Header text telling the merchant in which country/language they are viewing the storefront currently'),{viewingStorefrontLocaleAsLabel:(0,h.jsx)(_.xu,{display:"inlineBlock",marginStart:1,children:(0,h.jsx)(_.xv,{weight:"bold",children:(0,c.z1)(P[m],g)})},"viewing-storefront-locale-as-label")}),(0,h.jsx)(_.xu,{marginStart:1,children:(0,h.jsx)(_.JO,{accessibilityLabel:t._('A downward arrow icon indicating this button will open a dropdown', 'merchantStorefront.storefrontLocaleSelector.button.icon.accessibiltyLabel', 'The accessibility label for downward arrow icon'),icon:"arrow-down",color:"default"})})]})})}),f&&(0,h.jsx)(_.mh,{zIndex:new _.Ry(1),children:(0,h.jsx)(_.J2,{anchor:v.current,idealDirection:"down",onDismiss:()=>x(!1),size:k?"lg":"md",positionRelativeToAnchor:!1,children:(0,h.jsxs)(_.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:2,paddingX:2,children:[(0,h.jsx)(_.xu,{padding:2,children:(0,h.jsx)(_.xv,{size:"100",children:(0,l.nk)(t._('Preview your shop in different regions / languages based on your active product feeds in Catalogs. {{manageShopVisibilityLink}}', 'merchantStorefront.storefrontLocaleSelector.popover.header', 'Popover header text describing what the storefront locale selector does'),{manageShopVisibilityLink:(0,h.jsx)(_.xv,{weight:"bold",size:"100",inline:!0,children:(0,h.jsx)(_.xu,{display:"inlineBlock",children:(0,h.jsx)(_.iP,{accessibilityLabel:t._('Button to open a modal to adjust which locales to show your merchant storefront in', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.accessibilityLabel', 'The accessibility label for the button to open a modal to adjust which locales to show your merchant storefront in'),onTap:S,children:t._('Manage shop visibility', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.text', 'Link in popover to open settings for managing the visibility of this storefront in different locales')})})},"manage-shop-visibility-link")})})}),z.map((e=>{const{id:t,country:n,locale:i}=e,s=(0,c.Md)(i);return n&&i?(0,h.jsx)(p,{country:P[n],hidden:!(0,c.c8)(C[(0,c.u3)(e)]),language:s,productCount:(0,c.gE)(e),onClick:()=>{((e,t,n)=>{o((0,d.d)(e,t,n||""))})(n,s,t),x(!1)},selected:n===m&&s===g},t):null}))]})})}),T&&(0,h.jsx)(s.Z,{countries:P,feedProfiles:w,onDismiss:()=>I(!1),onSubmit:()=>{j(),o((0,d.a)((new Date).getTime()))},onUndo:S,settings:C,userId:E})]})}},623314:(e,t,o)=>{o.d(t,{Ny:()=>n,q3:()=>i,sy:()=>s});const n=236,i=16,s={bubblesStory:"storefront_category_bubbles",exploreArticle:"explorearticle",footers:["storefront_category_footer_button","storefront_footer_button","storefront_product_group_footer_button","storefront_similar_items_footer_button"],header:"storefront_header",pin:"pin",productGroup:"productgroup",story:"story"}},642247:(e,t,o)=>{o.d(t,{LO:()=>b,N0:()=>P,t8:()=>w,tt:()=>A});var n=o(667294),i=o(966338),s=o(521641),r=o(487392),l=o(717615),a=o(767790),c=o(784590),d=o(19121),u=o(957161),_=o(231947),h=o(497020),p=o(247225),m=o(262534),g=o(217468),f=o(198938);function x(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,data:{include_last_successful_ingestion:!0}},dangerouslyDisableFetch:!e});return{feedProfilesResource:t,feedProfiles:(0,h.d9)(t.data||[]).filter((e=>e.country&&e.locale))}}function b(){const{merchantId:e,ownerUserId:t}=(0,r.Z)(),{countriesResource:o,countries:n}=function(){const e=(0,c.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:i,feedProfiles:s}=x(e),{storefrontSettingsResource:l,settings:a}=function(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`},dangerouslyDisableFetch:!e});return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:n,feedProfiles:s,isLoaded:o.isLoaded&&i.isLoaded&&l.isLoaded,refresh:()=>{i.refresh(),l.refresh()},settings:a,userId:t}}function y(){const{merchantId:e}=(0,r.Z)(),{feedProfilesResource:t,feedProfiles:o}=x(e),{userSettingsResource:n,userSettings:i}=function(){const e=(0,c.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}();return{feedProfiles:o,isLoaded:t.isLoaded&&n.isLoaded,userSettings:i}}function v(){const{data:e}=(0,a.Z)(),t=(0,g.tc)("web_merchant_success_storefront_controls")().anyEnabled,o=(0,g.tc)("web_merchant_storefront_controls_international")().anyEnabled,n=t||o,i=(0,d.Z)(),r=(0,s.Z)({user:e,viewer:i}),c=(0,l.Z)();return{isMerchantStorefrontControlsEnabled:n,isORBACProfileManager:(0,_.q6)(i,null==e?void 0:e.id,c),ownProfile:r}}function P(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t}=v();return e&&t}function w(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t,isORBACProfileManager:o}=v();return e&&(t||o)}function A(){const{feedProfiles:e,userSettings:t,isLoaded:o}=y(),{country:s,language:r}=(0,i.useSelector)((({storefrontSettings:e})=>e.currentViewingLocale)),l=(0,i.useDispatch)();(0,n.useEffect)((()=>{if(o&&(!s||!r||!(0,f.Ee)(e,s,r))){const[o,s]=((0,u.qn)(p.E)||"").split("/"),{country:r,locale:c}=t,d=[...e].sort(((e,t)=>(0,f.gE)(t)-(0,f.gE)(e)))[0],_=(0,f.Ee)(e,o,s),h=(0,f.Ee)(e,r,(0,f.Md)(c)),g=_||h||d;g&&(n=g.country||"",i=(0,f.Md)(g.locale),a=g.id,l((0,m.d)(n,i,a||"")))}var n,i,a}))}},870592:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(81636);const i={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function s({entryPoint:e,objectId:t}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e})},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const r={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t},o){o({event_type:120,...s({entryPoint:e,objectId:t})})},tapProductGroup:function({entryPoint:e,productGroupId:t},o){o({event_type:102,...s({entryPoint:e,objectId:t})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},o){o({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:o,productGroupId:n},i){i({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:o,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},o){o({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var l=o(409401);const a={Control:i,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:r,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},o){o({event_type:13,view_type:(0,l.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:o},n){n({event_type:120,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o}})},tapCategory:function({id:e,source:t,title:o},n){n({event_type:102,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_bubbles",category_title:o}})},tapSeeMoreCategories:function({id:e,source:t},o){o({event_type:102,component:13699,element:179,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t},o){o({event_type:102,component:13698,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512})},tapSeeMoreProductGroups:function({id:e,source:t},o){o({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,l.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t},o){o({event_type:120,component:13698,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:o,source:n},i){i({event_type:120,component:13700,view_type:(0,l.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},o){o({event_type:102,component:0,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},409401:(e,t,o)=>{function n(e){return"profile"===e?4:1}o.d(t,{Z:()=>n})},198938:(e,t,o)=>{o.d(t,{Ee:()=>_,LT:()=>c,Md:()=>s,Q1:()=>u,QE:()=>i,c8:()=>d,gE:()=>r,u3:()=>l,yh:()=>n,z1:()=>a});const n="ALL_PRODUCTS",i=5e3,s=e=>e?e.split("-")[0].toLowerCase():"",r=e=>{var t;return(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},l=e=>[e.country||"",s(e.locale)].join("/").toUpperCase(),a=(e,t)=>e&&t?`${e} (${s(t).toUpperCase()})`:"",c=(e,t)=>{const[o,n]=t.split("/");return a(e[o.toUpperCase()],n)},d=e=>!e||void 0===e.shop_visible||e.shop_visible,u=(e,t)=>{const o=t.map(l);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,n,i)=>o.includes(t)&&!d(e[t])&&i.indexOf(t)===n))},_=(e,t,o)=>t&&o?e.find((e=>e.country===t&&s(e.locale)===o)):void 0},953192:(e,t,o)=>{o.d(t,{G:()=>s,S:()=>r});var n=o(19121),i=o(81636);function s(e,t){const o=(0,n.Z)(),s=o.isAuth&&o.username===e;(0,i.Q)({object_id_str:o.isAuth&&s?o.id:void 0,view_type:4,view_parameter:t})}function r(e,t,o){const s=(0,n.Z)(),r=s.isAuth&&s.username===e?3106:3107;(0,i.Q)({object_id_str:t,view_type:4,view_parameter:r,component:o})}},396704:(e,t,o)=>{o.d(t,{Z:()=>u,o:()=>d});var n=o(898781),i=o(19121),s=o(444445),r=o(407043),l=o(946984),a=o(883119),c=o(785893);const d="AddPinRep";function u({ctaText:e,handleClick:t,height:o,iconSize:d,textSize:u}){const{logContextEvent:_}=(0,r.v)(),h=(0,n.ZP)(),p=(0,i.Z)(),m=(0,l.Z)({shouldStopEventPropagation:!1})((()=>{t&&t(),p.isPartner&&_({event_type:101,component:0,element:10643})}));return(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{role:"link",onTap:m,href:"/pin-builder/",children:(0,c.jsxs)(a.Zb,{children:[(0,c.jsx)(a.xu,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:o||s.xf,justifyContent:"center",rounding:2,width:o||void 0,children:(0,c.jsx)(a.xu,{color:"white",height:d||40,rounding:"circle",width:d||40,children:(0,c.jsx)(a.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:d||40})})}),(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:"subtle",size:u||"lg",weight:"bold",children:e||h._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},957885:(e,t,o)=>{function n(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function i(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):t._('Description too long. Make sure description has less than 500 characters', 'Description entered is too long while editing a pin', 'Description entered is too long while editing a pin')}function s(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function r(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}o.d(t,{MM:()=>i,Y8:()=>n,bl:()=>s,qj:()=>r})},623122:(e,t,o)=>{o.d(t,{I:()=>r,Z:()=>s});var n=o(784590);const i=({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:i})=>{const{data:s,isLoaded:r}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),l=[{name:o,src:i,href:`/${t}/`,isDim:!1}];return r&&s&&s.length>0&&s.forEach((e=>{l.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),l},s=i;function r({children:e,...t}){return e(i(t))}},851942:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(898781),s=o(13788),r=o(883119),l=o(785893);function a({anchor:e,hideAddSectionTooltip:t}){const o=(0,i.ZP)();return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:(0,l.jsx)(r.xu,{padding:4,children:(0,l.jsx)(r.xv,{color:"inverse",weight:"bold",children:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section')})})})})})}var c=o(217468);function d({anchor:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:a,onClose:d,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:h,surface:p,isWithinFixedContainer:m}){const g=(0,i.ZP)(),{anyEnabled:f}=(0,c.aq)("web_story_pin_creator"),{anyEnabled:x}=(0,c.aq)("web_idea_pin_pinner_rollout"),{anyEnabled:b}=(0,c.aq)("web_sp2s"),y=(0,n.useMemo)((()=>({pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:b?g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'):g._('Story Pin', 'BoardActionsButton.LegoFlyout.StoryPin', 'Option to create a Story Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:g._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')})),[g,b]);return(0,l.jsxs)(r.Lt,{id:"board_actions",anchor:e,idealDirection:t||"down",onDismiss:d,isWithinFixedContainer:m,children:[(0,l.jsx)(r.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[(0,l.jsx)(r.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),d()},option:{label:y.pin,value:y.pin}},"actions-create-0"),h&&(f||x)&&(0,l.jsx)(r.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),d()},option:{label:y.rename,value:y.rename}},"actions-create-1"),"profileBoards"===p&&u&&(0,l.jsx)(r.Lt.Item,{dataTestId:"Create board",onSelect:()=>{u(),d()},option:{label:y.board,value:y.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(r.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[o&&(0,l.jsx)(r.Lt.Item,{dataTestId:"addBoardNote",onSelect:()=>{o(),d()},option:{label:y.todos,value:y.todos},badge:{text:y.new,type:"info"}},"actions-add-0"),a&&(0,l.jsx)(r.Lt.Item,{dataTestId:"addSection",onSelect:()=>{a(),d()},option:{label:y.section,value:y.section}},"actions-add-1"),!!s&&(0,l.jsx)(r.Lt.Item,{onSelect:()=>{s(),d()},option:{label:y.date,value:y.date}},"actions-add-2")].filter(Boolean)})]})}var u=o(333312),_=o(914993);function h({anchor:e}){const t=(0,_.JI)();return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.Z,{anchor:e,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function p({anchor:e}){return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.Z,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=o(424432);function g({children:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,onOpen:f=(()=>{}),surface:x,isWithinFixedContainer:b}){var y;const v=(0,i.ZP)(),{showCreateSectionTooltip:P,setShowCreateSectionTooltip:w}=null!==(y=(0,m.L)())&&void 0!==y?y:{},A=()=>w(!1),C=(0,n.useRef)(),[E,j]=(0,n.useState)(!1),T=()=>j(!1),I=()=>{E?T():(f(),P&&A(),j(!0))},S={board:v._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:v._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},z=e&&e({active:E,openFlyout:I})||(0,l.jsx)(r.hU,{accessibilityLabel:S[x],icon:"add",onClick:"section"===x?_:I,size:"lg"});let k;return E||"board"!==x||(P?k="addSectionTooltip":s&&(k="planningActionsExperience")),E||"profileBoards"!==x||(k="createBoardTooltip"),(0,l.jsxs)(r.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(r.xu,{ref:C,children:z}),E&&(0,l.jsx)(d,{anchor:C.current,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onClose:T,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,surface:x,isWithinFixedContainer:!!b}),"addSectionTooltip"===k&&(0,l.jsx)(a,{anchor:C.current,hideAddSectionTooltip:A}),"planningActionsExperience"===k&&(0,l.jsx)(p,{anchor:C.current}),"createBoardTooltip"===k&&(0,l.jsx)(h,{anchor:C.current})]})}},563126:(e,t,o)=>{o.d(t,{Z:()=>W});var n=o(667294),i=o(319915),s=o(947599),r=o(499128),l=o(898781),a=o(343341),c=o(883119),d=o(785893);const u=(0,n.lazy)((()=>o.e(4603).then(o.t.bind(o,774855,23))));function _({linkURL:e,onDidFocus:t,onDidClickCopyButton:o}){const n=(0,l.ZP)(),{showOneToast:_}=(0,a.F9)(),h=n._('Copy link', '[button] copy a URL link shown, to paste in another place', '[button] copy a URL link shown, to paste in another place');return(0,d.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,d.jsx)(c.xu,{flex:"grow",marginEnd:2,children:(0,d.jsx)(c.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,d.jsx)(i.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,d.jsx)(s.Z,{fallback:(0,d.jsx)(c.zx,{text:h,disabled:!0}),children:(0,d.jsx)(u,{text:e,onCopy:(e,t)=>{t&&_((({hideToast:e})=>(0,d.jsx)(r.ZP,{onHide:e,text:n._('Link copied to clipboard!', 'toast message to confirm if users copied the url successfully', 'toast message to confirm if users copied the url successfully')}))),o()},children:(0,d.jsx)(c.zx,{text:h,size:"lg"})})})})]})}var h=o(412168),p=o(587857),m=o(407043),g=o(385551);const f=e=>({invite_category:4,invite_channel:12,object_type:p.d.BOARD,object_id:e}),x=e=>({component:13305,element:10921,object_id_str:e,view_type:5,view_parameter:3059});function b({boardId:e}){const{logContextEvent:t}=(0,m.v)(),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(!s){const t=f(e),{cancel:o,promise:n}=(0,h.Z)(g.Z.createShareInviteData(t));return n.then((e=>r(e))),()=>{o()}}}),[]);const l=s?s.invite_url:"...",a=()=>{null===s||o||(i(!0),g.Z.logShareInvite(f(e),s))};return(0,d.jsx)(_,{linkURL:l,onDidClickCopyButton:()=>{t({event_type:101,...x(e)}),a()},onDidFocus:a})}var y=o(426151),v=o(116303),P=o(784590);function w({boardId:e,invitedUserId:t,isInvited:o,onClick:i,buttonSize:s="sm"}){const r=(0,l.ZP)(),a=(0,P.Z)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});(0,n.useEffect)((()=>{a.refresh()}),[]);const u={text:r._('Invite', '[button] invite someone to collaborate on a board', 'it appears in the list expanded when click invite button at the top of board page'),color:"red",disabled:!1};return a.isFetching&&(u.text=r._('Loading', '[button] disabled button status text when checking if the user has been invited', 'it appears in the list expanded when click invite button at the top of board page'),u.color="gray",u.disabled=!0),(o||a.isLoaded&&a.data)&&(u.text=r._('Invited', '[button] disabled button status text when a user has been invited to a board', 'it appears in the list expanded when click invite button at the top of board page'),u.color="gray",u.disabled=!0),(0,d.jsx)(c.zx,{fullWidth:!0,color:u.color,size:s,disabled:u.disabled,onClick:i,text:u.text})}var A=o(355600),C=o(209716),E=o(936776),j=o(172071),T=o(730447),I=o(412456);function S({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:o,shareSuggestions:i}){const{logContextEvent:s}=(0,m.v)(),r=(0,l.ZP)(),[a,u]=(0,n.useState)(""),[_,h]=(0,n.useState)([]),[p,g]=(0,n.useState)({}),[f,x]=(0,n.useState)({}),b=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||r._('On Pinterest', 'is a user of Pinterest', 'is a user of Pinterest');case"emailcontact":case"email_share_suggestion":return e.email||r._('Email Contact', 'invited user has an email', 'invited user has an email')}return""},y=(n,i)=>{const{id:r,full_name:l,debug_reason:c}=n;let d="";c&&(d=c.reason),((t,o)=>{s({event_type:101,component:13029,element:a?1044:1039,object_id_str:e,view_type:5,view_parameter:3059,aux_data:{entered_query:a,result_index:t+1,rs:o}})})(i,d);const u={...p};u[r]=!0,g(u),(0,I.pS)(e,[r]).then((()=>{o(l,!0)})).catch((e=>{o(l,!1,e);const t={...p};t[r]=!1,g(t)})).finally(t)};let P=i;return a&&(P=_),(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,d.jsx)(c.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,d.jsx)(c.xu,{flex:"grow",children:(0,d.jsx)(T.Z,{onTypeaheadSuggestionsChange:e=>{j.Z.increment("web_contacts_search",1,{source:"board_invite"}),h(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:a,children:(0,d.jsx)(c.xu,{paddingX:4,children:(0,d.jsx)(c.Um,{accessibilityLabel:r._('Search for a name or email', 'accessible label for contact search input field', 'accessible label for contact search input field'),id:"search",onChange:({value:e})=>{u(e),s({event_type:4113,component:13029,element:1043,view_parameter:3059,aux_data:{entered_query:e}})},placeholder:r._('Search by name or email', 'search input field prompt for finding contacts', 'search input field prompt for finding contacts'),size:"lg",value:a})})})})}),(0,d.jsxs)(c.xu,{overflow:"scrollY",maxHeight:414,children:[P.map(((t,o)=>{const n=t.username?`/${t.username}/`:null;return(0,d.jsx)(c.xu,{children:(0,d.jsx)(A.Z,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:b(t),accessory:(0,d.jsx)(w,{boardId:e,invitedUserId:t.id,isInvited:(i=t.id,!!p[i]),onClick:()=>y(t,o),buttonSize:"lg"}),linkURL:n})},o);var i})),a&&((0,E.Z)(a)?(0,d.jsx)(A.Z,{name:a,title:a,accessory:(S=!!f[a],z=()=>{const n=a;if(!(0,E.Z)(n))return;const i={...f};i[n]=!0,x(i),(0,I.OA)(e,[n]).then((()=>{o(n,!0),u("")})).catch((e=>{o(n,!1,e);const t={...f};t[n]=!1,x(t)})).finally(t)},k="lg",(0,d.jsx)(c.zx,{fullWidth:!0,color:S?"gray":"red",disabled:!!S,size:k,onClick:z,text:S?r._('Invited', '[button] disabled button status text when a user has been invited to a board', '[button] disabled button status text when a user has been invited to a board'):r._('Invite', '[button] invite someone to collaborate on a board', '[button] invite someone to collaborate on a board')}))}):(0,d.jsx)(C.Z,{iconNode:(0,d.jsx)(v.Z,{name:a,size:"md"}),title:a,subtitle:r._('Keep typing!', 'boardCollabInviterForm.label', 'Message for user to keep typing')}))]})]});var S,z,k}var z=o(349700);function k({boardId:e}){const{logContextEvent:t}=(0,m.v)(),o=(0,l.ZP)(),i=(0,a.F9)(),{refresh:s}=(0,P.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},noCache:!0}),{refresh:u}=(0,P.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},noCache:!0}),{data:_,isLoaded:h}=(0,P.Z)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},noCache:!0});(0,n.useEffect)((()=>{t({event_type:7120,object_id_str:e,view_type:5,view_parameter:3059})}),[]),(0,n.useEffect)((()=>{if(h){const e=_&&_.length>0?7511:7512;t({event_type:e,component:13305,element:10592,view_type:5,view_parameter:3059})}}),[h]);const p=(e,t=!1)=>{i.showOneToast((({hideToast:o})=>(0,d.jsx)(r.ZP,{duration:3e3,onHide:o,text:e,variant:t?"error":void 0})))};return h?(0,d.jsx)(S,{boardId:e,onInvitesDidUpdate:()=>{s(),u()},onInviteDidComplete:(e,t,n)=>{t?p(o._('1 invite sent!', 'BoardCollabInviteFormContainer.showInviteSuccessToast.text', 'Toast for successfully sending invitation of collaborating a board')):((e,t)=>{const n=o._('Failed to invite {{userIdentifier}} to collaborate', 'Toast for failing to send invitation of collaborating a board', 'Toast for failing to send invitation of collaborating a board');p(t&&t.message?t.message:(0,z.nk)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:_||[]}):(0,d.jsx)(c.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,d.jsx)(c.$j,{accessibilityLabel:o._('Loading contacts', 'BoardCollab.BoardCollabInviteFormContainer', 'Accessibility label on loading spinner'),show:!0})})}const D="INVITE_SETTING",R="REQUEST_TO_JOIN_SETTING";function O({boldHeading:e,setting:t,viewerIsOwner:o}){const i=(0,l.ZP)(),s={0:{name:i._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:i._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o?i._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):i._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab', 'Text explaining collaborator permission setting')},[D]:{name:i._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},[R]:{name:i._('Board requests', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('People can request to join this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",size:e?"300":"200",weight:e?"bold":"normal",children:s[t].name}),(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{color:"subtle",size:"lg",children:s[t].description})})]})}var L=o(573799),F=o(121151),M=o(19121),B=o(88301),N=o(925927),U=o(780280);function Z({board:e,currentPermissionLevel:t,fromBoardEditModal:o,navigateToPermissions:i,onDismiss:s}){var r;const a=(0,l.ZP)(),u="number"==typeof e.collaborator_count&&e.collaborator_count>0,[_,h]=(0,n.useState)(!u),p=(0,U.B)(),m=(0,M.Z)(),g=(0,N.k6)(),f=m.isAuth&&(null===(r=e.owner)||void 0===r?void 0:r.id)===m.id,x=f||e.collaborator_invites_enabled,v=_&&!u||!_;return(0,d.jsx)(B.k,{boardName:e.name,pendingOwnershipTransfer:e.pending_ownership_transfer,viewerIsOwner:f,children:(0,d.jsx)(F.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:_?a._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'):a._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),footer:x&&!_?(0,d.jsx)(c.iP,{onTap:()=>h(!0),rounding:8,children:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.hU,{accessibilityLabel:a._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'accessibility label on icon button'),icon:"add",bgColor:"red",iconColor:"white"}),(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.xv,{size:"300",weight:"bold",children:a._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Clickable text to show invite form')})})]})}):null,heading:(0,d.jsxs)(c.xu,{padding:8,children:[o&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!p.isRTL,right:p.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:a._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:_?a._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal'):a._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')})]}),onDismiss:s,children:(0,d.jsxs)(c.xu,{marginBottom:5,children:[v&&(0,d.jsxs)(c.xu,{paddingX:6,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:f?a._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting'):a._('You can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting')})}),(0,d.jsxs)(c.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,d.jsx)(c.xu,{width:"60%",children:(0,d.jsx)(O,{boldHeading:!0,viewerIsOwner:f,setting:t})}),f&&(0,d.jsx)(c.hU,{accessibilityLabel:a._('Edit board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on icon button'),icon:"arrow-forward",onClick:i})]})]}),_?(0,d.jsxs)(c.xu,{paddingX:2,children:[(0,d.jsx)(b,{boardId:e.id}),(0,d.jsx)(k,{boardId:e.id})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{paddingX:6,paddingY:5,children:(0,d.jsx)(c.xv,{size:"100",children:a._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Header before listing collaborators on a group board')})}),(0,d.jsx)(L.Z,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=m.isAuth?`/${m.username}`:"/";g.replace(e)},renderInvite:(e,t,o)=>{if(!e.invited_user)return null;const n={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,d.jsx)(y.Z,{...n})}})]})]})})})}var G=o(966338),H=o(683190);function V({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:o},currentPermissionLevel:i,navigateToCollaborators:s,onDismiss:r}){const{logContextEvent:a}=(0,m.v)(),u=(0,l.ZP)(),[_,h]=(0,n.useState)(i),[p,g]=(0,n.useState)(e),[f,x]=(0,n.useState)(t),[b,y]=(0,n.useState)(!1),v=(0,U.B)(),P=(0,G.useDispatch)();return(0,d.jsx)(F.ZP,{accessibilityModalLabel:u._('Board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!v.isRTL,right:v.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:u._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:v.isRTL,right:!v.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Close', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"cancel",iconColor:"darkGray",onClick:r})})]}),footer:(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(c.zx,{color:"red",disabled:b||_===i&&p===e&&f===t,onClick:()=>{y(!0);const n={id:o},s={view_type:5,view_parameter:3472};p!==e&&(n.collaborator_invites_enabled=p,a({event_type:p?106:107,element:11896,...s})),_!==i&&(n.collaborator_permissions_setting=_,a({event_type:8841,...s})),f!==t&&(n.collaborator_requests_enabled=f),P((0,H.wN)(n)).then((()=>r()))},size:"lg",text:u._('Done', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Submit button on a form')})}),onDismiss:r,children:(0,d.jsxs)(c.xu,{paddingX:12,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Permissions', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before listing possible board permissions')})}),(0,d.jsxs)(c.kC,{alignItems:"center",children:[(0,d.jsx)(c.EU,{checked:0===_,id:"ALL",onChange:()=>h(0),value:0}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:0})})]}),(0,d.jsxs)(c.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,d.jsx)(c.EU,{checked:1===_,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:1})})]}),(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Invitations', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before group board invitation permission form setting')})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,d.jsx)(c.XZ,{checked:p,id:"inviteSetting",onChange:({checked:e})=>g(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:D})})]}),(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.XZ,{checked:f,id:"inviteSetting",onChange:({checked:e})=>x(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:R})})]})]})})}function W({board:e,fromBoardEditModal:t,onDismiss:o}){const[i,s]=(0,n.useState)("collaboratorsView"),{collaborator_permissions_setting:r}=e;return"collaboratorsView"===i?(0,d.jsx)(Z,{board:e,currentPermissionLevel:r,fromBoardEditModal:t,navigateToPermissions:()=>s("permissionsView"),onDismiss:o}):(0,d.jsx)(V,{board:e,currentPermissionLevel:r,navigateToCollaborators:()=>s("collaboratorsView"),onDismiss:o})}},296117:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{accessibilityLabel:t,bgColor:o,icon:s,onClick:r,selected:l,size:a}=e;return(0,i.jsx)(n.hU,{accessibilityLabel:t,bgColor:null!=o?o:"transparent",icon:s,iconColor:"darkGray",onClick:r,selected:l,size:null!=a?a:"lg"})}},360848:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(90543),i=o(883119),s=o(785893);function r(e,t){return(0,s.jsx)(i.xu,{"data-test-id":`${e.props.icon}-button`,children:e},t)}function l(e){const{buttonsLeft:t,buttonsRight:o,children:l,headerHeight:a,minHeight:c,shouldStick:d}=e;return(0,s.jsx)(n.Z,{position:d?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=a?a:"pending",children:(0,s.jsx)(i.xu,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:c,width:"100%",children:[(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",children:t.map(r)}),(0,s.jsx)(i.xu,{margin:"auto",children:l}),(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:o.map(r)})]})})})}},349811:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(296117),s=o(883119),r=o(785893);function l({bgColor:e,children:t,icon:o,label:l,size:a}){const c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),_=()=>u(!1);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(s.xu,{ref:c,children:(0,r.jsx)(i.Z,{accessibilityLabel:l,bgColor:e,icon:o,onClick:()=>u(!d),selected:d,size:a})}),d&&(0,r.jsx)(s.Lt,{id:"actionBarMenuButton",idealDirection:"down",anchor:c.current,onDismiss:_,zIndex:new s.Ry(1e3),children:t({handleClose:_})})]})}},13788:(e,t,o)=>{o.d(t,{Ev:()=>s,IK:()=>i,Oj:()=>r,bW:()=>l});var n=o(883119);const i=1,s=1,r=2,l=new n.Ry(5e3)},229448:(e,t,o)=>{o.d(t,{SE:()=>f,l:()=>x,Zl:()=>w,ZP:()=>C,EQ:()=>y,Bk:()=>A});var n=o(966338),i=o(343795),s=o(343341),r=o(667294),l=o(391254),a=o(50286),c=o(898781),d=o(883119),u=o(499128),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(){const e=(0,c.ZP)();return(0,_.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:[(0,_.jsx)(l.Z,{unsafeCSS:"\n@keyframes spin {\n  from {\n    opacity: 1;\n    transform: rotate(0deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate(360deg);\n  }\n}"}),(0,_.jsx)(d.xu,{display:"block",opacity:0,dangerouslySetInlineStyle:{__style:{animationDelay:"0.3s",animationDuration:"1.2s",animationIterationCount:"infinite",animationName:"spin",animationTimingFunction:"linear"}},children:(0,_.jsx)(d.JO,{accessibilityLabel:e._('board action pending', 'accessibility label for board action toast to indicate pending action', 'accessibility label for board action toast to indicate pending action'),color:"white",icon:"knoop",size:40})})]})}class m extends r.Component{constructor(...e){super(...e),h(this,"state",{hiding:!1,visible:!1}),h(this,"handleHide",(()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,u.Vg)})),h(this,"handleMouseEnter",(()=>{window.clearTimeout(this.timeout)})),h(this,"handleMouseLeave",(()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)}))}componentDidMount(){this.firstLine&&(window.setTimeout((()=>{this.setState({visible:!0})}),100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":return o?n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section'):n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":return o?n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section'):n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":return o?n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section'):n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){const{actionStatus:e,deviceType:t,location:o}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const s="inProgress"===e?`${o.name}...`:o.name;return(0,_.jsx)(d.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:(0,u.UZ)({deviceType:t,visible:n,hiding:i})},children:(0,_.jsx)(d.FN,{text:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(d.xv,{children:this.firstLine}),(0,_.jsx)(d.xv,{weight:"bold",children:s})]}),thumbnail:"completed"===e?void 0:(0,_.jsx)(p,{})})})}}function g(e){const t=(0,a.ZP)(),o=(0,c.ZP)();return(0,_.jsx)(m,{...e,deviceType:t,i18n:o})}const f=2e3,x=5e3;const b=["merge","move_pins","create_section"];function y({blockingActions:e,actionType:t,boardId:o,sectionId:n}){return e.find((e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||b.includes(e.action_type)&&e.is_origin||e.board_id!==o||(n?n!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)))}let v=0;const P={};function w({check:e,checkDelay:t,checkInterval:o,onComplete:n}){const i=`timeout${v}`;v+=1;const s=()=>{const t=Date.now();e().then((e=>{const r=Date.now()-t;e?(n(),delete P[i]):P[i]=setTimeout(s,Math.max(1e3,o-r))})).catch((()=>{delete P[i]}))};P[i]=setTimeout(s,t)}const A=(e,t,o,n)=>({hideToast:i})=>{var s;return(0,_.jsx)(g,{actionType:t,actionStatus:e,duration:"inProgress"===e?f:2e3,location:{name:n?n.title:null!==(s=o.name)&&void 0!==s?s:"",isSection:!!n},onHide:i})};function C(e){function t(t){const o=(0,n.useDispatch)(),{showToast:r}=(0,s.F9)();return(0,_.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:n})=>{r(A("inProgress",e,t,n)),w({check:()=>o((0,i.K)(t.id)).then((o=>!y({blockingActions:o,actionType:e,boardId:t.id,sectionId:n&&n.id}))),checkDelay:f,checkInterval:x,onComplete:()=>r(A("completed",e,t,n))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},431256:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(755742),s=o(694379),r=o(6637),l=o(492990),a=o(349700),c=o(898781),d=o(883119),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.Component{constructor(...e){super(...e),_(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(this,"onDismiss",(()=>{})),_(this,"mounted",!1),_(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),_(this,"handleKeyDown",(e=>{e.keyCode===i.Z.UP?this.handlePrevHashtag(e):e.keyCode===i.Z.DOWN?this.handleNextHashtag(e):e.keyCode===i.Z.ESCAPE?this.handleClose(e):e.keyCode===i.Z.ENTER&&this.handleSubmit(e)})),_(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),_(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),_(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),_(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),_(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(r.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:o}=this.state,{anchor:n,idealDirection:i}=this.props,r=e.filter((e=>e.query)),l=i||"down",c="flyout_"+r.length;return t&&r.length>0?(0,u.jsx)(d.J2,{anchor:n,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(d.xu,{width:"100%",zIndex:new d.Ry(3),children:r.length>0?r.map(((e,t)=>(0,u.jsx)(d.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===o?"lightGray":"transparent",padding:1,children:[(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(d.xu,{flex:"none",children:(0,u.jsx)(d.xv,{inline:!0,size:"100",children:(0,a.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},c):null}}function p(e){const t=(0,c.ZP)(),o=(0,l.Z)();return(0,u.jsx)(h,{...e,makeCancelablePromise:o,i18n:t})}},807068:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(319915),s=o(947599),r=o(898781),l=o(883119),a=o(785893);const c=(0,n.lazy)((()=>o.e(61116).then(o.bind(o,783002))));function d(e){const t=(0,r.ZP)();return(0,a.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,a.jsx)(s.Z,{fallback:(0,a.jsx)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,a.jsx)(l.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,a.jsx)(c,{...e})})})}},587857:(e,t,o)=>{o.d(t,{d:()=>n});const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},631466:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(521641),s=o(296117),r=o(898781),l=o(883119),a=o(894350),c=o(785893);const d=(0,a.Z)((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:o}){const n=(0,r.ZP)(),i=n._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label for button to send this profile');return o?(0,c.jsx)(l.zx,{accessibilityLabel:i,onClick:e,selected:t,size:"lg",text:n._('Share', 'sendProfileButton.button', 'Button to share user profile')}):(0,c.jsx)(s.Z,{accessibilityLabel:i,icon:"share",onClick:e,selected:t})}));var u=o(19121);function _({shownWithinProfileHeader:e,useGestaltButton:t,user:o}){var s;const[r,l]=(0,n.useState)(!1),a=(0,u.Z)(),_=(0,i.Z)({user:o,viewer:a});return(0,c.jsx)(d,{fullName:null!==(s=o.full_name)&&void 0!==s?s:"",gridDescription:"",imageSrc:o.image_large_url,isFlyoutOpen:r,isOwnProfile:_,onFlyoutDismiss:()=>l(!1),onToggleFlyout:()=>l(!r),profileUrl:`/${o.username}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:o.id})}},372169:(e,t,o)=>{o.d(t,{Je:()=>n,dA:()=>s,iO:()=>r,jh:()=>l,s_:()=>i});const n=350,i=134,s=16,r=2,l=236},155582:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(6637);var s=o(73803),r=o(966113),l=o(898781),a=o(19121),c=o(349700),d=o(129274),u=o(883119),_=o(785893);const h=r.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function p(e){return e.map((({full_name:e})=>e))}const m=function({users:e,onClose:t,onSubmit:o}){const n=(0,l.ZP)(),i=(0,_.jsx)("strong",{children:(0,s.Z)(p(e),n)},"userlist");return(0,_.jsxs)("form",{method:"post",children:[(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xv,{children:(0,c.nk)(n._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:i})}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(u.xv,{children:(0,_.jsx)(u.rU,{inline:!0,href:h,underline:"hover",children:n._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:1,children:[(0,_.jsx)(u.zx,{fullWidth:!0,onClick:t,text:n._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{o()},text:n._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var g=o(174798);const f=r.Z.settings.HELP_BLOCKING,x=r.Z.settings.POLICY_COMMUNITY_GUIDELINES,b=({board:e,flagReason:t,flagType:o,onClose:r,selectedReason:h,status:b,users:y})=>{const v=(0,l.ZP)(),[P,w]=(0,n.useState)({}),{setModalTitle:A,setStatus:C}=(0,d.d)(),E=(0,a.Z)(),{id:j}=E.isAuth?E:{},T=null==e?void 0:e.followed_by_me,I=y[0].explicitly_followed_by_me,S=y.filter((({id:e})=>P[e])),z=S.length>0;(0,n.useEffect)((()=>{(()=>{let e;[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?e=v.ngettext('Block this person?', 'Block these people?', S.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):o===g.Vm.CONVERSATION&&(e=b===g.qb.COMPLETED?(0,c.nk)(v._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,s.Z)(p(S),v).join("")}).join(""):v._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),A(e)})()}),[b]),(0,n.useEffect)((()=>{C(z?g.qb.SELECTED:g.qb.STARTED)}),[P]);const k=y.filter((({id:e})=>e!==j)),D=[g.qb.STARTED,g.qb.COMPLETED].includes(b);return(0,_.jsx)("form",{method:"post",children:[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?(0,_.jsx)(m,{onClose:()=>{C(g.qb.SELECTED)},onSubmit:()=>(C(g.qb.PROCESSING),Promise.all(Object.keys(P).filter((e=>P[e])).map((e=>function(e){return i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((()=>{}),(()=>{}))}(e)))).finally((()=>{C(g.qb.COMPLETED)}))),users:S}):(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xu,{children:b!==g.qb.COMPLETED?(()=>{let e,o;return"harassingOther"===h?e=(0,c.nk)(v._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,_.jsx)(u.rU,{inline:!0,href:x,underline:"hover",children:v._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===h?e=v._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===h?e=v._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=v._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin')),o=T&&I?v._('You can also unfollow or block this person.', 'description to block or unfollow', 'description to block or unfollow'):v.ngettext('You can also block this person.', 'You can also block these people.', k.length, 'description to block people', 'description to block people'),(0,_.jsxs)(n.Fragment,{children:[e&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:e})}),(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:o})}),(0,_.jsx)(u.xu,{marginBottom:8,children:k.map((({id:e,full_name:t})=>(0,_.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(P[e]),label:(0,c.nk)(v._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...P,[e]:t})},subtext:v._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},e)))})]})})():z&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:v._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,_.jsxs)(u.xu,{children:[b!==g.qb.COMPLETED&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(v._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{inline:!0,href:f,underline:"hover",children:v._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:D?r:()=>{w(P),C(g.qb.SUBMITTED)},text:D?v._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):v._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function y({flagOptions:e,flow:t,handleClose:o,handleNext:n,selectedReason:i,showPrimaryAction:s,submitButton:r}){const a=(0,l.ZP)();if(t===g.Zw.REPORT){var c;if(g.qb.PROCESSING===status||null!==(c=e.getFlagOption(i))&&void 0!==c&&c.isTerminalReason)return r;if(s)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===i,onClick:n,text:a._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===g.Zw.END)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:o,text:a._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}var v=o(121151);const P=r.Z.settings.POLICY_COMMUNITY_GUIDELINES;function w({flow:e,flagReason:t}){const o=(0,l.ZP)();if(e===g.Zw.REPORT){if("attacks"===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:o._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,_.jsxs)("p",{children:[(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-adult-content",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-dangerous-goods-and-activities",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-violence",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?o._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):o._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function A(e,t,o){return e.map(((e,n)=>{const{condition:i}=e;return void 0===i||i?function(e,t,o,n){const{text:i,value:s,category:r}=e;return(0,_.jsx)("label",{htmlFor:s,children:(0,_.jsxs)(u.xu,{alignItems:"center",padding:2,display:"flex",children:[(0,_.jsx)(u.EU,{checked:o===s,id:s,onChange:({checked:e})=>t(e,s,r),name:"flagReason",value:s}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"200",children:i})})]})},n)}(e,t,o,n):null}))}class C{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const o in e)e[o].forEach((e=>{const n=e.value;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error("Duplicate key in FlagOptions config: "+n);t[n]=e,t[n].parentOption=o}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:o,selectedReason:n}=e;return A(this.config[t],o,n)}}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class j extends n.Component{constructor(...e){super(...e),E(this,"flagOptions",new C(this.props.flagOptionsConfig)),E(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:o,selectedReason:n}=this.props;return e||(t===g.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:o,selectedReason:n}):t===g.Zw.END?(0,_.jsx)(u.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:o,onCompletedBlock:n}=e;if(this.props.flow!==t)switch(t){case g.Zw.REPORT:o&&o();break;case g.Zw.BLOCK:n&&n()}}render(){const{accessibilityModalLabel:e,aggregated_rich_data_type:t,board:o,flagType:n,flow:i,status:s,modalTitle:r,onClose:l,pin:a,selectedReason:c,submitButton:d,flagReason:h,showPrimaryAction:p,users:m}=this.props;let f=t;if(!f&&a&&a.rich_metadata){const e=a.rich_metadata;["recipe","tutorial"].forEach((t=>{var o;e[t]&&e[t].from_aggregated_data&&null!==(o=e[t].additional_data)&&void 0!==o&&o.url&&(f=t)}))}return(0,_.jsx)(v.ZP,{accessibilityModalLabel:e,heading:r,onDismiss:l,size:"md",footer:i!==g.Zw.BLOCK?(0,_.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(w,{flagReason:h,flow:i})}),(0,_.jsx)(u.xu,{padding:1,children:i===g.Zw.REPORT?(0,_.jsx)(u.zx,{fullWidth:!0,onClick:void 0===h?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===h?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,_.jsx)(u.xu,{padding:1,children:(0,_.jsx)(y,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:c,showPrimaryAction:!!p,submitButton:d})})]}):void 0,children:(0,_.jsx)(u.xu,{children:i===g.Zw.BLOCK?(0,_.jsx)(b,{board:o,flagReason:h,flagType:n,onClose:l,selectedReason:c,status:s,users:m}):(0,_.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...f?{height:"389px"}:{}}},children:this.renderContent()})})})}}function T(e){const t=(0,l.ZP)();return(0,_.jsx)(j,{...e,i18n:t})}},129274:(e,t,o)=>{o.d(t,{N:()=>c,d:()=>a});var n=o(667294),i=o(425288),s=o(174798),r=o(785893);const{Provider:l,useHook:a}=(0,i.Z)("Flag"),c=({children:e})=>{const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(s.Zw.REPORT),[c,d]=(0,n.useState)(s.qb.STARTED),[u,_]=(0,n.useState)(),[h,p]=(0,n.useState)();return(0,r.jsx)(l,{value:{flagReason:h,flow:i,status:c,selectedReason:u,modalTitle:t,setFlagReason:p,setFlow:a,setModalTitle:o,setStatus:d,setSelectedReason:_},children:e})}},428837:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(966338),s=o(794230),r=o(155582),l=o(966113),a=o(898781),c=o(690468),d=o(129274),u=o(883119),_=o(174798),h=o(785893);const p=l.Z.settings.ABOUT_DMCA_PIN_URL,m="policies";const g=(0,i.connect)(null,(function(e){return{reportDidIt:(t,o,n,i,s)=>e((0,c.Th)(t,o,n,i,s))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:o,pinId:i,reportDidIt:l,username:c,users:g})=>{const f=(0,a.ZP)(),[x,b]=(0,n.useState)([]),[y,v]=(0,n.useState)(),[P,w]=(0,n.useState)(),{flow:A,modalTitle:C,selectedReason:E,setFlow:j,setModalTitle:T,setSelectedReason:I,setStatus:S,status:z}=(0,d.d)();(0,n.useEffect)((()=>{T((()=>{if(A===_.Zw.REPORT)switch(P){case"attacks":return f._('What\'s going on?', 'title for report content flow', 'title for report content flow');case m:return f._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return f._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return f._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(A===_.Zw.END&&x.includes("notUseful"))return f._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""})())}),[x,A,P]);const k=(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(S(_.qb.PROCESSING),"ignoreThisPin"===E)j(_.Zw.BLOCK),S(_.qb.STARTED);else{const o=[...x,E];b(o),l(e,o,t,y,c),x.includes("notUseful")?(j(_.Zw.END),S(_.qb.STARTED)):(j(_.Zw.BLOCK),S(_.qb.STARTED))}},text:f._('Report content', 'button to report content', 'button to report content')});return(0,h.jsx)(r.Z,{accessibilityModalLabel:f._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===P?(0,h.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,h.jsxs)(u.xu,{mdColumn:9,children:[(0,h.jsx)(u.xu,{padding:2,marginStart:2,children:(0,h.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:f._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.zx,{role:"link",href:(0,s.Z)(p,{pin_id:i,user_did_it_id:t}),color:"red",text:f._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:_.Vm.DID_IT,flow:A,modalTitle:C,onClose:o(!0),onNext:()=>{w(E),b([...x,E]),I()},onRevert:()=>{const e=x[x.length-1],t=x.slice(0,-1);I(e),w(t[t.length-1]),b(t),v(),S(void 0===e?_.qb.STARTED:_.qb.SELECTED)},onSelectReason:(e,t,o)=>{e&&(I(t),S(_.qb.SELECTED),v(o))},showPrimaryAction:"IP"!==P,submitButton:k,status:z,selectedReason:E,flagReason:P,users:g,flagOptionsConfig:{__default:[{text:f._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:f._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:m,isTerminalReason:!1},{text:f._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:f._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:f._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:f._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:f._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:f._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:f._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:f._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:f._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:f._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}))},224262:(e,t,o)=>{o.d(t,{b:()=>n,u:()=>i});const n={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",DANGEROUS_GOODS:"dangerous-goods",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MISINFORMATION:"misinformation",MISLEADING:"misleading-promoted",OFFENSIVE:"offensive-promoted",LOW_QUALITY:"low-quality-promoted",INTELLECTUAL_PROPERTY:"intellectualProperty",PRODUCT_OFFENSIVE:"offensive-product",PRODUCT_MISLEADING:"misleading-product",PRODUCT_PROHIBITED:"prohibited-product",PRODUCT_MATURE:"mature-product",PRODUCT_WEAPONS:"weapons-product",PRODUCT_RESTRICTED_HEALTHCARE:"restricted-healthcare-product",NETZDG:"netzdg",CONSPIRACY_THEORIES:"conspiracy-theories",MEDICAL_MISINFORMATION:"medical-misinformation",POLITICAL_MISINFORMATION:"political-misinformation"},i={spam:10583,nudity:10584,"self-harm":10585,"hate-speech":10586,"dangerous-goods":11479,attacks:10587,"graphic-violence":10588,"medical-misinformation":11150,intellectualProperty:10594,"low-quality-promoted":10591,"misleading-promoted":10589,"offensive-promoted":10590,"offensive-product":11452,"misleading-product":11453,"prohibited-product":11454,"mature-product":11455,"weapons-product":11456,"restricted-healthcare-product":11457,netzdg:11683,"conspiracy-theories":11762,"political-misinformation":11760,misinformation:11790}},174798:(e,t,o)=>{o.d(t,{Vm:()=>s,Zw:()=>n,qb:()=>i});const n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},s={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},342906:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(81226),i=o(898781),s=o(883119),r=o(785893);function l({duration:e}){const t=(0,i.ZP)();return(0,r.jsxs)(s.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(s.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"white",icon:"video-camera"}),(0,r.jsx)(s.xu,{marginStart:1,children:(0,r.jsx)(s.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,n.Z)(e)})})]})}},700622:(e,t,o)=>{o.d(t,{ZP:()=>A});var n=o(667294),i=o(23279),s=o.n(i),r=o(722767);function l(e){const{eventData:{videoEvent:{videoDuration:t,startTime:o,endTime:n,videoStartTime:i,videoEndTime:s,isAudible:r,height:l,width:a,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}},component:m,objectId:g,view:f,viewParameter:x,...b}=e;return{component:m,object_id_str:g,view_type:f,view_parameter:x,aux_data:{...b},event_data:{videoEventData:{videoDuration:t,time:o,endTime:n,videoTime:i,endVideoTime:s,isAudible:r,height:l,width:a,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}}}}var a=o(121630),c=o(800262),d=o(407043),u=o(131971),_=o(883119),h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",x={rootMargin:f,threshold:g},b={rootMargin:f,threshold:c.iM},y=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function v(){return(new Date).getTime()}function P(e){return!!e.volume&&e.volume>0}class w extends n.Component{constructor(e){super(e),p(this,"videoWrapperRef",(0,n.createRef)()),p(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:o}=this.currentInterval;e.height!==t||e.width!==o?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),p(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),p(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),p(this,"handleLoop",(()=>{this.videoTime=0})),p(this,"handleTimeChange",(e=>{const{seeking:t,ready:o}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,i=function(e,t,o,n){if(e>t)return null;if(o<=0)return null;for(const i of n){const n=i*o;if(e<=n&&t>n)return i}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof i&&this.props.playing&&!t&&o){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*i),quartilePercentValue:i})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),p(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),p(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),p(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),p(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const o=e.slice(-1)[0],n=function(e,t){for(let o=0;o<t.length;o+=1){const n=t[o],i=t[o+1];if(null==i)return n;if(n<=e&&e<i)return n}return null}(Number.parseFloat(o.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:y.PAUSED}):this.startNewInterval({viewability:n}))})),p(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),p(this,"handleClose",(()=>{this.startNewInterval()})),p(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=v();this.handleWindowResize=s()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const o={};P(e)&&!P(this.props)?o.isAudible=!1:!P(e)&&P(this.props)&&(o.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(o.playbackState=n),Object.keys(o).length>0&&this.startNewInterval(o)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?y.PLAYING:y.PAUSED:y.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const o=this.videoWrapperRef.current;o.clientHeight&&o.clientWidth&&(e=o.clientHeight,t=o.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:o,contextLogData:n,logContextEvent:i}=this.props,{height:s,width:r,windowHeight:a,windowWidth:c,viewability:d,...u}=t;if(null!=s&&null!=r&&null!=a&&null!=c&&null!=d){const t={...u,height:s,width:r,windowHeight:a,windowWidth:c,viewability:o||d};i({event_type:e,...l({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=v();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:s,accessibilityUnmuteLabel:l,aspectRatio:c,captions:d,contextLogData:p,controls:m,cropHeight:g,hlsConfig:f,inAdsDesktopVideoExperiment:y,isAutoPlay:v,loop:P,objectFit:w,onLoadedChange:A,onControlsPause:C,onControlsPlay:E,onSeek:j,onVolumeChange:T,playbackRate:I,playing:S,playsInline:z,poster:k,preload:D,rootMargin:R,src:O,surface:L,videoStartTime:F,volume:M}=this.props,{seeking:B}=this.state,N=y?b:x;return void 0!==R&&(N.rootMargin=L?(0,a.e)(L):R),(0,h.jsx)(r.Z,{options:N,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(_.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:s,accessibilityUnmuteLabel:l,aspectRatio:c,captions:d,contextLogData:p,controls:m,hlsConfig:f,isAutoPlay:v,loop:P,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:A,onLoop:this.handleLoop,onControlsPause:C,onControlsPlay:E,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:j,onTimeChange:this.handleTimeChange,onVolumeChange:T,playbackRate:I,playing:!B&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:z,poster:k,preload:D,src:O,videoStartTime:F,visible:this.visible,volume:M})})})}}function A(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(w,{...e,logContextEvent:t})}p(w,"defaultProps",_.nk.defaultProps)},674839:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(883119),s=o(785893);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const l={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class a extends n.PureComponent{constructor(...e){super(...e),r(this,"state",{hovered:!1}),r(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),r(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{bold:e,icon:t,text:o,description:n,descriptionColor:r="default",compact:a}=this.props,c=Array.isArray(o)?o.join(""):o;return(0,s.jsx)(i.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,s.jsxs)(i.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:c,children:[!a&&t&&(0,s.jsx)(i.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?(0,s.jsx)(i.JO,{accessibilityLabel:"",color:"default",dangerouslySetSvgPath:l,size:16}):(0,s.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:t,size:16})}),(0,s.jsxs)(i.xu,{alignItems:a?"center":"start",direction:a?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,s.jsx)(i.xv,{color:"default",size:a?"100":"200",weight:e?"bold":"normal",children:o}),(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:!a&&n&&(0,s.jsx)(i.xu,{marginBottom:2,marginTop:1,children:(0,s.jsx)(i.xv,{color:r,overflow:"normal",size:"100",children:n})})})]})]})})}}r(a,"defaultProps",{bold:!0})},166047:(e,t,o)=>{o.d(t,{n:()=>u});var n=o(820384),i=o(6637),s=o(728686),r=o(281615),l=o(509453),a=o(690468),c=o(434190);const d={[c.o.aggregatedComment]:"AggregatedCommentReplyResource",[c.o.pin]:"AggregatedCommentResource",[c.o.didIt]:"DidItCommentsResource"};function u({fromUnifiedComment:e,objectId:t,objectType:o,pinId:c,replyToCommentId:u,tags:_,text:h}){return async p=>{const m=d[o],g={objectId:t,pinId:c,tags:_,text:h,replyToCommentId:u};let f=r.DV.AGGREGATED_COMMENTS;e&&(f="pin"===o?r.DV.UNIFIED_COMMENTS:r.DV.AGGREGATED_COMMENT_REPLIES);const x=await i.ZP.create(m,g).callCreate({showError:!1}),b=x.resource_response.data;return p(function(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}(t,b)),p((0,n.Z)({feedType:f,feedId:t,itemIds:[b.id],itemType:b.type})),p("pin"===o&&c?(0,l.R)(c,1):"aggregatedComment"===o?(0,s.Z)(t,1):(0,a.L8)(t,1)),b.id||x}}},458237:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(674578),i=o(6637),s=o(728686),r=o(394107),l=o(281615),a=o(509453),c=o(690468);function d({aggregatedCommentId:e,aggregatedPinId:t,feedType:o,parentId:d,type:u,updateParentCommentCount:_}){return async h=>{const p=await i.ZP.create("AggregatedCommentResource",{commentId:e}).callDelete({showError:!1});return h((0,n.Z)({feedId:t||d,feedType:o||l.DV.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"})),h(function(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}(d,e)),_&&(u||0===u)&&(u===r.Rv.TOP?h((0,a.R)(d,-1)):u===r.Rv.REPLY_TO_AGGREGATED?h((0,s.Z)(d,-1)):h((0,c.L8)(d,-1))),p}}},910325:(e,t,o)=>{function n(e){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:e}}}function i(e){return{type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:e}}}o.d(t,{V:()=>i,y:()=>n})},495855:(e,t,o)=>{o.d(t,{Pd:()=>r,SL:()=>i,f9:()=>s,nI:()=>a,rK:()=>l});var n=o(6637);function i({commentId:e,tags:t,text:o}){return i=>n.ZP.create("AggregatedCommentResource",{commentId:e,tags:t,text:o}).callUpdate({showError:!1}).then((n=>{const{tagged_users:s}=n.resource_response.data,r=s.map((e=>Object.assign({},e)));i({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:e,tagged_users:r,tags:JSON.parse(t),text:o}}})}))}function s({aggregatedCommentId:e,isLikedByMe:t}){return o=>{const i=n.ZP.create("AggregatedCommentLikeResource",{aggregatedCommentId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:e,reaction_by_me:t?0:1}}})}}function r({aggregatedCommentId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.ZP.create("HelpfulResource",{helpfulModelType:1,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:e,marked_helpful_by_me:!t}}})}}function l({aggregatedCommentId:e,pinId:t,isHighlighted:o}){return i=>{const s=n.ZP.create("AggregatedCommentHighlightResource",{aggregatedCommentId:e,pinId:t});return o?s.callDelete({showError:!1}):s.callCreate({showError:!1}),i({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:e,pin_id:t,is_highlighted:!o}}})}}function a({userId:e,featureMap:t}){return o=>{n.ZP.create("AggregatedCommentFeaturesResource",{userId:e,featureMap:t}).callUpdate({showError:!1}).then((({resource_response:{data:e}})=>{o(function(e){return{type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:e}}}({featureMap:e}))}))}}},728686:(e,t,o)=>{function n(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}o.d(t,{Z:()=>n})},343795:(e,t,o)=>{o.d(t,{K:()=>i});var n=o(6637);function i(e){return t=>function(e){return n.ZP.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,o)=>{const n=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;n?t(n):o(new Error("No blocking actions found in the response"))}))))}(e).then((o=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:o}}),o)))}},412456:(e,t,o)=>{o.d(t,{Cf:()=>a,Jn:()=>l,OA:()=>i,pS:()=>s,q1:()=>r,xx:()=>c});var n=o(6637);function i(e,t){return n.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return n.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function r(e,t){return o=>n.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((()=>{}))}function l(e,t,o){return async t=>{const{invited_user:i,status:s,board:{id:r}}=e;i&&await n.ZP.create("accepted"===s?"BoardCollaboratorResource":"BoardInviteResource",{ban:o,board_id:r,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}function a(e,t){return async o=>{await n.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),o(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function c(e,t){return async o=>{await n.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),o(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}},293880:(e,t,o)=>{o.d(t,{A8:()=>r,Cr:()=>l,ZP:()=>a,oG:()=>i,xQ:()=>s});var n=o(379725);const i=(e,t)=>o=>o((0,n.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})),s=e=>i(e,"pin_count"),r=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),l=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),a=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},683190:(e,t,o)=>{o.d(t,{Fi:()=>f,K8:()=>u,Tq:()=>c,YV:()=>m,eo:()=>h,oL:()=>d,wN:()=>_,xH:()=>g,xk:()=>p});var n=o(280773),i=o(6637),s=o(203997),r=o(281615),l=o(379725),a=o(501817);function c(e,t){return(0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function d(e={},t,o){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:o}}function u(e){return t=>{e&&(0,a.Q)(e).forEach((e=>{t(e)}))}}function _(e,t){return o=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...t?{orbac_subject_id:t}:Object.freeze({}),...n};return o({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),i.ZP.create("BoardResource",r).callUpdate().then((t=>{const n=t&&t.resource_response&&t.resource_response.data||e;o((0,s.y)(n))}))}}function h(e){return{type:"BOARD_DELETE",payload:{boardId:e}}}function p(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate())}function m(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callDelete())}function g(e,t){return o=>i.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((()=>Promise.all([o(h(e)),o(c(t,"pin_count")),o((0,n.Z)(r.DV.BOARD_SECTIONS,t))])))}function f(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},39951:(e,t,o)=>{o.d(t,{Y:()=>s,w:()=>i});var n=o(6637);function i({didItDataId:e,isLikedByMe:t}){return o=>{const i=n.ZP.create("DidItLikeResource",{didItDataId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function s({didItDataId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.ZP.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}},280773:(e,t,o)=>{function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}o.d(t,{Z:()=>n})},993404:(e,t,o)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}o.d(t,{Z:()=>n})},820384:(e,t,o)=>{function n(e){return{type:"FEED_ITEMS_ADDED",payload:e}}o.d(t,{Z:()=>n})},674578:(e,t,o)=>{function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}o.d(t,{Z:()=>n})},273022:(e,t,o)=>{function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>i,m:()=>n})},509453:(e,t,o)=>{function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}o.d(t,{R:()=>n})},260923:(e,t,o)=>{o.d(t,{Q:()=>s,a:()=>i});var n=o(6637);function i(e,t){return async o=>{const{resource_response:i}=await n.ZP.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return o(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),i}}function s(e){return async t=>{const{resource_response:o}=await n.ZP.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:i}=o;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(i.id,i.tagged_users)),o}}},551154:(e,t,o)=>{function n(e){return{type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:e}}}function i(){return{type:"VIEWED_OWN_PROFILE"}}o.d(t,{ab:()=>n,wM:()=>s,z5:()=>i});const s=e=>({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:e}})},262534:(e,t,o)=>{function n(e,t,o){return{type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:o}}}function i(e){return{type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e}}o.d(t,{a:()=>i,d:()=>n})},310214:(e,t,o)=>{function n(e,t){let o="PIN_SHOW_SUGGESTED_CREATOR_RECS";return"profile"===t&&(o="USER_SHOW_SUGGESTED_CREATOR_RECS"),{type:o,payload:{id:e,value:!0}}}o.d(t,{V:()=>n})},841707:(e,t,o)=>{o.d(t,{Z:()=>n});const n={USER_BLOCK:"USER_BLOCK"}},984644:(e,t,o)=>{o.d(t,{G:()=>l,h:()=>a});var n=o(6637),i=o(841707),s=o(910325);const r=(e,t)=>({type:i.Z.USER_BLOCK,payload:{id:e,isUserBlocked:t}}),l=e=>t=>{n.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate(),t(r(e,!0)),t((0,s.V)(e))},a=e=>t=>{const o=n.ZP.create("UserBlockResource",{blocked_user_id:e});return t(r(e,!1)),o.callDelete()}},690468:(e,t,o)=>{o.d(t,{DD:()=>d,lg:()=>u,Th:()=>h,IU:()=>_,L8:()=>c});var n=o(820384),i=o(674578),s=o(6637);const r={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"};var l=o(281615);function a(e){return{type:r.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function c(e,t){return{type:r.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function d({aggregatedPinDataId:e,details:t,fromUnifiedComment:o,image_signatures:i,pin_id:a,username:d,updateParentDidItCount:u}){const _={aggregatedPinDataId:e,details:t,image_signatures:i,pin_id:a};return t=>s.ZP.create("DidItActivityResource",_).callCreate().then((i=>{const s=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:a,value:!0}}),t({type:r.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:s}}),t((0,n.Z)({feedId:e,feedType:o?l.DV.UNIFIED_COMMENTS:l.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),t((0,n.Z)({feedId:d,feedType:l.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),u&&t(c(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:o,isOwnedByMe:n,pinId:r,username:d,updateParentDidItCount:u}){return _=>{s.ZP.create("DidItActivityResource",{user_did_it_data_id:o,pinId:r}).callDelete().then((s=>{n&&_(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(r)),_(a(o)),_((0,i.Z)({feedId:null!=e?e:"",feedType:t||l.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,i.Z)({feedId:d,feedType:l.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,i.Z)({feedId:d,feedType:l.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&_(c(o,-1))}),(()=>{}))}}function _({id:e,details:t,image_signatures:o,pinId:n}){const i={details:t,image_signatures:o,user_did_it_data_id:e,pin_id:n};return e=>{s.ZP.create("DidItActivityResource",i).callUpdate().then((t=>{const o=t.resource_response.data;e(function(e){return{type:r.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}(o))}),(()=>{}))}}function h(e,t,o,n,r){const c={reason:n,detailed_reasons:t,user_did_it_data_id:o};return t=>{s.ZP.create("DidItActivityFlagResource",c).callCreate().then((()=>{t(a(o)),t((0,i.Z)({feedId:e,feedType:l.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),t((0,i.Z)({feedId:r,feedType:l.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"}))}),(()=>{}))}}},434190:(e,t,o)=>{o.d(t,{Z:()=>u,o:()=>a});var n=o(618446),i=o.n(n),s=o(682492),r=o.n(s),l=o(338739);const a={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},c={feature_map:{}},d=(e,t)=>{const o={...r()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return i()(e,o)?e:o},u=(e=c,t)=>{if(t.type===l.zP||t.type===l.aW){const{payload:{resource:o}}=t,n=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){const t=(n||[]).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&n&&n.length>0){const t=n.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&n&&n.length>0){const t=n[0].aggregated_comment,o=t?{[t.id]:d(e[t.id],t)}:{},i=n[0].creator_reply,s=i?{[i.id]:d(e[i.id],i)}:{};return{...e,...o,...s}}if("AggregatedCommentFeaturesResource"===o&&n&&Object.keys(n).length>0)return{...e,feature_map:n}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:o}}=t;return{...e,[o.id]:o}}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:o}}=t,n={...e};return delete n[o],n}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==o})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:o}}=t;return{...e,[o.id]:d(e[o.id],o)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.reaction_counts[1]||0,s={1:o.reaction_by_me?i+1:i-1},r={...n,reaction_by_me:o.reaction_by_me,reaction_counts:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.helpful_count||0,s=o.marked_helpful_by_me?i+1:i-1,r={...n,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:o}}=t,n={...e[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:n}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e.feature_map,...o}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:o,id:n}}=t,i=e[n],s={...i,comment_count:i.comment_count+o};return{...e,[n]:s}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:o,tagged_users:n}}=t,i={...e[o],tagged_users:n};return{...e,[o]:i}}}return e}},281615:(e,t,o)=>{o.d(t,{DV:()=>l,ZP:()=>u,zX:()=>d});var n=o(467119),i=o(648284),s=o(588028),r=o(338739);const l={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregatedCommentReplies",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},a={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:l.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:l.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?l.AGGREGATED_COMMENT_REPLIES:l.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:l.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:l.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:l.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:l.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:l.PROFILE_BOARDS,id:(0,s.O)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:o,filters:s,query_pin_sigs:r,query:a,user:c},response:d})=>{var u;return{type:l.SEARCH_PINS,id:(0,i.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:s,query:a,selectedPinImgSig:r,scope:o,user:c}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,n.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:l.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:l.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:l.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:l.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:l.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:l.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:l.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:l.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:l.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:l.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},c={aggregatedComments:{},aggregatedCommentReplies:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function d(e,t,o){const n=[...e],i=n.splice(t,1)[0];return n.splice(o,0,i),n}const u=(e=c,t)=>{switch(t.type){case r.zP:case r.aW:{var o;const{payload:n}=t,i=n.response.resource_response.data;if(null===(o=n.options)||void 0===o||!o.redux_normalize_feed)return e;const s=a[n.resource](n);if(s){const{type:o,id:n,items:a,reversed:c}=s;let d=(a||i||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===l.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,o)));c&&(d=d.reverse());const u=e[o][n];if(u||t.type!==r.aW){const i=u||[];let s=d;return t.type===r.aW&&(s=c?d.concat(i):i.concat(d)),{...e,[o]:{...e[o],[n]:s}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:o,feedId:n,itemType:i,targetItemId:s,sourceItemId:r}}=t,a=e[o]||{},c=a[n]||[];let u=-1,_=-1;if([l.BOARD_PINS,l.SECTION_PINS,l.BOARD_SECTIONS,"profileBoards"].includes(o)&&(u=c.findIndex((e=>e.type===i&&e.id===r)),_=c.findIndex((e=>e.type===i&&e.id===s))),-1!==u&&-1!==_)return{...e,[o]:{...a,[n]:d(c,u,_)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:o,feedId:n,inverseSelection:i,itemType:s,itemIds:r=[]}}=t,a=e[o]||{},c=a[n];if(c&&c.length>0&&(o===l.SECTION_PINS||o===l.BOARD_PINS)){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&(i&&!t||!i&&t))})),l=!!t.find((e=>"pin"===e.type));return{...e,[o]:{...a,[n]:l?t:[]}}}if(c&&c.length>0&&o===l.BOARD_SECTIONS){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[o]:{...a,[n]:t}}}if(c&&c.length>0&&(o===l.AGGREGATED_COMMENTS||o===l.BOARDLESS_PINS||o===l.CREATED_TAB_ACTIVITY_PINS_FEED||o===l.CREATED_TAB_STORY_PINS_FEED||o===l.UNIFIED_COMMENTS||o===l.USER_DID_IT_DATA||o===l.STORY_PIN_DATA)){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[o]:{...a,[n]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:o,feedId:n,itemType:i,itemIds:s=[],prepend:r}}=t,a=e[o]||{},c=a[n];if(c&&(o===l.SECTION_PINS||o===l.BOARD_PINS||o===l.BOARDLESS_PINS)){const t=s.map((e=>({id:e,type:i})));let r=0;"story"===(c[0]||{}).type&&(r=1),"story"===(c[1]||{}).type&&(r=2);const l=[...c.slice(0,r),...t,...c.slice(r)];return{...e,[o]:{...a,[n]:l}}}if(c&&o===l.BOARD_SECTIONS){const t=[...s].reverse().map((e=>({id:e,type:"board_section"}))),i=c?[...t,...c]:[...t];return{...e,[o]:{...a,[n]:i}}}if(o===l.AGGREGATED_COMMENTS||o===l.AGGREGATED_COMMENT_REPLIES||o===l.CREATED_TAB_ACTIVITY_PINS_FEED||o===l.CREATED_TAB_STORY_PINS_FEED||o===l.UNIFIED_COMMENTS){const t=s.map((e=>({id:e,type:i}))),l=c?[...r?t:c,...r?c:t]:t;return{...e,[o]:{...a,[n]:l}}}if(o===l.USER_DID_IT_DATA){const t=s.map((e=>({id:e,type:i}))),r=c?[...t,...c]:t;return{...e,[o]:{...e[o],[n]:r}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:o,feedId:n}}=t,i=e[o]||{};if(i[n])return{...e,[o]:{...i,[n]:null}};break}}return e}},247225:(e,t,o)=>{o.d(t,{E:()=>s,Z:()=>r});var n=o(957161);const i={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0},s="merchantStorefront.storefrontSettings.locale",r=(e=i,t)=>{switch(t.type){case"UPDATE_LOCALE_STOREFRONT_SETTING":return(0,n.Nh)(s,`${t.payload.country}/${t.payload.language}/${t.payload.feedProfileId}`),{...e,currentViewingLocale:t.payload};case"UPDATE_STOREFRONT_LAST_UPDATED":return{...e,lastUpdated:t.payload};default:return e}}},588028:(e,t,o)=>{o.d(t,{M:()=>i,O:()=>n});const n=(e,t)=>`${e}:${t||""}`,i=(e,t)=>e.feeds.profileBoards[n(t.username,t.boardOrder)]},217508:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r({backgroundColor:e="darkGray",iconColor:t="white",iconSize:o,size:r=20}){const l=(0,n.ZP)();return(0,s.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,s.jsx)(i.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=o?o:r/2})})}},155378:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(319915),s=o(172071),r=o(707853),l=o(6637),a=o(947599),c=o(941646),d=o(499128),u=o(50286),_=o(898781),h=o(784590),p=o(19121),m=o(349700),g=o(798748),f=o(407043),x=o(343341),b=o(883119),y=o(785893);const v=(0,n.lazy)((()=>Promise.all([o.e(80582),o.e(94545)]).then(o.bind(o,380582)))),P=new b.H3([r.Z]);function w({handleComplete:e,isNag:t}){const o=(0,u.ZP)(),r=(0,p.Z)(),{logContextEvent:w}=(0,f.v)(),A=(0,_.ZP)(),[C,E]=(0,n.useState)(!0),[j,T]=(0,n.useState)(!1),{showOneToast:I}=(0,x.F9)(),S=(0,h.Z)({name:"UserResource",options:{user_id:r.id||""}}),z="desktop"===o;(0,n.useEffect)((()=>{w({event_type:13,component:13716,view_type:474})}),[]);const k=(0,y.jsxs)(b.xv,{align:z?"start":"center",children:[A._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.nk)(A._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,y.jsx)(b.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(b.rU,{href:g._I,inline:!0,target:"blank",underline:"hover",children:A._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),D=(0,y.jsxs)(b.kC,{direction:z?"row":"column",gap:z?2:4,children:[(0,y.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,element:11984}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}),l.ZP.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}).callUpdate().then((()=>{S.refresh(),I((({hideToast:e})=>(0,y.jsx)(d.ZP,{duration:3e3,onHide:e,text:A._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:z?"lg":"md",text:A._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,y.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,element:11985}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}),l.ZP.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}).callUpdate().then((()=>{S.refresh(),I((({hideToast:e})=>(0,y.jsx)(d.ZP,{duration:3e3,onHide:e,text:A._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:z?"lg":"md",text:A._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,y.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,element:11986}),T(!0),z||E(!1)},size:z?"lg":"md",text:A._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,y.jsxs)(n.Fragment,{children:[C&&(z?(0,y.jsx)(b.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:(0,y.jsxs)(b.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[(0,y.jsx)(b.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:k}),(0,y.jsx)(b.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:D})]})}):(0,y.jsx)(b.mh,{zIndex:P,children:(0,y.jsx)(b.xu,{bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,y.jsxs)(b.xu,{alignItems:"center",borderStyle:"shadow",color:"white",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[k,(0,y.jsx)(b.xu,{marginTop:4,minWidth:240,children:D})]})})})),j&&(0,y.jsx)(i.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,y.jsx)(a.Z,{children:(0,y.jsx)(c.Z,{id:"settings-modal",children:(0,y.jsx)(v,{dismissIcon:"cancel",onClose:()=>T(!1),handleComplete:e})})})})]})}},918301:(e,t,o)=>{o.d(t,{CB:()=>h,y9:()=>_});var n=o(667294),i=o(121151),s=o(6637),r=o(898781),l=o(883119),a=o(785893);const c=({onConfirm:e})=>{const t=(0,r.ZP)(),[o,c]=(0,n.useState)(!1),d=()=>{c(!0),s.ZP.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,a.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,a.jsxs)(l.kC,{justifyContent:"end",gap:2,children:[o?(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:o,onClick:d}):(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:o,onClick:d}),(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,a.jsx)(l.xu,{padding:8,children:(0,a.jsx)(l.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};var d=o(425288);const{Provider:u,useHook:_}=(0,d.Z)("EmailVerificationReminderModal");function h({children:e}){const[t,o]=(0,n.useState)(!1);return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(u,{value:{showEmailVerificationReminderModal:()=>{o(!0)}},children:e}),t&&(0,a.jsx)(c,{onConfirm:()=>{o(!1)}})]})}},558068:(e,t,o)=>{o.d(t,{H:()=>a,n:()=>u});var n=o(667294),i=o(425288),s=o(925927),r=o(785893);const{Provider:l,useHook:a}=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var o;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(o=e.current)||void 0===o?void 0:o.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u({children:e}){const t=(0,s.k6)(),o=(0,s.TH)(),i=(0,s.$B)(),a={forward:[],current:{action:t.action,location:o,match:i},previous:[]},[c,u]=(0,n.useReducer)(d,a);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:o,match:i})}),[o]),(0,r.jsx)(l,{value:c,children:e})}},77601:(e,t,o)=>{o.d(t,{Z:()=>i});const n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:t,run:o}){const i=n();let s=0,r=null;const l=()=>{const a=n()-i,c=a-s;if(t===1/0)o(0,a,c);else{const e=a/t;if(e>=1)return void o(1,a,c);o(e,a,c)}s=a,r=e.requestAnimationFrame(l)};return{start:()=>{r=e.requestAnimationFrame(l)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},366284:(e,t,o)=>{o.d(t,{G6:()=>s,i7:()=>r,oi:()=>n,u$:()=>i,un:()=>a,vU:()=>l});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function s(e){return i(e)===n.SAFARI}function r(e){return i(e)===n.CHROME}function l(e){return i(e)===n.FIREFOX}function a(e){return i(e)===n.EDGE}},752403:(e,t,o)=>{o.d(t,{Bu:()=>b,Dm:()=>l,Fp:()=>p,I:()=>P,NG:()=>g,QP:()=>u,S4:()=>c,Xe:()=>_,_f:()=>f,eT:()=>y,hm:()=>v,k$:()=>h,lz:()=>m,st:()=>d,yQ:()=>a,ym:()=>A});var n=o(642345);const i=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),s=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(i).map((e=>i[e])),...Object.keys(s).map((e=>s[e]))],a=[...Object.keys(r).map((e=>r[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],_={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="storefront_inspirational_badges_web",p="storefront_inspirational_badges_colors",m="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile",x=["US"];function b({areBadgesEnabled:e,country:t,verifiedMerchant:o}){var n,i;const s=null==o?void 0:o.isVerifiedMerchant,r=null==o||null===(n=o.inspirational_signal)||void 0===n?void 0:n.is_inspirational,l=null==o||null===(i=o.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(e&&s&&r&&l&&!!t&&x.includes(t.toUpperCase()))}function y(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function v(e){return e.profile_badges||[]}function P(e,t,o){return t&&o?t.map((e=>o.find((t=>t.id===e.trim())))).filter(Boolean):[]}function w(e){const t=(0,n.oo)(e);if(!t)return"white";const[o,i,s]=t;return(0,n.DW)(o,i,s)<=n.I?"white":"black"}function A(e){const t=e||u[0];return{backgroundColor:t,color:w(t)}}},834911:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(835209),i=o(341732);function s({pin:e,shouldUnifyImageSizes:t,additionalImages:o}){const s=(0,n.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return s&&o&&o.length>0?(0,i.Z)(null,o,e.carousel_data&&e.carousel_data.index,t,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,i.Z)(e.images,s.additional_images,e.carousel_data&&e.carousel_data.index,t,s.id):e&&e.carousel_data}},642345:(e,t,o)=>{o.d(t,{DW:()=>l,I:()=>r,oo:()=>s,vq:()=>i});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},i=(e,t,o)=>"#"+n(e)+n(t)+n(o),s=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,l=(e,t,o)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(o/255)**2.2},367216:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(391254),s=o(898781),r=o(883119),l=o(785893);function a({onClick:e,onAnchorRefSet:t,isEmojiTrayOpen:o}){const[a,c]=(0,n.useState)(!1),d=(0,r.JZ)(),u=(0,s.ZP)(),_=a&&!d?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",color:o?"lightGray":"transparent",rounding:"circle",children:(0,l.jsxs)(r.iP,{accessibilityLabel:u._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),rounding:"circle",onTap:()=>{null==e||e()},fullWidth:!1,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[(0,l.jsx)(i.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,l.jsx)(r.xu,{ref:t,display:"flex",alignContent:"center",dangerouslySetInlineStyle:{__style:_},width:24,height:30,children:"😃"})]})})}},81636:(e,t,o)=>{o.d(t,{Q:()=>l,Z:()=>a});var n=o(667294),i=o(112690),s=o(780280),r=o(385740);function l(e,t){const{setViewContextData:o}=(0,r.sV)(),{requestIdentifier:l}=(0,s.B)(),a=(0,i.Z)();(0,n.useEffect)((()=>{var t;e&&(o({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),a({...e,event_type:13,request_identifier:l}))}),[t])}function a(e){const{children:t,log:o}=e;return l(o),t||null}},385740:(e,t,o)=>{o.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("View");let a;function c(){return a}function d({children:e,initialState:t={}}){const[o,i]=(0,n.useState)(t),l=(0,n.useMemo)((()=>({clearViewContextData:()=>{a={},i({})},setViewContextData:e=>{a={...a,...e},i((t=>({...t,...e})))}})),[]);return(0,s.jsx)(n.Fragment,{children:(0,s.jsx)(r,{value:{viewContextData:o,...l},children:e})})}function u(){const{viewContextData:e}=l();return e}},782534:(e,t,o)=>{o.d(t,{Z:()=>r,k:()=>i.k});var n=o(780280),i=o(451820),s=o(785893);const r=({dateFormatType:e,useUTC:t=!0,value:o})=>(0,s.jsx)(n.LC,{children:n=>(0,i.Z)(n.locale,o,e,t)})},202139:(e,t,o)=>{o.d(t,{DH:()=>n,F4:()=>r,FS:()=>i,N1:()=>d,N9:()=>a,UK:()=>s,VL:()=>l,v6:()=>c});const n=1e3,i=60*n,s=60*i,r=24*s,l=7*r,a=30*r,c=31*r,d=365*r},966476:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(973935);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class r extends n.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const l=r},11363:(e,t,o)=>{o.d(t,{Bx:()=>i,N4:()=>r,is:()=>l,lt:()=>n,oM:()=>s});const n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),l=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},780679:(e,t,o)=>{o.d(t,{g:()=>r,t:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider,r=()=>(0,n.useContext)(i)},946984:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(11363),s=o(154391);const r=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:o,limitedLoginModalSubheader:r}=(0,s.H)(),{shouldStopEventPropagation:l}=e,a="AUTH"===o.type,c=(0,n.ZP)();return a?e=>e:(e,o)=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),l&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0),r&&(o?r.setText(o):r.setText((0,i.lt)(c)))}}},121093:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(966338),s=o(332611),r=o(242923);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:o,viewExperience:n,viewExperienceObject:i}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",i(e)):o?n(e.placement_id,e.experience_id,o):n(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:o,experience:n,isBackendExperience:i,preventRemoval:s,targeting:r}=this.props,l=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:a}=n||{},c=s||2===l;(1===l||c)&&e&&a&&(i?o(n,c):r?t(e,a,c,r):t(e,a,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,a]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:o,isBackendExperience:n,preventRemoval:i,targeting:s}=this.props,{placement_id:r,experience_id:l}=o||{};o&&!this.state.hasDismissed.includes(l)&&(n?t(o):s?e(r,l,!!i,s):e(r,l,!!i),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:o,predicate:n,transitionType:i}=this.props,{experience_id:s,type:r}=e;if(t&&t.includes(s))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(o&&o.includes(r))return!0;if(i&&i===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,o=this.props.experience;o&&this.shouldRenderExperience()&&(t&&t.experience_id===o.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:o}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...o?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}l(a,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,i.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,o,n,i)=>e((0,s.CK)(t,o,n,!1,{},i)),completeExperienceObject:(t,o)=>e((0,r.Tl)(t,o)),dismissExperience:(t,o,n,i)=>e((0,s.Qu)(t,o,n,void 0,i)),dismissExperienceObject:t=>e((0,r.CF)(t)),viewExperience:(t,o,n)=>e((0,s.UT)(t,o,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,r.dy)(t))})))(a)},701500:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(249647),s=o(570470),r=o(883119),l=o(785893);class a extends n.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:o,zIndex:n}=this.props;return(0,l.jsx)(s.Z,{anchor:e,onTouch:t,onMouseEnter:o,zIndex:n})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:o,handleComplete:n}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:s,mainText:a,idealDirection:c="down"}=t,d=i&&o&&s&&n;return(0,l.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:c,onDismiss:o,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,l.jsxs)(r.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,l.jsx)(r.xv,{color:"inverse",overflow:"breakWord",weight:"bold",children:a}),d?(0,l.jsxs)(r.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,l.jsx)(r.xu,{column:6,marginEnd:1,children:(0,l.jsx)(r.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>o(e),size:"md",text:String(i)})}),(0,l.jsx)(r.xu,{column:6,children:(0,l.jsx)(r.zx,{fullWidth:!0,color:"white",size:"md",text:String(s),onClick:n})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var c=o(70061),d=o(764990),u=o(123159);function _({anchor:e,anchorElementRef:t,children:o,containerBoxConfig:s,experience:_,isHidden:h,onCompleteClick:p,zIndex:m}){var g;const{completeExperience:f,dismissExperience:x,experiences:b,viewExperience:y}=(0,u.M)(),v=(({anchor:e,anchorExperiences:t,passedExperience:o})=>o||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(b).reduce(((e,t)=>(8===t.type&&(e[(0,d.A0)(t)]=t),e)),{}),passedExperience:_}),P=(null==v||null===(g=v.display_data)||void 0===g?void 0:g.delay)||0,[w,A]=(0,n.useState)(!!P);if((0,n.useEffect)((()=>{if(P>0&&w){const e=setTimeout((()=>{A(!1)}));return()=>clearTimeout(e)}return()=>{}}),[P,w]),(0,n.useEffect)((()=>{!w&&v&&y(v.placement_id,v.experience_id)}),[w,v]),!v||w||h)return n.Children.only(o);const C=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,i.Z)(c.Z,!0)(t)})(v),E=()=>{var e;null!==(e=v.display_data)&&void 0!==e&&e.complete_on_hover&&f(v.placement_id,v.experience_id)};return(0,l.jsxs)(r.xu,{position:"relative",height:null==s?void 0:s.height,display:null==s?void 0:s.display,children:[(0,l.jsx)(r.iP,{onMouseEnter:E,onTap:()=>{p&&p(),C.skipComplete||f(v.placement_id,v.experience_id)},children:n.Children.only(o)}),(0,l.jsx)(a,{anchor:t||null,handlePulsarCompleteOnHover:E,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),x(v.placement_id,v.experience_id)},pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,tooltipOnly:!!C.tooltipOnly,zIndex:m})]})}},123159:(e,t,o)=>{o.d(t,{F:()=>_,M:()=>u});var n=o(667294),i=o(966338),s=o(708206),r=o(957191),l=o(425288),a=o(332611),c=o(785893);const{Provider:d,useHook:u}=(0,l.Z)("ExperienceContext");function _({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const o={...e};return delete o[t.payload],o}return e}),{}),l=(0,i.useDispatch)(),u=(0,i.useSelector)((e=>e.experiences)),_=(0,n.useMemo)((()=>{const e=(0,s.bindActionCreators)({completeExperience:a.CK,dismissExperience:a.Qu,fetchAllExperiences:a.fO,fetchAllExperiencesMulti:r.NW,fetchExperienceForPlacements:a.pz,mountPlacement:a.N,triggerExperimentsForPlacement:a.kd,viewExperience:a.UT},l);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),o({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{o({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[l,o]);return(0,c.jsx)(d,{value:{experiences:u,mountedPlacements:t,..._},children:e})}},333312:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(121093),s=o(570470),r=o(883119),l=o(785893);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class c extends n.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),a(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:o,idealDirection:n}=this.props,i=o.slice(-3);return(0,l.jsx)(r.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((e=>(0,l.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,l.jsx)(r.zd,{rounding:2,height:60,children:(0,l.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,o){return t&&e.text.replace("{boardName}",t),o?o(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:o,boardTextOverride:a,flyoutSize:d,fontSize:u,hasFullWidthButton:_=!0,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:x,positionRelativeToAnchor:b,shouldTimeoutDismiss:y,showCaret:v,textAlign:P,textOverflow:w,textOverrideFn:A,textWeight:C,customizedComplete:E,pulsarZIndex:j}=this.props,T=t||(({children:e})=>p?(0,l.jsx)(r.mh,{children:e}):e),I="blue";return(0,l.jsx)(i.Z,{eligibleIds:o,placementId:x,eligibleTypes:[8],children:({complete:t,dismiss:o,experience:{display_data:i}})=>(this.setDefaultPulsarTooltip(i),i.has_pulsar||i.has_tooltip?(y&&i.disappearTime&&i.disappearTime>0&&(this.timer=setTimeout((()=>(o(),null)),i.disappearTime)),(0,l.jsxs)(n.Fragment,{children:[i.has_pulsar&&(0,l.jsx)(s.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(i.has_tooltip,t),paused:this.state.paused,zIndex:j&&j.index()}),i.has_tooltip&&(!i.has_pulsar||this.state.paused)&&(i.thumbnail_urls?(0,l.jsx)(c,{anchor:e,dismiss:o,idealDirection:h||"down",text:i.text,thumbnails:i.thumbnail_urls}):(0,l.jsx)(T,{children:(0,l.jsx)(r.J2,{anchor:e,color:I,idealDirection:h||"down",onDismiss:m?()=>{}:o,positionRelativeToAnchor:!p&&b,shouldFocus:!1,showCaret:v,size:d,children:(0,l.jsxs)(r.xu,{column:12,padding:3,children:[(0,l.jsx)(r.xv,{align:"right"===P?"end":P,color:"inverse",overflow:w,size:u,weight:C||"bold",children:this.getText(i,a,A)}),i.sub_text&&(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.xv,{color:"inverse",size:u,children:i.sub_text})}),(i.dismiss_button_text||i.complete_button_text)&&(0,l.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[i.dismiss_button_text&&(0,l.jsx)(r.xu,{marginEnd:1,column:6,children:(0,l.jsx)(r.zx,{fullWidth:_,color:I,onClick:()=>{f&&f(),o()},size:"md",text:i.dismiss_button_text})}),i.complete_button_text&&(0,l.jsx)(r.xu,{column:i.dismiss_button_text?6:12,children:E?(0,l.jsx)(r.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,l.jsx)(r.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,l.jsx)(r.xv,{color:"shopping",weight:"bold",children:i.complete_button_text})})}):(0,l.jsx)(r.kC,{justifyContent:"center",children:(0,l.jsx)(r.zx,{fullWidth:_,color:"white",href:i.complete_button_cta_url,role:i.complete_button_cta_url?"link":"button",size:"md",target:i.complete_button_cta_url?"blank":null,text:i.complete_button_text,onClick:()=>{t(),g&&g()}})})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},636803:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(121093),i=o(839534),s=o(785893);const r=({anchors:e,idealDirection:t,onCompleteByAnchor:o,placementId:r,positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})=>(0,s.jsx)(n.Z,{placementId:r,predicate:t=>{const{display_data:o}=t;if(2===(null==o?void 0:o.component_type)){const{anchors_by_platform:t}=o;if(null!=t&&t.web){const{anchor:o,placement:n}=t.web;return n===r&&o in e}}return!1},children:({complete:n,dismiss:r,experience:d})=>(0,s.jsx)(i.Z,{anchors:e,complete:n,dismiss:r,displayData:d.display_data,idealDirection:t,onCompleteByAnchor:o,platform:"web",positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})})},332611:(e,t,o)=>{o.d(t,{CK:()=>_,N:()=>f,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>p,fO:()=>a,kd:()=>m,pz:()=>c});var n=o(6637),i=o(764990),s=o(172071),r=o(957191);let l;const a=(e,t)=>o=>{const i=t?{extra_context:e,targeting:t}:{extra_context:e};return n.ZP.create("UserExperiencePlatformResource",i).callGet().then((e=>e.resource_response?o((0,r.OD)(e.resource_response.data)):void 0))},c=(e,t,o,s)=>(a,c)=>{if(t)return Promise.resolve();if(s&&(l=s),1===e.length){const t=e[0],n=c().experiences[t],s=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(s)===JSON.stringify(o)||(0,i.E3)(n)&&!(o&&Object.keys(o).length>0))return Promise.resolve()}return n.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:o||null,targeting:s}).callGet().then((e=>e.resource_response?a((0,r.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(o,i,s,c=!1,d,u)=>(_,h)=>{const{experiences:p,experiencesMulti:m}=h();let g=null,f=!0;var x;c||(f=p[o]&&p[o].experience_id===i,g=f?p[o]:Array.isArray(m[o])&&(null===(x=m[o])||void 0===x?void 0:x.find((e=>e.experience_id===i))));if(g&&g.experience_id===i||c&&o&&i){const c=n.ZP.create(e,{placed_experience_id:`${o}%3A${i}`,extra_context:null!=d?d:{},targeting:u}),h=f?r.Yb:r.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{_(h(o,i,t)),_(a(void 0,l))}));case"completed":return c.callUpdate().then((()=>{s||(_(h(o,i,t)),_(a(void 0,l)))}));case"viewed":return _(h(o,i,t)),c.callUpdate().then((()=>{1000162===o&&_(a())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{s||_(h(o,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),_=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),p=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(o,i)=>{const{experiences:r}=i(),l=r[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach((o=>{const[,i]=o.split(":");let r=t;l.metadata&&l.metadata[i]&&(r=Object.assign({},t,l.metadata[i])),n.ZP.create("UserExperienceTriggerResource",{placed_experience_id:o.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,o={})=>{s.Z.increment(`${e}.${t}`,1,o)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})}))}))},g=e=>(t,o)=>{t(m(e));const{experiences:n}=o();return n[e]},f=(e,t,o)=>n=>{o&&(l=o),n(m(e,t)),t&&Object.keys(t).length>0&&n(c([e],!1,t,o))}},242923:(e,t,o)=>{o.d(t,{CF:()=>l,Tl:()=>r,dy:()=>a});var n=o(6637),i=o(332611);const s=(e,t)=>(o,s)=>r=>{if(o&&o.id){const l=n.ZP.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{r((0,i.fO)())}));break;case"completed":l.callUpdate().then((()=>{s||r((0,i.fO)())}));break;case"viewed":l.callUpdate()}}},r=s("UserExperienceCompletedResource","completed"),l=s("UserExperienceResource","dismissed"),a=s("UserExperienceViewedResource","viewed")},764990:(e,t,o)=>{function n(e){return!!e&&0!==e.type}o.d(t,{A0:()=>s,E3:()=>n,MQ:()=>i});const i=(e,t,o)=>{const i=e[o];return t[o]&&n(i)?i:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,o)=>{o.d(t,{$S:()=>n,V$:()=>i,_4:()=>r,iY:()=>l,mR:()=>s});const n="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:(e,t,o)=>{o.d(t,{NW:()=>r,OD:()=>a,Yb:()=>l,cL:()=>c,xW:()=>s});var n=o(6637),i=o(207737);const s=(e,t,o)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:o}}),r=e=>t=>n.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:o}})):void 0;var o})),l=(e,t,o)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:o}}),a=e=>({type:i._4,payload:{experiences:e}}),c=e=>({type:i.mR,payload:{experiences:e}})},570470:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(883119),s=o(785893);function r({anchor:e,children:t,zIndex:o}){const r=(0,n.useRef)(null),[l,a]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),{height:u,width:_}=e.getBoundingClientRect();return(0,n.useEffect)((()=>{const{current:t}=r;if(e&&t){const{height:e,width:o}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:i}=((e,t,o,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(o/2-e/2)}))(u,_,e,o);a(n),d(i)}})),(0,s.jsx)(i.xu,{position:"absolute",zIndex:o?new i.Ry(o):void 0,dangerouslySetInlineStyle:{__style:{left:l,top:c}},ref:r,children:t})}const l=function(e){const{anchor:t,onTouch:o,onMouseEnter:n,paused:l,size:a,zIndex:c}=e;return t?(0,s.jsx)(r,{anchor:t,zIndex:c,children:(0,s.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>o(e),onMouseEnter:n,rounding:"circle",children:(0,s.jsx)(i.o3,{paused:l,size:a})})}):null}},839534:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(570470),s=o(883119),r=o(785893);const l=new s.Ry(669),a={1:"up",2:"right",3:"down",4:"left"},c=({anchors:e={},complete:t,dismiss:o,displayData:c,idealDirection:d,onCompleteByAnchor:u={},platform:_,positionRelativeToAnchor:h=!0,touchToDismiss:p=!0,useMasonryFlyout:m=!1})=>{var g;const{anchors_by_platform:f={},button_text:x,button_uri:b,display_type:y,flyout_direction:v,scroll_to_dismiss:P,scroll_to_dismiss_delay_in_seconds:w=0,text:A}=c||{},C=null===(g=f[_])||void 0===g?void 0:g.anchor,E=e[C],j=(0,n.useCallback)((()=>{P&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),p&&E&&E.removeEventListener("click",j),setTimeout((()=>o()),1e3*w)}),[E]);if((0,n.useEffect)((()=>{E&&(P&&(window.addEventListener("scroll",j),window.addEventListener("touchmove",j)),p&&E.addEventListener("click",j))}),[E]),!E)return null;const{FLYOUT:T,PULSAR:I}={FLYOUT:1,PULSAR:2},S=({children:e})=>{if(m)return(0,r.jsx)(s.mh,{zIndex:l,children:e});if(y===I){const t={};if(h)t.top=E.offsetTop,t.left=E.offsetLeft,t.width=E.offsetWidth,t.height=E.offsetHeight;else{const e=E.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,r.jsx)(s.xu,{position:"absolute",top:!0,left:!0,zIndex:l,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,r.jsx)(s.xu,{zIndex:l,children:e})},z=a[v],k=b&&(b.startsWith("https://")||b.startsWith("http://")),D=(u||{})[C],R=()=>{P&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),p&&E.removeEventListener("click",j),t()};return(0,r.jsxs)(n.Fragment,{children:[y===I&&(0,r.jsx)(S,{children:(0,r.jsx)(i.Z,{anchor:E,onTouch:()=>{R(),D?D():E instanceof HTMLElement&&E.click()},zIndex:670})}),y===T&&(0,r.jsx)(S,{children:(0,r.jsx)(s.J2,{anchor:E,color:"blue",idealDirection:z||d||"down",onDismiss:j,positionRelativeToAnchor:!m&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,r.jsxs)(s.xu,{padding:4,width:"220px",children:[(0,r.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:A}),x?(0,r.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,r.jsx)(s.xu,{column:8,children:b?(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",href:b,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),R()},role:"link",size:"md",target:k?"blank":null,text:x}):(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",onClick:R,size:"md",text:x})})}):null]})})})]})}},694379:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(892819),i=o(780280),s=o(785893);const r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:o,shortform:r,shortformMaximumFractionDigits:l,formatStyle:a,uplimit:c,value:d})=>{const u=(0,n.Z)();return(0,s.jsx)(i.LC,{children:n=>u(n.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:o,shortform:r,shortform_maximum_fraction_digits:l,style:a,uplimit:c})})}},890087:(e,t,o)=>{o.d(t,{$m:()=>d,ak:()=>c,j3:()=>a,yv:()=>l});var n=o(898781),i=o(883119),s=o(780280),r=o(785893);function l(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){const{country:e=""}=(0,s.B)();return l(e)}function c(){const e=(0,n.ZP)();return e._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}function d(e){return(0,r.jsx)(i.xv,{...e,children:c()})}},298361:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(349700),s=o(202139);function r(){const e=(0,n.ZP)();return function(t,o){const n=new Date(t),r=new Date-n,l=Math.floor(r/s.FS),a=Math.floor(r/s.UK),c=Math.floor(r/s.F4),d=Math.floor(r/s.VL),u=Math.floor(r/s.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', a, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', a, 'hours ago abbreviated', 'hours ago abbreviated'),b=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),y=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),v=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,i.nk)(o?v:g,{years:u}).join(""):d>0?(0,i.nk)(o?y:m,{weeks:d}).join(""):c>0?(0,i.nk)(o?b:p,{days:c}).join(""):a>0?(0,i.nk)(o?x:h,{hours:a}).join(""):l>0?(0,i.nk)(o?f:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(66699),i=o(898781);const s=(e,t)=>{const o=t||0,n=10**o,i=+(o?e*n:e).toFixed(8),s=Math.floor(i),r=i-s,l=r>.5-1e-8&&r<.5+1e-8?s%2==0?s:s+1:Math.round(i);return o?l/n:l},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function l(){const e=(0,i.ZP)();return(t,o,i)=>{let l=0,a=0;const c=i&&i.style||void 0,d=i&&i.shortform||!1,u=i&&i.uplimit||void 0,_=i&&i.currency||void 0,h=!!u&&o>=u,p=u&&h?u:o;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:o}=((e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==n)return{minimumFractionDigits:o,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);l=void 0===i||void 0===i.maximum_fraction_digits?o:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else l=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(d&&p>999&&(l=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),l<a)return String(p);let m=p,g="";const f=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(t);if(d&&p>999){const e=b?f:x;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],n=e[t][o].value;if(p>=n){m=s(p/n*Math.pow(10,l))/Math.pow(10,l),g=e[t][o].localeKey;break}}}if(null==m)return"";const y=m.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:n})=>{const i={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...i,style:o,..."currency"===o?{currency:n,currencyDisplay:"symbol"}:{}}:i})({maximumFractionDigits:l,minimumFractionDigits:a,currency:_,style:c}));return(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:y,numberSuffix:g})+(h?"+":"")}}},366428:(e,t,o)=>{o.d(t,{F:()=>d,Z:()=>c});var n=o(667294),i=o(834911),s=o(124580),r=o(407043),l=o(802201);const a={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9975}};function c({closeupImpressionType:e,closeupNavigationType:t,componentType:o,contextLogData:c,elementType:d,impressionAuxFields:u,inImpressionExp:_,impressionType:h,impressionsFramework:p,isPaused:m,loggingId:g,objectIdStr:f,slotIndex:x,trackCarousel:b,viewData:y,viewParameter:v,viewType:P}){const{logContextEvent:w}=(0,r.v)(),{pins:A}=(0,l.AF)(),C=g?A[g]:{},E=(0,i.Z)({pin:C}),j=p||s.Z,T=(0,n.useRef)(null),I=n=>{const i=a[h],s=i.idType,r={endTime:n.endTime,[s]:g,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:e,...u,forcedExit:"removed"===n.forcedExit?0:void 0},l={component:o,object_id_str:f,view_type:P,view_data:y||{},view_parameter:v};if(b){if(E){var _,p,m;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...r,carouselDataId:Number(E.id),carouselSlotId:(null===(_=E.carousel_slots)||void 0===_?void 0:_[null!==(p=E.index)&&void 0!==p?p:0])&&Number(E.carousel_slots[null!==(m=E.index)&&void 0!==m?m:0].id),slotIndex:E.index}]},...l,aux_data:{...c}})}}else w({event_type:i.eventType,...l,element:d,event_data:{[i.impressionType]:[r]},aux_data:{closeup_navigation_type:t,...c}})},S=(0,n.useCallback)((()=>{try{T.current instanceof HTMLElement&&j.start(T.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[T.current]);(0,n.useEffect)((()=>(_&&!j.inExperiment&&j.setExperimentStatus(!0),m||S(),()=>{T.current instanceof HTMLElement&&j.stop(T.current)})),[S]);const z=(0,n.useRef)(m);return(0,n.useEffect)((()=>{z.current&&!m&&S(),z.current=m}),[m,S]),T}const d=({children:e,...t})=>e({impressionTrackerRef:c(t)})},965261:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(6637);const i=e=>n.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var s=o(826067);const r=(e=(e=>{}))=>{const t=(0,s.mB)(window.location.search),o=t.invite_code;o?i(o):e(t)}},249647:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(968630),i=o.n(n);function s(e,t=!1){return o=>{if(!i()(o))return t&&Array.isArray(o)?o.map(s(e,t)):o;const n={};return Object.keys(o).forEach((r=>{const l=e(o[r],r);i()(o[r])||t&&Array.isArray(o[r])?n[l]=s(e,t)(o[r]):n[l]=o[r]})),n}}function r(e,t=!1){const o=(t,o)=>e(o);return e=>s(o,t)(e)}},567450:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>r});const i=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},s=e=>{if(e.isHidden){const{reason:t}=e;i.onPauseListeners.forEach((e=>e(t)))}else i.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>s({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>s({isHidden:!1}))),window.addEventListener("blur",(()=>s({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>s({isHidden:!1}))),window.addEventListener("pagehide",(()=>s({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=i},307061:(e,t,o)=>{o.d(t,{Z:()=>n});const n=function(e){return function(t){return null!=t?e(t):null}}},802933:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},584595:(e,t,o)=>{o.d(t,{$j:()=>k,Bb:()=>A,Cx:()=>F,D4:()=>I,E6:()=>E,H9:()=>L,Jt:()=>O,Jw:()=>s,NF:()=>l,OW:()=>c,Pv:()=>D,RL:()=>y,V4:()=>v,ZP:()=>B,Zn:()=>w,_K:()=>h,aG:()=>_,an:()=>j,at:()=>R,bd:()=>a,cZ:()=>d,dO:()=>u,hU:()=>m,iK:()=>x,iZ:()=>z,lg:()=>p,nY:()=>f,nf:()=>b,oP:()=>g,pH:()=>n,qF:()=>M,rM:()=>S,rm:()=>T,tL:()=>r,tz:()=>i,xN:()=>C,yV:()=>P});const n=101,i=93,s=117,r=116,l=111,a=9,c=8,d=16,u=12,_=3,h=18,p=105,m=79,g=78,f=77,x=76,b=1402,y=85,v=82,P=88,w=1201,A=86,C=30,E=84,j=83,T=2901,I=2904,S=2905,z=95,k=19,D=113,R=91,O=2501,L=3050,F=[c,a],M=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[p,"FACEBOOK_ACCOUNT_NOT_LINKED"],[u,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[d,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[f,"INVALID_PASSWORD_FB_USER"],[g,"INVALID_PASSWORD_ERROR_CODE"],[m,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[v,"LOGIN_DEACTIVATED_USER"],[j,"LOGIN_POLICY_VIOLATION_USER"],[y,"AUTO_PASSWORD_RESET_ERROR_CODE"],[A,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[r,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[c,"API_LIMIT_EXCEEDED_ERROR"],[a,"API_EVENT_BLOCKED_ERROR"],[k,"USER_IN_SAFE_MODE"],[E,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[y,"LOGIN_BAD_PASSWORD_ASK_RESET"],[w,"LOGIN_MFA_REQUIRED"],[C,"LOGIN_USER_NOT_FOUND"],[P,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[T,"SAR_DOWNLOAD_LIMIT"],[I,"SAR_EMAIL_UNVERIFIED"],[S,"SAR_EMAIL_MISSING"]]),B=[c,a,k,j,y,P]},79830:(e,t,o)=>{o.d(t,{I6:()=>h,Ib:()=>g,PF:()=>_,Tr:()=>f,W7:()=>s,YC:()=>a,a2:()=>u,a7:()=>d,h5:()=>n,hC:()=>r,lA:()=>x,n$:()=>i,oo:()=>p,s7:()=>c,vI:()=>l,vq:()=>m});const n="MULTIPLE_ACCOUNTS",i="MULTIPLE_ACCOUNTS_GROUP",s="account_switcher_flyout",r="account_switcher_modal",l="vmp_account_switcher_modal",a="account_recovery",c="closeup",d="google_one_tap_modal",u="hybrid_clickthrough",_="pin_image",h="response_flyout",p="unauth_header",m="facebook",g="twitter",f="google",x="microsoft"},760372:(e,t,o)=>{o.d(t,{X:()=>n});const n="favorited"},648492:(e,t,o)=>{o.d(t,{Z:()=>i});const n=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:o}function t(e,t,n){let a;for(e=n?Math.floor(e/i):e>>1,e+=Math.floor(e/t),a=0;e>(o-s)*r>>1;a+=o)e=Math.floor(e/(o-s));return Math.floor(a+(o-s+1)*e/(e+l))}this.utf16={encode:function(e){for(var t,o=[],n=0,i=e.length;i>n;){if(55296==(63488&(t=e[n++])))throw!0;t>65535&&(t-=65536,o.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),o.push(String.fromCharCode(t))}return o.join("")}};var o=36,i=700,s=1,r=26,l=38,a=2147483647;this.decode=function(n,i){let l,c,d,u,_,h,p,m,g,f,x,b,y,v=[],P=[],w=n.length;for(l=128,d=0,u=72,_=n.lastIndexOf("-"),0>_&&(_=0),h=0;_>h;++h){if(i&&(P[v.length]=n.charCodeAt(h)-65<26),n.charCodeAt(h)>=128)throw!0;v.push(n.charCodeAt(h))}for(p=_>0?_+1:0;w>p;){for(m=d,g=1,f=o;;f+=o){if(p>=w)throw!0;if(x=e(n.charCodeAt(p++)),x>=o)throw!0;if(x>Math.floor((a-d)/g))throw!0;if(d+=x*g,b=f>u?u+r>f?f-u:r:s,b>x)break;if(g>Math.floor(a/(o-b)))throw!0;g*=o-b}if(c=v.length+1,u=t(d-m,c,0===m),Math.floor(d/c)>a-l)throw!0;l+=Math.floor(d/c),d%=c,i&&P.splice(d,0,n.charCodeAt(p-1)-65<26),v.splice(d,0,l),d++}if(i)for(d=0,y=v.length;y>d;d++)P[d]&&(v[d]=String.fromCharCode(v[d]).toUpperCase().charCodeAt(0));return this.utf16.encode(v)},this.toUnicode=function(e){for(var t=e.split("."),o=[],i=0;i<t.length;++i){const e=t[i];o.push(e.match(/^xn--/)?n.decode(e.slice(4)):e)}return o.join(".")}};function i(e){try{return n.toUnicode(e)}catch(t){return e}}},813401:(e,t,o)=>{o.d(t,{kf:()=>g,l5:()=>p,of:()=>_,xC:()=>m,yz:()=>h});var n=o(667294),i=o(172071),s=o(829407),r=o(807609),l=o(30287),a=o(425288),c=o(785893);const{Provider:d,useMaybeHook:u}=(0,a.Z)("PwaContext"),_=({children:e,initialContext:t})=>{const[o,r]=(0,n.useState)(null),a=t||{pwaType:"unknown",twaType:null},u=a.pwaType;(0,s.Z)((()=>{const e=(0,l.FB)(window)||"unknown";r(e),u!==e&&i.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const _="unknown"===u&&o?o:u,h=a.twaType;return(0,c.jsx)(d,{value:{pwaType:_,twaType:h},children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},p=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===h(),g=()=>{const e=h(),t=(0,r.Z)();return"unknown"===e&&t?null:"windows"===e}},335972:(e,t,o)=>{o.d(t,{Z:()=>$});var n=o(667294),i=o(317672),s=o(790348);const r=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const o=e.src.replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const o=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]&&e instanceof HTMLDivElement){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:o,fileName:n,downloadedSize:i}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*o)/10,tags:{fileName:`${i}_${n}`}})}))};var l=o(860273),a=o(543059),c=o(607150);const d=({constraintMap:e,initialNavTiming:t,annotations:o})=>({...o,...(0,c.jh)("constraint_",e),...(0,c.jh)("mark_",(0,a.gQ)()),...(0,c.jh)("browser_",{...t?(0,c.D3)(t):{},...(0,c.rX)()})});var u=o(358864),_=o(505771),h=o(156381);const p=(e,t)=>{const{firstInputDelay:o}=(0,h.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...o?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:o.startTime,endTime:o.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var m=o(22773),g=o(453821),f=o(638089);const x=({annotateExperiments:e,annotations:t,binaryAnnotations:o,constraintMap:n,endTime:i,imageTimings:s,metricId:r,pwtStaticContext:a,startTime:c,traceId:u,spans:_})=>{const h=(0,m.Cg)();let x;"initial_app_load"===r.navigationType&&(x=(0,l.Z)());const b=s.map((({name:e})=>e)),y=h.map((e=>(0,g.p)(e,b))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},o)=>e>o.endTime||!!t&&t<o.startTime||e<o.startTime-100)(e,{startTime:c,endTime:i})));return{type:"COMPLETE",traceId:u,startTime:c,endTime:i,spans:p(y,u).concat(_),annotationMap:d({constraintMap:n,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,f.rA)({annotateExperiments:e,binaryAnnotations:o,entries:h,metricId:r,performanceResources:y,pwtEndTime:i,pwtStaticContext:a})}};let b=!1;const y=(e,t)=>e&&t?b?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(b=!0,t):(0,u.Z)();var v=o(883119),P=o(226464),w=o(785893);function A({children:e,heading:t}){return(0,w.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,w.jsx)("thead",{children:(0,w.jsx)("tr",{children:(0,w.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,w.jsx)(v.xv,{weight:"bold",align:"center",children:t})})})}),(0,w.jsx)("tbody",{children:e})]})}function C({name:e,children:t}){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsx)(v.xv,{weight:"bold",children:e})}),(0,w.jsx)("td",{children:"string"==typeof t?(0,w.jsx)(v.xv,{children:t}):t})]})}function E({result:e}){return"ABORT"===e.type?(0,w.jsx)(C,{name:"Abort Reason",children:e.reason}):(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(C,{name:"PWT (ms)",children:(0,w.jsx)(v.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,w.jsx)(C,{name:"PinTrace",children:(0,w.jsx)(v.xv,{italic:!0,children:(0,w.jsx)(v.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function j({data:e}){const{metricId:t,constraints:o,constraintMap:n,startTime:i,result:s}=e;return(0,w.jsxs)(v.xu,{children:[(0,w.jsxs)(A,{heading:(0,P.KJ)(t),children:[(0,w.jsx)(C,{name:"Thrift Id",children:String((0,P.Rp)(t))}),(0,w.jsx)(C,{name:"Surface",children:t.surface}),(0,w.jsx)(C,{name:"Navigation Type",children:t.navigationType}),(0,w.jsx)(C,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,w.jsx)(A,{heading:"Constraints",children:o.map((e=>(0,w.jsx)(C,{name:e,children:(0,w.jsx)(v.xv,{align:"end",children:n[e]?Math.round(n[e]-i):"pending..."})},`constraint_${e}`)))}),(0,w.jsx)(A,{heading:"Result",children:s?(0,w.jsx)(E,{result:s}):(0,w.jsx)(C,{name:"result",children:(0,w.jsx)(v.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var T=o(223815);const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function S({data:e}){const[t,o]=(0,n.useState)(!1);return(0,w.jsx)(T.Z,{children:(0,w.jsxs)(v.mh,{children:[(0,w.jsx)(v.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(v.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>o(!0)})}),t&&(0,w.jsx)(v.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(v.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>o(!1),footer:null,size:"sm",children:(0,w.jsx)(v.xu,{padding:6,children:(0,w.jsx)(j,{data:e})})})})]})})}var z=o(558775);const k=(e,t)=>{const o=(0,n.useRef)(e);(0,n.useEffect)((()=>{o.current=e}),[e]);const i=(0,n.useRef)(t);(0,n.useEffect)((()=>{i.current=t}),[t]),(0,n.useEffect)((()=>()=>i.current(o.current)),[])},D=(e,t)=>{const[o,i]=(0,n.useState)(t);return{state:o,dispatch:t=>i((o=>e(o,t)))}};var R=o(985271),O=o(7789),L=o(383434),F=o(567450),M=o(276602),B=o(404646);const N=["initial_app_load","client_route_push"],U=(0,L.X)("PwtSurface"),Z="NavigationComplete",G="VisuallyComplete",H=(e,t)=>{e.isSampled&&(0,z.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},V=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var o;const{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:l},annotations:a,binaryAnnotations:c,constraintMap:d,startTime:u,imageTimings:_,isSampled:h,spans:p}=e,m=y("initial_app_load"===n.navigationType,null===(o=i.serverData)||void 0===o?void 0:o.trace_id),g=x({annotateExperiments:l,annotations:a,binaryAnnotations:c,constraintMap:d,endTime:t,imageTimings:_,metricId:n,pwtStaticContext:i,startTime:u,traceId:m,spans:p});h&&(0,z.Z)({metricId:n,pwtStaticContext:i,result:g});try{r(String(g.binaryAnnotationMap["metricId.surface"].value))}catch(f){(0,s.H)("image_ratio_check_error",{error:f})}return{...e,result:g,status:"DONE"}})(e,t)}return e},W=(e,t)=>{const{constraint:o,time:n}=t,i=(0,P.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find((e=>e===o))?e.constraintMap[o]?(U(`constraint "${o}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:o,action:i}),e):(U(`marking constraint "${o}" as complete`),(0,a.ZP)(`constraint_${o}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[o]:n||R.Z.now()}})):(U(`marked constraint "${o}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:i}),e)},K=(e,t)=>{if(U("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:o,startTime:n,isSampled:i}=t;if("TIMING"===e.status&&n!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!o)return{status:"DISABLED",metricConfig:null};const r=(0,P.KJ)(o.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap.NavigationComplete?((0,s.H)("duplicated_init_route_action",{action:r}),e):("Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,s.A9)(`TIMING.${r}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(a=l.navigator)||void 0===a?void 0:a.userAgent}}),(0,s.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${r}`),(0,s.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),W({status:"TIMING",metricConfig:o,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:Z}));var l,a,c,d})(e,t.payload);if("TIMING"!==e.status)return U(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":H(e,t.reason);const o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":const{name:n}=t.payload;if(!R.Z)return e;const i=R.Z.now();return U(`adding annotation {${n}: ${i}}`),{...e,annotations:{...e.annotations,[n]:i}};case"BINARY_ANNOTATE":const{name:r,value:l,annotationType:a}=t.payload;return U(`adding binary annotation {${r}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:l,type:a}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}U(`removing constraint "${t}"`);const o=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:n,...i}=e.constraintMap;return V({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}U(`updating pwt segment to "${t}"`);const o={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:o}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:o}}=t;if(0===o.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const n=Math.max(...o.map((e=>e.responseEnd||0)));return W({...e,imageTimings:o},{constraint:G,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:_,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,u.Z)(),startTime:_||c,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex((e=>e.name===t.payload.name));return f>-1?(e.spans[f].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const x=(0,P.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:x}),e}};function $({children:e,...t}){var o;const i=(0,B.fM)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(o=t.annotateExperiments)&&void 0!==o?o:[]],a={...t,annotateExperiments:l,navigationInfo:{navigationType:r,clientNavigation:i}},{state:c,context:d}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:i,annotateExperiments:s,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:l,navigationType:a},sampleRate:c})=>{const d=(0,n.useRef)("NOT_SET"),u=(0,B.N5)(),{state:_,dispatch:h}=D(K,{status:"DISABLED",metricConfig:null});if(d.current!==l&&(d.current=l,u)){const{isAuthenticated:n}=u,d=r||N,_=e&&a&&d.includes(a)?{metricId:{type:"surface",surface:e,navigationType:a,isAuthenticated:n,segment:o},annotateExperiments:s,constraints:[Z,...t||[],...i?[G]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:_,startTime:l?l.time:0,isSampled:!c||Math.random()<c}})}if((0,n.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};F.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{F.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),k(_,(e=>{U("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")})),"TIMING"!==_.status||!_.constraintMap.NavigationComplete)return{state:_,context:null};const{startTime:p,metricConfig:m}=_;return{state:_,context:{id:p,metricId:m.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),setVisuallyCompleteResult:m.constraints.includes(G)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,o,n={},i={},s=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s}}),startSubspan:(e,t={},o={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}}),stopSubspan:(e,t={},o={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}})}}})(a);return(()=>{const e=(0,M.EV)(),t=!!e;(0,n.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,P.KJ)(e.metricId):null;(0,s.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(M.Sb,{value:d,children:e}),O.DQ&&"DISABLED"!==c.status&&(0,w.jsx)(S,{data:{metricId:c.metricConfig.metricId,constraints:c.metricConfig.constraints,constraintMap:c.constraintMap,startTime:c.startTime,result:"DONE"===c.status?c.result:null}})]})}},317254:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(969853),i=o(667294),s=o(276602),r=o(543059);function l({children:e,isAtEndOfFeed:t,pinData:o,itemCount:l,includeBackgroundImages:a=!1,includeVideos:c=!1}){return(0,n.Z)({pinData:o,isAtEndOfFeed:t,includeBackgroundImages:a,includeVideos:c}),function(e){const t=(0,s.EV)(),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{e!==o.current&&(o.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(l),e}},528961:(e,t,o)=>{o.d(t,{cC:()=>s,jy:()=>i,qr:()=>l,sk:()=>r});const n=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:n(e)}),s=e=>({type:"I32",value:n(e)}),r=e=>({type:"STRING",value:e}),l=e=>({type:"BOOL",value:e})},311560:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},505920:(e,t,o)=>{o.d(t,{UZ:()=>c,Z8:()=>d});var n=o(667294),i=(o(966338),o(6637)),s=o(425288),r=o(785893);const{Provider:l,useHook:a}=(0,s.Z)("ResourceContext");function c({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{var o;switch(t.type){case"addListener":const n=[...null!==(o=e[t.payload.name])&&void 0!==o?o:[],t.payload.handler];return{...e,[t.payload.name]:n};case"removeListener":if(!e[t.payload.name])return e;const i=e[t.payload.name].filter((e=>e!==t.payload.handler));return{...e,[t.payload.name]:i};default:return e}}),{});i.ZP.fetchCompleteCallback=({resource:e,options:o,response:n,normalizedResponse:i,refresh:s,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:s,normalizedResponse:i,options:o,schema:r,resource:e,response:n})))};const s=(0,n.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(l,{value:s,children:e})}function d(e,t){const{listenerDispatch:o}=a();(0,n.useEffect)((()=>(o({type:"addListener",payload:{name:e,handler:t}}),()=>{o({type:"removeListener",payload:{name:e,handler:t}})})))}},857079:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e}){return(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294);const i=(0,n.createContext)();var s=o(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:o=!1}){const r=t||null;(0,n.useContext)(i);return(0,s.jsx)(n.Suspense,{fallback:r,children:e})}},947599:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(497997).Z},304903:(e,t,o)=>{function n(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function s(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function r(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}o.d(t,{MX:()=>r,S$:()=>i,Uy:()=>n,aZ:()=>s,vM:()=>l})},730447:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(254469);function s({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:o,resourceName:s,resourceOptions:r,value:l}){const a=(0,i.Z)({allowSearchOnMount:e,resourceName:s,resourceOptions:r,value:l});return(0,n.useEffect)((()=>{null!=a&&a.length&&o(a)}),[a]),t||null}},864537:(e,t,o)=>{o.d(t,{Jc:()=>l,NO:()=>r,R3:()=>s,ge:()=>d,th:()=>a});var n=o(643913);const i=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],s={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function r(e){return(e||"").trim().replace(/\s+/g," ")}function l({type:e,term:t="",index:o}){switch(e){case s.USER_INPUT:case s.AUTO_COMPLETE_HASHTAG:case s.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case s.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${o}`;case s.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${o}`;case s.AUTO_COMPLETE_TRENDING:return`${t}|trending|${o}`;case s.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${o}`;case s.SEARCH_GUIDE:return`${t}|guide|word|${o}`;default:return""}}function a({queryStates:e}){return 0===e.length?"":"&"+(0,n.Z)({term_meta:e.map((e=>l(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>i.includes(e.toLowerCase())))?[e]:t}return[]}function d({type:e,query:t="",index:o}){switch(e){case s.USER_INPUT:case s.AUTO_COMPLETE_HASHTAG:case s.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:o,term:t,type:e})));case s.AUTO_COMPLETE_RECENT_SEARCH:case s.AUTO_COMPLETE_RECOMMENDED_SEARCH:case s.AUTO_COMPLETE_TRENDING:case s.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:o})));default:return[]}}},254469:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},s=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};s.prototype.set=function(e,t){let o=this._uidToData[e];o||(o=new i(e,t),this._uidToData[e]=o,this._numItems+=1),this._moveToFront(o),this._numItems>this._maxNumItems&&this._evict()},s.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},s.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},s.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},s.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const r=s;var l=o(6637);function a({resourceName:e,resourceOptions:t}){const o={...t,count:"count"in t?t.count:5},n=l.ZP.create(e,o),i=new r,s=()=>{n.abort()};return async function(e,t){const o=i.get(`${t}-${e}`);if(o){const t=o.items;if(t&&t.length){s();return{hint:o.hint,items:t,term:e}}}return e.length>=0?(async(e,t)=>{var o;if(n.isCalling()){var r,l;const o=null===(r=n.options)||void 0===r?void 0:r.term,i=null===(l=n.options)||void 0===l?void 0:l.pin_scope;if(e===o&&t===i)return;s()}const{bookmarks:a,...c}=n.options||{};n.options={...c,term:e,pin_scope:t};const d=null===(o=(await n.callGet({showError:!1})).resource_response)||void 0===o?void 0:o.data,u=null==d?void 0:d.items,_=(null==d?void 0:d.hint)||{},h={hint:_,items:u};return i.set(`${t}-${e}`,h),{term:e,items:u,hint:_}})(e,t):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:o={},value:i}){const s=(0,n.useRef)(!1),r=(0,n.useRef)({}),[l,c]=(0,n.useState)([]),d=function({resourceName:e,resourceOptions:t}){const o=(0,n.useRef)();return o.current||(o.current=a({resourceName:e,resourceOptions:t})),o.current}({resourceName:t,resourceOptions:o}),u=o.pin_scope||"pins",_=`${u}-${i}`;return(0,n.useEffect)((()=>{(async()=>{if(null!=i&&(e||s.current))if(_ in r.current)c(r.current[_]);else try{const e=await d(i,u);if(e){const{items:t}=e;r.current[_]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}s.current||(s.current=!0)})()}),[i,u,_]),l}},909499:(e,t,o)=>{o.d(t,{Hd:()=>r,_R:()=>i,lw:()=>n,wF:()=>s});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},i=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},s=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},r=e=>{switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},648284:(e,t,o)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:o,query:n,scope:i,selectedPinImgSig:s,user:r}){const l=[i,o,e,r,s,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+l:l}function i({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:o=null,filters:n=null,query:i=null,rs:s="direct_navigation",scope:r="pins",selectedPinImgSig:l=null,sourceId:a=null,user:c}){return{article:o,appliedProductFilters:t,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:n,query:i,query_pin_sigs:l,redux_normalize_feed:!0,rs:s,scope:r,source_id:a,user:c}}function s(e){const{autoCorrectionDisabled:t,appliedProductFilters:o,filters:n,selectedPinImgSig:s,query:r,rs:l,scope:a,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:i({autoCorrectionDisabled:!!t,appliedProductFilters:o,filters:n,query:r,rs:l,scope:a,selectedPinImgSig:s,bubbleId:c,user:d})}}o.d(t,{Ht:()=>s,Tb:()=>n,dM:()=>i})},487116:(e,t,o)=>{o.d(t,{D:()=>r,N:()=>s});var n=o(172071);const i=.1;async function s(){const e=navigator.serviceWorker;if(n.Z.increment("web_service_worker.update",i),e&&e.getRegistration){const o=await e.getRegistration();if(!o)return n.Z.increment("web_service_worker.update.registration.not_exist",i),await async function(){const e=navigator.serviceWorker;if(n.Z.increment("web_service_worker.install",i),e&&e.register)try{const t=await e.register("/sw.js");return n.Z.increment("web_service_worker.install.success",i),t}catch(t){throw n.Z.increment("web_service_worker.install.error",i),t}}();n.Z.increment("web_service_worker.update.registration.exist",i);try{return await o.update(),n.Z.increment("web_service_worker.update.success",i),o}catch(t){throw n.Z.increment("web_service_worker.update.fail",i),t}}}async function r(e){const t=navigator.serviceWorker;if(n.Z.increment("web_service_worker.unregister",i,{source:e||"unknown"}),t&&t.getRegistration)try{const o=await t.getRegistration();o?(n.Z.increment("web_service_worker.unregister.registration.exist",i,{source:e||"unknown"}),await o.unregister(),n.Z.increment("web_service_worker.unregister.success",i,{source:e||"unknown"}),async function(e){const t=navigator.serviceWorker;if(n.Z.increment("web_service_worker.clear_app_shell",i,{source:e||"unknown"}),t&&window.caches){const t=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));t?(n.Z.increment("web_service_worker.clear_app_shell.precache.exist",i,{source:e||"unknown"}),(await window.caches.open(t)).delete("/sw-shell.html"),n.Z.increment("web_service_worker.clear_app_shell.delete",i,{source:e||"unknown"})):n.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",i,{source:e})}}(e)):n.Z.increment("web_service_worker.unregister.registration.not_exist",i,{source:e||"unknown"})}catch(o){n.Z.increment("web_service_worker.unregister.fail",i,{source:e||"unknown"})}}},835209:(e,t,o)=>{function n({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}o.d(t,{Z:()=>n})},458882:(e,t,o)=>{o.d(t,{l:()=>s,r:()=>r});var n=o(667294);const i=(0,n.createContext)(null),s=()=>(0,n.useContext)(i),r=i.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(458882),i=o(780679);const s=()=>{const e=(0,i.g)(),t=(0,n.l)();return o=>{const{mobileOptions:n,desktopOptions:i,reason:s,attributionLabel:r}=o;var l;e?e.showDesktopSignupModal({modalType:null!==(l=null==i?void 0:i.modalType)&&void 0!==l?l:"signup",reason:s,attributionLabel:r,...null==i?void 0:i.modalOptions}):t&&t.showMobileSignupModal({reason:s,attributionLabel:r,headingType:null==n?void 0:n.headingType})}}},70061:(e,t,o)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}o.d(t,{Z:()=>n})},430323:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(722767),s=o(706922),r=o(245474),l=o(558068),a=o(780280),c=o(790123),d=o(425288);const{Provider:u,useMaybeHook:_}=(0,d.Z)("timeSpentContext");var h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends n.Component{constructor(e){super(e),p(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),p(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:o,objectId:n,timeSpentContext:i,view:s,viewParameter:r}=this.props;return{view:s||i&&i.view,viewParameter:r||i&&i.viewParameter,component:t||i&&i.component,element:o,objectId:n||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),p(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),p(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),p(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),p(this,"getTimedPair",(()=>this.state.timedPair)),p(this,"setTimedPair",(e=>this.setState({timedPair:e}))),p(this,"isRegistered",!1),p(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),p(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),p(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:o,left:n,right:i,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===o&&0===n&&0===i&&0===s?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function g(e){var t;const o=(0,l.H)(),i=_(),s=(0,c.w)(),{requestIdentifier:r=""}=(0,a.B)(),d={app_instance_id:r.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==s||s.setHistoryStackContext(o)}),[o,s]),s?(0,h.jsx)(m,{...e,auxData:d,timeSpentContext:i,timeSpentManager:s,children:e.children}):e.children}g.displayName="TimeSpent";const f=g},433780:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(172071),i=o(245474);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r="ACTIVE",l="PAUSED",a=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",c=({flushEvents:e,shouldShowLogStatements:t=!1,track:o})=>{const c=new Map,d=t?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};console.group||(d.group=(...e)=>console.log(...e),d.groupEnd=(...e)=>{});return new class{constructor(){s(this,"appTimedPair",null),s(this,"clickthroughProperties",null),s(this,"historyStackContext",null),s(this,"offsiteTimedPair",null),s(this,"offsiteTimedPairForegroundId",null),s(this,"addEventListeners",(()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");const o=t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()};t&&document.addEventListener(t,o,!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",(e=>this.unregisterApp(!1,void 0,e)));const i=(e=>{let t=!1;return(...o)=>{t||(t=!0,e(...o))}})((e=>this.unregisterApp(!0,void 0,e)));window.addEventListener("beforeunload",i),window.addEventListener("pagehide",i);const s=navigator&&navigator.userAgent.toLowerCase();s&&s.includes("macintosh")&&s.includes("chrome")&&window.addEventListener("popstate",(t=>{document.hasFocus()||document[e]||n.Z.increment("chrome_mac_back_forward_button",1)}))})),s(this,"storeClickthroughProperties",(e=>{this.clickthroughProperties&&n.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e})),s(this,"clearClickthroughProperties",(()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null})),s(this,"registerApp",(()=>{d.group("App Foreground",a()),null==this.appTimedPair?(this.appTimedPair=new i.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&o({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext)):d.error("TimedPair already exists for app."),d.groupEnd()})),s(this,"unregisterApp",((t=!1,n=!1,i)=>{d.group("App Background",a());const s=this.appTimedPair;if(null!=s){this._pauseAllComponents();const e=s.end();this._startOffsiteTimedPair(),o({event_type:4701,duration_ns:e,pair_id:s.uuid},this.historyStackContext),this.appTimedPair=null}else d.error("No TimedPair found for app.");const r=["beforeunload","pagehide"],l=r.includes(null==i?void 0:i.type),c=r.includes(null==i?void 0:i.pauseReason);(l||c)&&this._endOffsiteTimedPair(),n||e(null!=t&&t,void 0,i),d.groupEnd()})),s(this,"_activateComponent",(e=>{d.group("Activating component",a()),t&&d.log(e.getContext());const n=e.getTimedPair();if(n){n.start();const{view:t,viewParameter:i,component:s,element:r,objectId:l,clientTrackingParams:a}=e.getLoggerContext();o({event_type:4702,view_type:t,view_parameter:i,component:s,element:r,object_id_str:l,view_data:e.props.viewData,pair_id:n.uuid,clientTrackingParams:a,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}d.groupEnd()})),s(this,"_deactivateComponent",(e=>{d.group("Deactivating component",a()),t&&d.log(e.getContext());const n=e.getTimedPair();if(n){const{view:t,viewParameter:i,component:s,element:r,objectId:l,clientTrackingParams:a}=n,c=n.end();o({event_type:4703,view_type:t,view_parameter:i,component:s,element:r,object_id_str:l,view_data:e.props.viewData,duration_ns:c,pair_id:n.uuid,clientTrackingParams:a,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}d.groupEnd()})),s(this,"_startOffsiteTimedPair",(()=>{const{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new i.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,o({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext))})),s(this,"_endOffsiteTimedPair",(()=>{const{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){const n=e.end();o({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:n},this.historyStackContext),this.clearClickthroughProperties()}})),s(this,"_pauseAllComponents",(()=>{d.group("Pause all components"),c.forEach(((e,t,o)=>{e===r&&this._deactivateComponent(t),o.set(t,l)})),d.groupEnd()})),s(this,"_unpauseAllComponents",(()=>{d.group("Unpause all components"),c.forEach(((e,t)=>{t.setTimedPair(new i.Z(t.getLoggerContext()))})),c.forEach(((e,t)=>{c.set(t,r),this._activateComponent(t)})),d.groupEnd()}))}setHistoryStackContext(e){this.historyStackContext=e}registerComponent(e){null===this.appTimedPair?c.set(e,l):(c.set(e,r),this._activateComponent(e))}unregisterComponent(e){c.get(e)===r&&(this._deactivateComponent(e),e.setTimedPair(new i.Z(e.getLoggerContext()))),c.delete(e)}size(){return c.size}}}},790123:(e,t,o)=>{o.d(t,{j:()=>i,w:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("TimeSpentManagerContext")},245474:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(172045),i=o(17314);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){s(this,"start",(()=>(this.startTime=r(),this.startTime))),s(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,o)=>{o.d(t,{E5:()=>c,T7:()=>n,Yj:()=>r,pe:()=>l,xt:()=>a});o(883119);function n(e,t,o){const n=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),i=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${n}/${encodeURIComponent(i)}/${o}/`}const i={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},s={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},r=(e,t)=>{const o=s[e];return!(null===o||o!==t&&!t.startsWith(o))},l=e=>i[e],a=(e,t,o)=>e||(t||o||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},758127:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(883119),i=o(785893);const s=", ";function r(){return(0,i.jsx)(n.xu,{display:"visuallyHidden",children:s})}},6663:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(391254),i=o(416403),s=o(898781),r=o(486840),l=o(883119),a=o(785893);function c({color:e,completeButtonText:t,completeUrl:o,dismissButtonText:c,experienceId:d,external:u,message:_,onComplete:h,onDismiss:p}){const m=(0,r.Z)(),g=(0,s.ZP)(),f=({event:e})=>{10202===d&&m(),h&&h(e)},x=({event:e})=>{p&&p(e)},b=_&&!t,y=500735===d,v=t&&(!o||y)&&(0,a.jsx)(l.zx,{color:"white",onClick:f,text:t}),P=t&&o&&(0,a.jsx)(i.Z,{accessibilityLabel:t,rounding:6,url:o,onClick:e=>f({event:e}),external:u,children:(0,a.jsx)(l.xu,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:(0,a.jsx)(l.xv,{align:"center",color:e,weight:"bold",children:t})})},"naglink"),w=c&&p&&(0,a.jsx)(l.xu,{mdPaddingX:2,children:(0,a.jsx)(l.zx,{color:e&&"default"!==e?"transparent":"gray",onClick:x,text:c})}),A=b&&!y&&p&&(0,a.jsx)(l.hU,{accessibilityLabel:g._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:x,icon:"cancel"});return(0,a.jsxs)(l.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,a.jsx)(l.xu,{column:12,smColumn:b?11:8,children:(0,a.jsxs)(l.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,a.jsx)(n.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,a.jsx)("div",{className:"Banner--message",children:(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:_}})})]})}),(0,a.jsxs)(l.kC,{alignItems:"center",justifyContent:"end",children:[w,v||P,A]})]})}},416403:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(701500),s=o(883119),r=o(785893);function l(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function a(e){const{active:t=!1,borderRadius:o,children:n,focused:i=!1,justBgFocused:a=!1,hovered:c=!1,rounding:d,hoverBgColor:u,bgColor:_="transparent",size:h="lg"}=e,p=t?{backgroundColor:"transparent"===_?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,m=!c||i||t?null:{backgroundColor:l(u,_)},g=i?{backgroundColor:l(u,_),outline:"0",...a?{}:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)"}}:null;let f;if("circle"===d)switch(h){case"xs":f=24;break;case"sm":f=32;break;case"md":f=40;break;case"lg":f=48;break;case"xl":f=56;break;default:f=48}const x=f,b={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[_],...m,...p,...g,...o?{borderRadius:o}:{}};return(0,r.jsx)(s.xu,{rounding:d,dangerouslySetInlineStyle:{__style:b},height:f,width:x,children:n})}var c=o(287072),d=o(48714);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=({anchorElementRef:e,children:t,experienceAnchor:o})=>o?(0,r.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t;class h extends n.Component{constructor(...e){super(...e),u(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),u(this,"anchorElementRef",(0,n.createRef)()),u(this,"handleBlur",(()=>this.setState({focused:!1}))),u(this,"handleFocus",(()=>this.setState({focused:!0}))),u(this,"handleMouseDown",(()=>this.setState({active:!0}))),u(this,"handleMouseEnter",(()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})})),u(this,"handleMouseLeave",(()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})})),u(this,"handleMouseUp",(()=>this.setState({active:!1})))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:o,children:n,onClick:i,onNavigationHandler:l,rounding:c="pill",tabIndex:d=0,url:u}=this.props,{active:h,focused:p,hovered:m}=this.state,g="pill"===c?2:1,f="circle"===c?48:"";return(0,r.jsx)(_,{anchorElementRef:this.anchorElementRef,experienceAnchor:t,children:(0,r.jsx)(s.iP,{accessibilityLabel:e,href:u,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==i||i(e),l({event:e})},rel:o?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:c,tabIndex:d,children:(0,r.jsx)(a,{active:h,focused:p,justBgFocused:!0,hovered:m,rounding:c,children:(0,r.jsx)(s.xu,{alignItems:"center",display:"flex",direction:"pill"===c?void 0:"column",height:f,justifyContent:"center",padding:g,position:"relative",rounding:c,width:f,children:n})})})})}}function p(e){const t=(0,c.Z)({href:e.url,onHistoryChange:d.Jd});return(0,r.jsx)(h,{...e,onNavigationHandler:t})}},237900:(e,t,o)=>{o.d(t,{q:()=>s});var n=o(188682),i=o.n(n);const s=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=i()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},887831:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294);let i=null,s=!1,r=0;const l=()=>{i&&clearTimeout(i),s=!0,i=setTimeout((()=>{s=!1}),100)},a=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===r&&window.addEventListener("scroll",l),r+=1,()=>{o.current&&clearTimeout(o.current),r-=1,r||window.removeEventListener("scroll",l)})),[]);const i=e=>{o.current&&clearTimeout(o.current),o.current=e&&s?setTimeout((()=>i(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},50286:(e,t,o)=>{o.d(t,{HG:()=>l,Wb:()=>r,ZP:()=>a,ml:()=>s});var n=o(780280);const i=()=>{const e=(0,n.B)(),{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"},s=()=>"phone"===i(),r=()=>"tablet"===i(),l=()=>"desktop"===i(),a=i},215292:(e,t,o)=>{o.d(t,{Z:()=>r,q:()=>s});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1);return{active:e,focused:o,hovered:s,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){return e(i())}const r=i},807609:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(411465),i=o(966476);const s=()=>{const e=(0,n.Z)(),t=(0,i.Z)();return e&&!t}},411465:(e,t,o)=>{o.d(t,{G:()=>l,Z:()=>a});var n=o(667294),i=o(925927),s=o(785893);const r=(0,n.createContext)(!0);function l({children:e}){const t=(0,i.TH)(),[o,l]=(0,n.useState)(!0),a=(0,n.useRef)(t);return(0,n.useEffect)((()=>{a.current!==t&&(a.current=t,l(!1))}),[t]),(0,s.jsx)(r.Provider,{value:o,children:e})}function a(){return(0,n.useContext)(r)}},134906:(e,t,o)=>{o.d(t,{Bh:()=>d,CU:()=>r,FU:()=>C,G$:()=>x,GT:()=>l,Gy:()=>m,J_:()=>P,Jx:()=>h,MZ:()=>g,VC:()=>_,VG:()=>a,ZA:()=>c,Zt:()=>p,a3:()=>E,aH:()=>s,nw:()=>b,oR:()=>y,qA:()=>u,qp:()=>w,sG:()=>f,vd:()=>A,xk:()=>v});var n=o(89254);const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},o=String(e).split("");return o.forEach(((e,n)=>{const i=t[e];i&&(o[n]=i)})),o.join("")};function s(e){return function(t,o){const n=[];t&&/\S/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(r)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function a(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function c(e){return function(t,o){const n=[];t&&(Number.isNaN(parseInt(t))&&n.push(e.invalidAgeString),e.ageTooShortString&&t<10&&n.push(e.ageTooShortString),t<=0||t>=300?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<13&&n.push(e.checkUnderAgeWithString));const i={errors:n,warnings:[]};return o&&o(i),i}}function d(e){return function(t,o){const n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],s=!1!==e.checkLength&&n.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!s||i.push(e.message);const r={errors:i,warnings:[]};return o&&o(r),r}}function u(e){return function(t,o){const n=/^\d+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function _(e){return function(t,o){const n=/^[\d\ -]+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function h(e){return function(t,o){const n=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function p(e){return function(t,o){const i=[];if(t)try{const o=(0,n.Z)(t);o&&o.protocol&&("http"!==o.protocol||"localhost"===o.hostname)||i.push(e.message)}catch(r){i.push(e.message)}const s={errors:i,warnings:[]};return o&&o(s),s}}function m(e){return function(t,o){const n=[];(e.should_trim||!1)&&(t=t&&t.trim());const i=t.length;e.min&&i<e.min?n.push(e.minErrorString):e.max&&i>e.max&&n.push(e.maxErrorString);const s={errors:n,warnings:[]};return o&&o(s),s}}function g(e){return function(t,o){const n=!e.checkExclusion,i=e.substrings,s=[];(n&&!i.some((e=>t.includes(e)))||!n&&i.some((e=>t.includes(e))))&&s.push(e.message);const r={errors:s,warnings:[]};return o&&o(r),r}}function f(e){return function(t,o){const n=[];t!==(e&&e.targetValue)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function x(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<=e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function b(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function y(e){return function(t,o){const n=[];/^[\040-\176]*$/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function v(e){return function(t,o){let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}const i=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),s=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function P(e){return function(t,o){t=t&&t.trim();const n=[],i=new Date(t);t&&!i.getTime()&&n.push(e.message);const s={errors:n,warnings:[]};return o&&o(s),s}}function w(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function A(e){return function(t,o){const n=[];e.pattern.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function C(e,t){const o=e.map((e=>e(t).errors));return[].concat(...o)}function E(e,t){let o="";return t.some((t=>{const n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},868565:(e,t,o)=>{function n(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}o.d(t,{Z:()=>n})},121630:(e,t,o)=>{o.d(t,{c:()=>i,e:()=>n});const n=e=>{if("undefined"==typeof window)return"";let t=0;const o=document.querySelector('[data-test-id="header"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:o}=e.getBoundingClientRect();t+=o}break;case"SearchItem":const o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},i=e=>e&&e.length>5&&"1"===e.substr(e.length-5,1)?e.substr(0,e.length-5)+"0"+e.substr(e.length-4):e},319825:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i="normal",s=({className:e,type:t="text",animation:o="pulse",hasChildren:n=!1,hideChildren:s=!0,enableAnimation:r=!0,color:l=("wave"===o?"rgba(239, 239, 239, 0.2)":"#ebebeb"),highlightColor:a="#EFEFEF",height:c,width:d,borderRadius:u,duration:_=1.5,direction:h="normal"})=>{const p="rtl"===h?"reverse":i,m="number"==typeof _?`${_}s`:"1.5s";return`\n@keyframes pulseAnimation {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes waveAnimation {\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n.${e} {\n  background-color: ${l};\n  display: block;\n  line-height: 1;\n  ${"text"===t?"\n  margin-top: 0;\n  margin-bottom: 0;\n  height: auto;\n  transform-origin: 0 55%;\n  transform: scale(1, 0.6);\n  ":""}\n  ${"circle"===t?"\n  border-radius: 50%;\n  ":""}\n  ${n&&!d?"\n  max-width: fit-content;\n  ":""}\n  ${n&&!c?"\n  height: auto;\n  ":""}\n  ${r&&"pulse"===o?`\n  animation-name: pulseAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  `:""}\n  ${r&&"wave"===o?"\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n\n  --webkit-mask-image: radial-gradient(white, black);\n  mask-image: radial-gradient(white, black);\n  ":""}\n  ${"circle"!==t&&"number"==typeof u||"string"==typeof u?`\n  border-radius: ${u}${"number"==typeof u?"px":""};\n  `:""}\n  ${"number"==typeof d||"string"==typeof d?`\n  width: ${d}${"number"==typeof d?"px":""};\n  `:""}\n  ${"number"==typeof c||"string"==typeof c?`\n  height: ${c}${"number"==typeof c?"px":""};\n  `:""}\n}\n${"text"===t?`\n.${e}:empty:before {\n  content: "\\00a0";\n}\n`:""}\n${n&&s?`\n.${e} > * {\n  visibility: hidden;\n}\n`:""}\n${r&&"wave"===o?`\n.${e}::after {\n  content: ' ';\n  animation-name: waveAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n\n  background-repeat: no-repeat;\n  background-image: linear-gradient(\n    90deg,\n    ${l},\n    ${a},\n    ${l}\n  );\n  border-radius: 100px;\n  position: absolute;\n  transform: translateX(-100%);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n`:""}\n`};var r=o(391254),l=o(883119),a=o(785893);function c({id:e,type:t="text",animation:o="pulse",children:i,...c}){const d=(0,l.JZ)(),u=Boolean(i),_=`catalog-loading-skeleton-${e}`,h=s({className:_,type:t,animation:o,hasChildren:u,enableAnimation:!d,...c});return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(r.Z,{unsafeCSS:h}),(0,a.jsx)("span",{className:_,"data-test-id":_,children:u?i:(0,a.jsx)(n.Fragment,{children:"‌"})})]})}},487392:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(784590),i=o(19121),s=o(780280);function r(){var e;const t=(0,s.B)(),o=(0,i.Z)(),{advertiser:r}=t,l=(0,n.Z)({name:"UserResource",options:{user_id:r?r.owner_user_id:o.isAuth&&o.id,field_set_key:"merchant_summary"},dangerouslyDisableFetch:!(null==r||!r.merchant_id)});return{merchantId:(null==r?void 0:r.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==r?void 0:r.id)||"",ownerUserId:(null==r?void 0:r.owner_user_id)||(o.isAuth?o.id:""),advertiser:r}}},653035:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(618446),s=o.n(i);const r=e=>"object"!=typeof e?e:Array.isArray(e)?[...e]:{...e};function l(e,t){const o=(0,n.useRef)([]),i=(0,n.useRef)([]),l=(0,n.useRef)(e),a=(0,n.useCallback)((()=>l.current),[]);(0,n.useEffect)((()=>{s()(e,l.current)||(l.current=r(e))}),[e]);const c=(0,n.useCallback)((e=>{o.current=i.current.slice();const t=o.current.slice();for(const o of t)o({action:e})}),[]),d=(0,n.useCallback)((()=>{i.current===o.current&&(i.current=o.current.slice())}),[]),u=(0,n.useCallback)((e=>{let t=!0;return d(),i.current=[...i.current.slice(),e],()=>{if(!t)return;t=!1,d();const n=i.current.indexOf(e);i.current=i.current.filter(((e,t)=>t!==n)),o.current=[]}}),[d]),_=(0,n.useCallback)(((e,t=s())=>{const o=()=>e(a());let n=r(o());return e=>({action:i})=>{const s=r(o());if(!t(n,s)){const t=n;n=s,e({action:i,state:s,prevState:t})}}}),[a]),h=(0,n.useCallback)((e=>{t(e),setTimeout((()=>c(e)),0)}),[t,c]);return(0,n.useMemo)((()=>({state:e,dispatch:h,watchChanges:_,subscribe:u,getState:a})),[e,h,_,u,a])}},951729:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(306732),s=o(785893);function r({children:e,width:t="100%",height:o=i.kc}){return(0,s.jsx)(n.kC,{alignItems:"stretch",direction:"column",height:o,justifyContent:"center",width:t,children:e})}},677581:(e,t,o)=>{o.d(t,{O:()=>x,ZP:()=>b,rS:()=>y});var n=o(667294),i=o(951729),s=o(6637),r=o(319825),l=o(487392),a=o(708032),c=o(139195),d=o(407043),u=o(725484),_=o(925927),h=o(898781),p=o(306732),m=o(400264),g=o(883119),f=o(785893);const x=(e,t)=>{switch(e){case p.EK.MAX_GROUPS_FEATURED:return t._('No more than 8 product groups can be featured', 'ProductGroupTableFeatureCell.Flyout.maxGroupsFeatured', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_MANY_PRODUCTS:return t._('Product groups with more than 500 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooManyProducts', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_FEW_PRODUCTS:return t._('Product groups with less than 10 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooFewProducts', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_FEW_UNIQUE_PRODUCTS:return t._('To feature this product group, make sure it contains at least 10 in stock items. Product group changes may take up to 24 hours to appear in Catalogs.', 'ProductGroupTableFeatureCell.Flyout.tooFewUniqueProducts', '[Catalogs] a tootip saying you can\'t feature that group');default:return""}};function b({productGroup:{id:e,featureStatus:t,featuredPosition:o},onFeaturedButtonClick:s,enableFeaturedButton:l=!1}){const{logContextEvent:a}=(0,d.v)(),c=(0,h.ZP)(),[u,_]=(0,n.useState)(!1),m=(0,n.useRef)(),b=null!=o,y=t===p.EK.FEATURING,v=t===p.EK.FEATURED,P=t===p.EK.CAN_FEATURE,w=v||!b&&y,A=x(t,c),C=(0,f.jsx)(g.hU,{accessibilityLabel:w?c._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):c._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:v?"darkGray":"gray",onClick:()=>{a({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205}),s&&s(e)},disabled:!l||y});return(0,f.jsxs)(i.Z,{children:[P||y||v?(0,f.jsx)("div",{className:w?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:l&&!y?(0,f.jsx)(g.u,{inline:!0,idealDirection:"down",text:w?c._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):c._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:C}):(0,f.jsx)(r.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:C})}):(0,f.jsx)(g.xu,{position:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),ref:m,children:(0,f.jsx)(g.Sj,{icon:"alert",size:"lg"})}),u&&A&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(50),children:(0,f.jsx)(g.J2,{anchor:m.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",children:(0,f.jsx)(g.xu,{padding:3,children:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",children:A})})})})]})}function y({id:e,onFeaturedPgError:t}){const{logContextEvent:o}=(0,d.v)(),b=(0,h.ZP)(),[y,v]=(0,n.useState)(!1),[P,w]=(0,n.useState)(!0),[A,C]=(0,n.useState)(!1),E=(0,n.useRef)(),{productGroupsState:{batchProductGroupsMap:j,featuredProductGroupsSet:T},productGroupsDispatch:I}=(0,u.n)(),{advertiserId:S,merchantId:z}=(0,l.Z)(),{params:{feed_profile_id:k}}=(0,_.$B)();(0,n.useEffect)((()=>{if(!j)return()=>{};const e=setTimeout((()=>{w(!1)}),p.iu);return()=>{clearTimeout(e)}}),[j,w]);const{isLoaded:D,data:R,refresh:O}=(0,m.G7)({advertiserId:S,feedProfileId:k,productGroupsIds:(null==j?void 0:j[e])||[e]},P),L=null==R?void 0:R.find((t=>t.id===String(e))),F=L&&L.featured_position,M=D?(0,a._c)(R||[],String(e),""):"",B=null!=F,N=T?T.has(String(e)):M===p.EK.FEATURED;(0,n.useEffect)((()=>{T&&(T.has(String(e))&&M!==p.EK.FEATURED||!T.has(String(e))&&M===p.EK.FEATURED)&&(O(),C(!1))}),[T,O,M,e]);const U=M===p.EK.CAN_FEATURE,Z=x(M,b),G=(0,f.jsx)(g.hU,{accessibilityLabel:N?b._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):b._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:N?"darkGray":"gray",onClick:()=>{o({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205});const n=s.ZP.create("FeaturedProductGroupsResource",{productGroupId:e,advertiserId:S,merchantId:z,feedProfileId:k}),i=N?n.callDelete():n.callCreate();C(!0),i.then((()=>{I((0,c.Oh)({featuringProductGroupIds:N?[]:[String(e)],unFeaturingProductGroupIds:N?[String(e)]:[]}))})).catch((()=>{t(),C(!1)}))},disabled:!(D||T)||A});return(0,f.jsxs)(i.Z,{children:[U||N||B||A||!D?(0,f.jsx)("div",{className:N?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:!D&&!T||A?(0,f.jsx)(r.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:G}):(0,f.jsx)(g.u,{inline:!0,idealDirection:"down",text:N?b._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):b._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:G})}):(0,f.jsx)(g.xu,{position:"relative",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),ref:E,children:(0,f.jsx)(g.Sj,{icon:"alert",size:"lg"})}),y&&Z&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(50),children:(0,f.jsx)(g.J2,{anchor:E.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",children:(0,f.jsx)(g.xu,{padding:3,children:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",children:Z})})})})]})}},306732:(e,t,o)=>{o.d(t,{Bm:()=>v,CN:()=>K,DD:()=>A,EK:()=>a,Eo:()=>p,F$:()=>$,KO:()=>k,MD:()=>O,MU:()=>L,PD:()=>M,QE:()=>E,R0:()=>X,Tj:()=>f,V0:()=>g,Vw:()=>W,WH:()=>z,XT:()=>y,bS:()=>m,cU:()=>C,cm:()=>U,d0:()=>w,eu:()=>_,g2:()=>j,gd:()=>T,gw:()=>V,h8:()=>r,hL:()=>I,hh:()=>P,iN:()=>h,iu:()=>Q,j1:()=>B,kc:()=>u,kl:()=>d,kq:()=>N,l5:()=>x,pF:()=>F,pM:()=>D,pV:()=>b,ps:()=>l,q9:()=>c,qB:()=>H,r2:()=>Y,rC:()=>R,ul:()=>s,wZ:()=>G,yA:()=>Z,yq:()=>S,zq:()=>q});var n=o(225643),i=o(808683);const s={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},r={NEW:"new",USED:"used",REFURBISHED:"refurbished"},l={MALE:"male",FEMALE:"female",UNISEX:"unisex"},a={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},c=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS],d=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.MERCHANT_CREATED],u=90,_=350,h=265,p=72,m=450,g=200,f=12,x=114,b={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},y={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},v=100,P={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},w=[P.PRODUCT_CATEGORY,P.PRODUCT_TYPE,P.BRANDS,P.CUSTOM_LABEL_0,P.CUSTOM_LABEL_1,P.CUSTOM_LABEL_2,P.CUSTOM_LABEL_3,P.CUSTOM_LABEL_4],A={[P.ITEM_ID]:["ITEM_ID"],[P.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[P.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[P.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[P.COST]:["MIN_PRICE","MAX_PRICE"],[P.BRANDS]:["BRAND"],[P.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[P.AVAILABILITY]:["AVAILABILITY"],[P.CONDITION]:["CONDITION"],[P.GENDER]:["GENDER"]},C=[P.CUSTOM_LABEL,P.COST,P.CURRENCY],E={[n.AvailabilityType.IN_STOCK]:s.IN_STOCK,[n.AvailabilityType.OUT_OF_STOCK]:s.OUT_OF_STOCK,[n.AvailabilityType.PREORDER]:s.PREORDER},j={[n.ConditionType.NEW]:r.NEW,[n.ConditionType.USED]:r.USED,[n.ConditionType.REFURBISHED]:r.REFURBISHED},T={[n.GenderType.MALE]:l.MALE,[n.GenderType.FEMALE]:l.FEMALE,[n.GenderType.UNISEX]:l.UNISEX},I={[i.CatalogProductGroupFilterKey.ITEM_ID]:P.ITEM_ID,[i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0]:P.PRODUCT_CATEGORY,[i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0]:P.PRODUCT_TYPE,[i.CatalogProductGroupFilterKey.BRAND]:P.BRANDS,[i.CatalogProductGroupFilterKey.AVAILABILITY]:P.AVAILABILITY,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0]:P.CUSTOM_LABEL_0,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1]:P.CUSTOM_LABEL_1,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2]:P.CUSTOM_LABEL_2,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3]:P.CUSTOM_LABEL_3,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4]:P.CUSTOM_LABEL_4,[i.CatalogProductGroupFilterKey.CONDITION]:P.CONDITION,[i.CatalogProductGroupFilterKey.GENDER]:P.GENDER,[i.CatalogProductGroupFilterKey.MIN_PRICE]:P.PRICE,[i.CatalogProductGroupFilterKey.MAX_PRICE]:P.PRICE,[i.CatalogProductGroupFilterKey.CURRENCY]:P.CURRENCY,[i.CatalogProductGroupFilterKey.ITEM_GROUP_ID]:P.ITEM_GROUP_ID},S={[P.ITEM_ID]:i.CatalogProductGroupFilterKey.ITEM_ID,[P.PRODUCT_CATEGORY]:i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0,[P.PRODUCT_TYPE]:i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0,[P.BRANDS]:i.CatalogProductGroupFilterKey.BRAND,[P.AVAILABILITY]:i.CatalogProductGroupFilterKey.AVAILABILITY,[P.CUSTOM_LABEL_0]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0,[P.CUSTOM_LABEL_1]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1,[P.CUSTOM_LABEL_2]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2,[P.CUSTOM_LABEL_3]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3,[P.CUSTOM_LABEL_4]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4,[P.CONDITION]:i.CatalogProductGroupFilterKey.CONDITION,[P.GENDER]:i.CatalogProductGroupFilterKey.GENDER,[P.PRICE]:i.CatalogProductGroupFilterKey.MAX_PRICE,[P.CURRENCY]:i.CatalogProductGroupFilterKey.CURRENCY,[P.ITEM_GROUP_ID]:i.CatalogProductGroupFilterKey.ITEM_GROUP_ID},z={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},k={[z.GREATER_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.GREATER_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!0}},[z.LESS_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.LESS_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!0}}},D="newlyCreatedPGId",R="storefront",O={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,F=350,M={LIST:"LIST",GRID:"GRID"},B="236x",N="calc(100vh - 277px)",U="calc(100vh - 175px)",Z=75,G=200,H=40,V=127,W=", ",K=/[\t\n,]+/,$=/[^\t\n,]+/gi,Y=/^[\s]+$/,q=/[^\S\t\n]+/,X={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC"},Q=500},725484:(e,t,o)=>{o.d(t,{a:()=>c,n:()=>d});var n=o(667294),i=o(139195);function s(){return(0,n.useReducer)(((e,t)=>{switch(t.type){case i.N9.BATCH_PRODUCT_GROUPS:return((e,t)=>({...e,batchProductGroupsMap:{...t.payload}}))(e,t);case i.N9.UPDATE_PRODUCT_COUNT:return((e,t)=>({...e,productGroupsCountMap:{...e.productGroupsCountMap,[t.payload.id]:t.payload.count}}))(e,t);case i.N9.UPDATE_FEATURED_PRODUCT_GROUP_SET:return((e,{payload:{featuringProductGroupIds:t,unFeaturingProductGroupIds:o}})=>{const n=new Set(e.featuredProductGroupsSet);return t.forEach((e=>n.add(e))),o.forEach((e=>n.delete(e))),{...e,featuredProductGroupsSet:n}})(e,t);default:return e}}),{productGroupsCountMap:{},featuredProductGroupsSet:null,batchProductGroupsMap:null})}var r=o(653035),l=o(785893);const a=(0,n.createContext)();function c({children:e}){const[t,o]=s(),{state:n,dispatch:i}=(0,r.Z)(t,o),c={productGroupsState:n,productGroupsDispatch:i};return(0,l.jsx)(a.Provider,{value:c,children:e})}function d(){const e=(0,n.useContext)(a);if(!e)throw new Error("Hi there, useProductGroupsContext must be used within a ProductGroupsContextProvider. This error occured most likely caused by missing ProductGroupsContextProvider.");return e}},708032:(e,t,o)=>{o.d(t,{I3:()=>a,Kk:()=>s,_c:()=>l});var n=o(306732);const i=e=>(e||[]).filter((e=>void 0!==e.featured_position&&null!==e.featured_position)).map((e=>({...e,featured:!0}))),s=(e,t)=>(e=>i(e).map((e=>e.id.toString())))(e).includes(t.toString()),r=(e,t)=>(e||[]).find((({id:e})=>e.toString()===t))||null,l=(e,t,o)=>{const l=i(e).filter((e=>e.group_type===n.pV.MERCHANT_CREATED)).length,a=((e,t)=>{const o=r(e,t);return o&&o.featureable_status&&o.featureable_status.code?o.featureable_status.code:n.XT.FEATUREABLE})(e,t);return o===t?n.EK.FEATURING:s(e,t)?n.EK.FEATURED:a===n.XT.UNFEATUREABLE_NOT_ENOUGH_PINS?n.EK.TOO_FEW_PRODUCTS:a===n.XT.UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS?n.EK.TOO_FEW_UNIQUE_PRODUCTS:a===n.XT.UNFEATUREABLE_EXCEEDED_PINS_LIMIT?n.EK.TOO_MANY_PRODUCTS:l>=n.Bm?n.EK.MAX_GROUPS_FEATURED:n.EK.CAN_FEATURE},a=(e,t,o,n,i)=>t.map((t=>{const s=t.id.toString(),a=r(e,s),c=l(e,s,o||"");return{id:t.id.toString(),name:t.name,lastUpdate:t.last_update,createdAt:t.created_at,productCount:t.product_count?Number(t.product_count):0,type:t.type,featuredPosition:null==a?void 0:a.featured_position,featureStatus:c,promotedStatus:"",previewPins:null==a?void 0:a.preview_pins,filters:t.filters,filter_v2:t.filter_v2,promoted:!!n.find((({catalog_product_group_id:e})=>e===t.id.toString())),promotedButNotAccessible:!!i.includes(t.id),sourceId:t.source_id}}))},400264:(e,t,o)=>{o.d(t,{G7:()=>a,Lp:()=>c,Ib:()=>l});var n=o(667294),i=o(898781),s=o(784590),r=o(808683);function l(e={},t=!1,o=!1){const l=(0,i.ZP)(),a=(0,s.Z)({name:"ProductGroupsResource",options:e,dangerouslyDisableFetch:t,enabledRouteRefresh:!0,noCache:o}),c=(0,n.useMemo)((()=>a.data&&a.isLoaded?a.data.map((e=>(Number(e.type)===r.CatalogProductGroupType.ALL_PRODUCTS?e.name=l._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):Number(e.type)===r.CatalogProductGroupType.BEST_DEALS?e.name=l._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):Number(e.type)===r.CatalogProductGroupType.PINNER_FAVORITES?e.name=l._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):Number(e.type)===r.CatalogProductGroupType.TOP_SELLERS?e.name=l._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):Number(e.type)===r.CatalogProductGroupType.BACK_IN_STOCK?e.name=l._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):Number(e.type)===r.CatalogProductGroupType.NEW_ARRIVALS&&(e.name=l._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals')),e))):[]),[l,a.data,a.isLoaded]);return{...a,data:c}}function a(e={},t=!1){const o=(0,s.Z)({name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e,dangerouslyDisableFetch:t});return(0,n.useEffect)((()=>{o.isAtEnd||o.fetchMore()}),[o.nextBookmark]),{...o,data:o&&o.data||[]}}function c(e={}){const t=(0,s.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}},139195:(e,t,o)=>{o.d(t,{N9:()=>n,Oh:()=>r,b0:()=>i,qu:()=>s});const n={BATCH_PRODUCT_GROUPS:"batchProductGroups",UPDATE_PRODUCT_COUNT:"updateProductGroupCount",UPDATE_FEATURED_PRODUCT_GROUP_SET:"updateFeaturedProductGroupSet"},i=e=>({type:n.BATCH_PRODUCT_GROUPS,payload:e}),s=({id:e,count:t})=>({type:n.UPDATE_PRODUCT_COUNT,payload:{id:e,count:t}}),r=e=>({type:n.UPDATE_FEATURED_PRODUCT_GROUP_SET,payload:e})},494349:(e,t,o)=>{o.d(t,{g:()=>h,I:()=>_});var n=o(667294),i=o(567450),s=o(150361),r=o.n(s);const l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},a=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:s}=o,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:a,organicVideosAutoplaying:c}=l,d=r()(a),u=r()(c);return i?d[n]={pinId:n,currentTime:s,paused:!1}:u[n]={pinId:n,currentTime:s,paused:!1},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:s}=o,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:a,organicVideosAutoplaying:c}=l,d=r()(a),u=r()(c);return i?d[n]={...d[n],paused:!0,currentTime:s}:u[n]={...u[n],paused:!0,currentTime:s},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=o(425288),d=o(785893);const{Provider:u,useHook:_}=(0,c.Z)("AppUI");function h({children:e}){const[t,o]=(0,n.useReducer)(a,l),s=(0,n.useMemo)((()=>({pauseAutoplay:e=>o({type:"PAUSE_CURRENT_VIDEO",payload:e}),setAppFocusState:e=>o({type:"SET_APP_FOCUS_STATE",payload:e}),setCurrentVideo:e=>o({type:"SET_CURRENT_VIDEO",payload:e}),setFooterPlusButtonVisible:e=>o({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),setIsAutoplay:e=>o({type:"SET_IS_AUTOPLAY",payload:e}),setViewportSize:e=>o({type:"SET_VIEWPORT_SIZE",payload:e}),toggleTypeaheadOverlay:e=>o({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})})),[]);return(0,n.useEffect)((()=>{i.Z.onSessionResume((()=>{s.setAppFocusState(!0)})).onSessionPause((()=>{s.setAppFocusState(!1)}))}),[s]),(0,d.jsx)(u,{value:{...s,appUI:t},children:e})}},479301:(e,t,o)=>{o.d(t,{i5:()=>y,sX:()=>P,Z5:()=>b,NG:()=>v,MT:()=>w});var n=o(667294),i=o(6637),s=o(802201),r=o(682492),l=o.n(r);const a=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const o={};return e.filter((e=>!!e)).reduce(((e,n)=>{const i=t(n);return o[i]?(l()(o[i],n),e):(o[i]=n,e.concat([n]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,o){let n=a(e,t).concat(o);return n=c(n,(e=>e.id)),d(n)}const _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,showConversationsDropdown:!1,ui:{},unread:0};function h(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e[o]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const o={...e,data:{...e.data}},{id:n}=t.payload;return delete o.data[n],o}if("FETCH_COMPLETE"===t.type){const{options:o,resource:n,response:i}=t.payload,s=i.resource_response.data;if("ConversationMessagesResource"===n){const t=s||[],n=(null==o?void 0:o.conversation_id)||"",i=u(e,n,t),r=i[i.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:i,unread:0,last_message:r}}}}if("ConversationsResource"===n){const t=s||[],o={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:i,board:s,emails:r,unread:l,users:a,last_message:c}=e,d=u(o,t,[c]);o.data[t]={...o.data[t],id:t,created_at:n,name:i,board:s,emails:r||[],unread:l||0,users:a||[],last_message:c,messages:d}})),o}if("ConversationResource"===n){const t=s||{},{id:o}=t,n={...e,data:{...e.data}};return o&&(n.data[o]={...n.data[o],...t}),n}if("NewsHubBadgeResource"===n){if(s){const t=s.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:o,message:n}=t.payload;if(e.data[o]){const t=u(e,o,[n]);return{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:t,last_message:n}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:o,messageId:n,newMessageId:i}=t.payload;if(e.data[o]){const t=a(e,o).find((e=>e.id===n));if(t){const s={...t,id:i};let r=a(e,o).filter((e=>e.id!==n)).concat([s]);return r=c(r,(e=>e.id)),r=d(r),{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:r}}}}}return e}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var p=o(425288),m=o(505920),g=o(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:x,useHook:b}=(0,p.Z)("Conversations");function y({children:e}){const[t,o]=(0,n.useReducer)(h,_),s=(0,n.useCallback)((e=>o({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",s),(0,m.Z8)("ConversationsResource",s),(0,m.Z8)("ConversationResource",s),(0,m.Z8)("NewsHubBadgeResource",s);const r=(0,n.useMemo)((()=>({conversationOpen:(e,t=!1,n="")=>o({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}),conversationClose:(e,t="",n=!1)=>o({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}),conversationCreate:e=>o({type:"CONVERSATION_CREATE",payload:e}),conversationDelete:e=>o({type:"CONVERSATION_DELETE",payload:{id:e}}),conversationGet:(e,t,n)=>{i.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;o({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))},dropdownClose:()=>{o({type:"CLOSE_DROPDOWN"})},dropdownOpen:()=>{o({type:"OPEN_DROPDOWN"})},pendingMessageSend:(e,t)=>o({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),pendingMessageClear:(e,t,n)=>o({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}}),updateNewsHubCount:e=>o({type:"UPDATE_NEWSHUB_COUNT",payload:e}),updateUnreadCount:e=>o({type:"UPDATE_UNREAD_COUNT",payload:e})})),[]);return(0,g.jsx)(x,{value:{...r,conversations:t},children:e})}function v(){const{conversations:e,conversationCreate:t,pendingMessageSend:o,pendingMessageClear:n}=b(),{pins:r}=(0,s.AF)();return(s,l,a,c)=>new Promise(((d,u)=>{const{text:_,pinId:h,boardId:p,userId:m,didItId:g}=l;function x(){const e=i.ZP.create("ConversationMessagesResource",{conversation_id:s,text:_,pin:h,board:p,user:m,user_did_it_data:g,source:a}),t=`${f()}`;o(s,{text:_,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:h?r[h]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{n(s,t,e.resource_response.data.id),d()})).catch(u)}e.data[s]?x():i.ZP.create("ConversationResource",{conversation_id:s}).callGet().then((e=>{const o=e&&e.resource_response&&e.resource_response.data;t(o),x()}))}))}function P(e){const{conversations:t}=b();return t.data[e]}function w(e){const{conversations:t}=b();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},545062:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(966338),s=o(694379),r=o(898781),l=o(349700),a=o(883119),c=o(785893);const d=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,r.ZP)();return(0,l.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(a.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,c.jsx)(a.xv,{color:o?"subtle":"inverse",children:(0,c.jsx)(s.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(a.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(a.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=o(704177),_=o(829407),h=o(602574),p=o(11363),m=o(584595),g=o(407043),f=o(918301),x=o(281180),b=o(480622),y=o(946984),v=o(343341),P=o(5226);function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class A extends n.PureComponent{constructor(...e){super(...e),w(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...t||Object.freeze({})}),this.toggleFollowUnfollow()}),(0,p.N4)({i18n:this.props.i18n,toFollow:!this.props.userFollowed}))),w(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),w(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:s}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),w(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),w(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast((({hideToast:i})=>(0,c.jsx)(h.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),w(this,"showConfirmation",(()=>{const e=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')})});this.showToast(e)})),w(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:i}=this.props,s=o?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===m.H9)return void i();const r=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:(0,l.nk)(s,{usernameComponent:(0,c.jsx)(a.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(r)})),w(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:s,size:r,showFollowerCount:l,userFollowed:u}=this.props,_=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:_,onClick:this.handleButtonClick,userFollowed:u});if(n)return(0,c.jsx)(a.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(l){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:_}):_;return(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{color:u?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(a.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(a.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:s||u?"gray":"red",selected:i?!u:!!u,fullWidth:o,onClick:this.handleButtonClick,size:null!=r?r:void 0,text:_})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(a.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(a.o3,{paused:t||!1})})})]})}}function C(e){const{logContextEvent:t}=(0,g.v)(),o=(0,r.ZP)(),{id:n,setMostRecentPinId:s}=(0,b.f)(),l=(0,y.Z)(),a=(0,i.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,f.y9)(),h=(0,x.mN)()(e.id),p=null==h?void 0:h.follower_count,m=h?h.explicitly_followed_by_me:e.userFollowed;return(0,_.Z)((()=>{const{id:t}=e,o=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";o&&o===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),a((0,P.ZN)(o)))})),(0,c.jsx)(A,{...e,follow:(e,t,o,n)=>{a((0,P.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:p,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:l,setMostRecentPinId:s,showEmailVerificationReminderModal:d,toastManagerContext:(0,v.F9)(),unfollow:(e,t,o,n)=>{a((0,P.KF)(e,t)).then(o,n)},userFollowed:m})}},70598:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(829407),i=o(898781),s=o(112690),r=o(728214),l=o(602574),a=o(667679),c=o(19121),d=o(957314),u=o(281180),_=o(50286),h=o(925927),p=o(343341),m=o(687999),g=o(867820),f=o(883119),x=o(785893);const b=({children:e,pulsar:t,testId:o})=>t.show?(0,x.jsx)(f.xu,{position:"relative","data-test-id":o,children:(0,x.jsxs)(f.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(f.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(f.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(f.o3,{})})]})}):(0,x.jsx)(f.xu,{"data-test-id":o,children:e});function y({auxData:e,disabled:t,disableLog:o,followEventType:y,id:v,inline:P,invertColors:w,isFollowed:A,isIdeaPin:C,isLegoEnabled:E,isSecondaryButton:j,isUserFollowButton:T,isUserMe:I,onFollow:S,onUnfollow:z,shouldUseLegoColors:k,showPulsar:D,size:R,textType:O="FollowFollowing",unfollowEventType:L,viewParameter:F,viewType:M}){const B=(0,i.ZP)(),N=(0,h.TH)(),U=(0,_.HG)(),{showToast:Z}=(0,p.F9)(),G=(0,s.Z)(),H=(0,a.Z)(),V=(0,r.Z)(),W=(0,c.Z)(),K=W&&W.isAuth,{unauthFollowUserId:$,setUnauthFollowUserId:Y}=(0,m.f)(),q=(0,u.mN)()(v);(0,n.Z)((()=>{!U&&K&&$&&v&&$===v&&S(v)}));const X=V({fn:()=>{K?A?(z(v),o||G({event_type:L,view_type:M,view_parameter:F,object_id_str:v,aux_data:e})):(S(v),T&&Z((({hideToast:e})=>{if(!q)return null;const t=`/${q.username}/`;return(0,x.jsx)(l.Z,{handleHide:e,text:(0,x.jsx)(f.xv,{children:B._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:v,href:t,imageUrl:q.image_medium_url})})),o||G({event_type:y,view_type:M,view_parameter:F,object_id_str:v,aux_data:e})):((0,g.My)(`mweb_unauth_follow_button.tap.${String(M)}`),5===M&&26===y&&(0,g.My)("mweb_unauth_board_page_follow_button.tap"),(0,g.NC)(A?"press_profile_unfollow":"press_profile_follow"),(0,g.LW)({action:"click",pageLocation:N,item:"board-follow-button"}),H({attributionLabel:C?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP"}),U||Y(null!=v?v:""),(0,g.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:B,toFollow:!A})}),Q=!A&&!!D;return(0,x.jsx)(b,{pulsar:Q?{show:!0,onClick:X}:{show:!1},testId:I||A?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(f.zx,{color:k||"AddRemove"===O||!E&&j||A?"gray":"red",disabled:I||t,fullWidth:P,onClick:Q?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||G({event_type:101,component:13672,element:11951,object_id_str:v,view_type:M,view_parameter:F,aux_data:e}),X()},selected:w?!A:k&&A||!!A&&j,size:R,text:(()=>{if(I)return B._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===O)return A?B._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):B._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===O?B._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):B._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:B._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')})()})})}},91214:(e,t,o)=>{o.d(t,{HW:()=>r,YW:()=>u,i3:()=>_,o2:()=>d});var n=o(667294),i=o(425288),s=o(785893);const r=660,l={educationId:null,paddingRight:0,zIndex:r};function a(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function _({children:e}){const[t,o]=(0,n.useReducer)(a,l);return(0,s.jsx)(c,{value:{...t,setEducationId:e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),setPaddingRight:e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),setZIndex:e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},children:e})}},480622:(e,t,o)=>{o.d(t,{C:()=>a,f:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("MostRecentPin");function a({children:e}){const[t,o]=(0,n.useState)(),[i,l]=(0,n.useState)();return(0,s.jsx)(r,{value:{id:t,plpImageSignatures:i,setMostRecentPinId:o,setMostRecentPinImage:function(e){const t=i?i.slice(0,10):[],o=[e].concat(t.filter((t=>t!==e)));l(o)}},children:e})}},232843:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("PinCreateDeleteContext")},256883:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n,i,s,r=o(319915),l=o(705834),a=o(667294),c=o(116303),d=o(985913),u=o(70598),_=o(499128),h=o(50286),p=o(898781),m=o(780280),g=o(343341),f=o(883119),x=o(167912),b=o(785893);const y=void 0!==n?n:n=o(896355),v=({follower:e,viewerId:t,viewParameter:n,viewType:r})=>{const l=(0,p.ZP)(),v=(0,h.ZP)(),P=(0,x.useFragment)(y,e),{fullName:w,entityId:A,username:C,imageMediumUrl:E,imageXlargeUrl:j,explicitlyFollowedByMe:T,verifiedIdentity:I}=P,S=`/${String(C)}/`,{isRTL:z}=(0,m.B)(),{showOneToast:k}=(0,g.F9)();let D="";w&&w.length>0&&(D=w.length<=15?w:`${w.substring(0,15)}...`);const R=void 0!==i?i:i=o(382375),O=void 0!==s?s:s=o(200722),[L,F]=(0,x.useMutation)(R),[M,B]=(0,x.useMutation)(O),N=F||B,U=()=>{T?M({variables:{followee:A}}):(L({variables:{followee:A}}),"desktop"===v&&k((({hideToast:e})=>(0,b.jsx)(_.ZP,{onHide:e,text:(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(f.xv,{children:l._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,b.jsx)(f.xv,{weight:"bold",children:w})]}),href:S,imageUrl:null!=E?E:""}))))},Z=C?`/${encodeURIComponent(C)}/`:"/",G=(0,d.Z)(l._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=w?w:""});return(0,b.jsx)(f.xu,{"data-test-id":"user-rep",display:"flex",justifyContent:"center",paddingX:2,height:75,position:"relative",children:(0,b.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:["desktop"===v?(0,b.jsx)(f.xu,{width:72,children:(0,b.jsx)(f.rU,{accessibilityLabel:G,href:S,children:(0,b.jsx)(c.Z,{accessibilityLabel:"",name:null!=w?w:"",size:"lg",src:null!=j?j:void 0,verified:Boolean(null==I?void 0:I.verified)})},`${S}:avatar`)}):(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.HE,{accessibilityLabel:l._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),role:"link",href:Z,collaborators:[{name:w||"",src:null!=E?E:void 0}],size:"sm"})}),(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.xv,{weight:"desktop"===v?"bold":void 0,children:(0,b.jsx)(f.rU,{href:Z,rounding:2,tapStyle:"compress",children:D})})}),(0,b.jsx)(f.xu,{paddingX:3,position:"absolute",left:z,right:!z,children:(0,b.jsx)(u.Z,{id:A,disabled:N,size:"md",isFollowed:T||!1,isUserFollowButton:!0,isUserMe:!!t&&t===A,onFollow:U,onUnfollow:U,followEventType:45,unfollowEventType:46,viewParameter:n,viewType:r})})]})})};var P,w=o(19121);const A=()=>window;function C({scrollContainer:e,userReference:t}){var n,i,s;const r=(0,h.ZP)(),{data:l,loadNext:c,hasNext:d}=(0,x.usePaginationFragment)(void 0!==P?P:P=o(44438),t),{id:u}=(0,w.Z)(),_=(null===(n=l.followers)||void 0===n||null===(i=n.connection)||void 0===i||null===(s=i.edges)||void 0===s?void 0:s.map((e=>null==e?void 0:e.node)).filter(Boolean))||[];let p=300;return"desktop"===r&&(p=e?550:600),(0,b.jsx)(a.Fragment,{children:!!_&&(0,b.jsx)(f.Rk,{columnWidth:p,comp:({data:e})=>e?(0,b.jsx)(v,{follower:e,viewerId:u,viewType:4,viewParameter:50}):null,gutterWidth:0,items:null!=_?_:[],layout:"desktop"===r?f.G3:"flexible",loadItems:()=>{d&&c(10)},minCols:1,scrollContainer:null!=e?e:A,virtualize:!0})})}var E,j=o(947599),T=o(430323),I=o(784590),S=o(925927);const z=void 0!==E?E:E=o(958045),k=({scrollContainer:e,userId:t})=>{var o;const n=(0,x.useLazyLoadQuery)(z,{userId:t}),{data:i}=null!==(o=n.v3GetUserHandlerQuery)&&void 0!==o?o:{};return i?(0,b.jsx)(l.Z,{viewType:4,viewParameter:50,children:(0,b.jsx)(T.Z,{view:4,component:223,children:(0,b.jsx)(f.xu,{"data-test-id":"profile-followers-feed",paddingY:2,children:(0,b.jsx)(C,{scrollContainer:e,userReference:i})})})}):null};function D({scrollContainer:e}){const t=(0,p.ZP)(),{username:o}=(0,S.UO)(),{data:n}=(0,I.Z)({name:"UserResource",options:{field_set_key:"profile",username:o}});return null!=n&&n.id?(0,b.jsx)(r.Z,{name:"SafeSuspense_ProfileFollowersControllerGraphQL_ProfileFollowersController",children:(0,b.jsx)(j.Z,{fallback:(0,b.jsx)(f.xu,{padding:5,children:(0,b.jsx)(f.$j,{accessibilityLabel:t._('Loading profile followers list', 'profile.ProfileFollowersControllerGraphQL.loading', 'accessibility label for profile followers loading spinner'),show:!0})}),children:(0,b.jsx)(k,{scrollContainer:e,userId:n.id})})}):null}},330899:(e,t,o)=>{o.d(t,{x:()=>l,y:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useMaybeHook:l}=(0,i.Z)("ProfileViewContext");function a({children:e}){const[t,o]=(0,n.useState)(),[i,l]=(0,n.useState)(),[a,c]=(0,n.useState)(),[d,u]=(0,n.useState)();return(0,s.jsx)(r,{value:{boardPinDensity:t,boardSortOrder:i,profileBoardView:a,profilePinDensity:d,setBoardPinDensity:o,setBoardSortOrder:l,setProfileBoardView:c,setProfilePinDensity:u},children:e})}},281180:(e,t,o)=>{o.d(t,{Tt:()=>a,kW:()=>r,kY:()=>s,mN:()=>l});var n=o(19121),i=o(425288);const{Provider:s,useHook:r}=(0,i.Z)("Users");function l(){const{users:e}=r();return t=>e[t]}function a(){const{id:e}=(0,n.Z)(),{users:t}=r();return t[null!=e?e:""]}},711108:(e,t,o)=>{o.d(t,{l:()=>d,E:()=>c});var n=o(667294),i=o(425288);function s(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:i}=t;if("ShareSuggestionsResource"===i.resource){var o;const n=t.payload.response.resource_response.data||[],{term:s=""}=null!==(o=i.options)&&void 0!==o?o:{};return{...e,[s]:n}}if("ShareSuggestionsTypeaheadResource"===i.resource){var n;const o=(t.payload.response.resource_response.data||{}).items||[],{term:s=""}=null!==(n=i.options)&&void 0!==n?n:{};return{...e,[s]:o}}}return e}var r=o(505920),l=o(785893);const{Provider:a,useHook:c}=(0,i.Z)("ShareSuggestions");function d({children:e}){const[t,o]=(0,n.useReducer)(s,{}),i=e=>{o({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};return(0,r.Z8)("ShareSuggestionsResource",i),(0,r.Z8)("ShareSuggestionsTypeaheadResource",i),(0,l.jsx)(a,{value:{shareSuggestions:t},children:e})}},319048:(e,t,o)=>{o.d(t,{U:()=>p,X:()=>h});var n=o(667294),i=o(6637);var s=o(760372),r=o(425288),l=o(505920),a=o(785893);const c=()=>o.e(62623).then(o.bind(o,462623));function d(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function u(e){return i.ZP.create("InterestFollowResource",{interest_id:e,interest_list:s.X})}const{Provider:_,useHook:h}=(0,r.Z)("Topics");function p({children:e}){const[t,o]=function(e,t){const o=(0,n.useRef)([]),[i,s]=(0,n.useState)(),[r,l]=(0,n.useReducer)(null!=i?i:()=>t,t),a=(0,n.useCallback)((t=>{i?l(t):(o.current.length||e().then((e=>{s((()=>e.default))})),o.current=[...o.current,t])}),[e,i]);return(0,n.useEffect)((()=>{i&&(o.current.forEach(l),o.current=[])}),[i]),[r,a]}(c,{}),i=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,l.Z8)("InterestFollowingResource",i),(0,l.Z8)("InterestResource",i);const s=(0,n.useMemo)((()=>({follow:(e,t=!1)=>{u(e).callCreate({showError:!1}).catch((()=>o(d(e,!1,t)))),o(d(e,!0,t))},topics:t,unfollow:e=>{u(e).callDelete({showError:!1}).catch((()=>o(d(e,!0)))),o(d(e,!1))}})),[o,t]);return(0,a.jsx)(_,{value:s,children:e})}},687999:(e,t,o)=>{o.d(t,{f:()=>l,w:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("Session");function a({children:e}){const[t,o]=(0,n.useState)(void 0),i=(0,n.useMemo)((()=>({removeUnauthFollowUserId:()=>o(void 0),setUnauthFollowUserId:o})),[]);return(0,s.jsx)(r,{value:{unauthFollowUserId:t,...i},children:e})}},326015:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(993786),s=o(883119),r=o(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:o,identityIsVerified:l,isVerifiedMerchant:a,truncate:c=!1}){const d=o.split(" "),u=d.slice(0,d.length-1).join(" "),_=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:o}),(0,r.jsx)(s.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[_," ",(0,r.jsx)(s.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]})]})}},486840:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(231486),s=o(172071),r=o(6637),l=o(226198);function a(e,t){i.t8(l.L9,"allowed",8760),t&&t(),s.Z.increment("auth.web.notifications.allowed",1);let o=e.subscriptionId;if(!o){const t=e.endpoint.split("/");o=t[t.length-1]}return r.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{var n,i;const s=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};if(!(o in s)){const t={registration_id:o,subscription_endpoint:e.endpoint};return r.ZP.create("WebPushDeviceResource",t).callCreate()}}))}var c=o(19121);function d(e,t){var o;if(s.Z.increment("auth.web.notifications.viewed",1),"undefined"!=typeof navigator&&"serviceWorker"in navigator)return null===(o=navigator.serviceWorker)||void 0===o?void 0:o.ready.then((o=>{var n;null==o||null===(n=o.pushManager)||void 0===n||n.subscribe({userVisibleOnly:!0}).then((t=>a(t,e)),(o=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(l.L9,"dismissed",8760),t&&t(),s.Z.increment("auth.web.notifications.dismissed",1)):(i.t8(l.L9,"denied",8760),e&&e(),s.Z.increment("auth.web.notifications.denied",1))}))})).catch((()=>{}))}function u(){const{isAuth:e,isLimitedLogin:t}=(0,c.Z)();return(0,n.useEffect)((()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{var o;t&&i.t8(l.L9,"denied",8760),e||i.t8(l.L9,"denied",8760),"showNotification"in ServiceWorkerRegistration.prototype||i.t8(l.L9,"denied",8760),"Notification"in window&&"denied"!==Notification.permission||i.t8(l.L9,"denied",8760),"PushManager"in window||i.t8(l.L9,"denied",8760),null===(o=navigator.serviceWorker)||void 0===o||o.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return a(e);throw i.t8(l.L9,"none",8760),new Error})).catch((e=>{}))})).catch((()=>{}))}),[e,t]),d}},705834:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(618446),s=o.n(i),r=o(674806),l=o(385740),a=o(785893);class c extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:o,viewType:n}=this.props;e({viewData:t,viewParameter:o,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:o,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&s()(o,e.viewData)||t({viewData:o,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:o,objectIdStr:n,viewData:i,viewParameter:s,viewType:l,clientTrackingParams:c}=this.props;return(0,a.jsx)(r.Z,{auxData:e,component:o,objectIdStr:n,clientTrackingParams:c,viewData:i,viewParameter:s,viewType:l,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:o}=(0,l.sV)();return(0,a.jsx)(c,{...e,clearCurrentPageData:o,setCurrentPageData:t})}},674806:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(112690),s=o(867820);const r=({viewType:e,viewParameter:t,viewData:o,auxData:n,objectIdStr:i,component:r,clientTrackingParams:l,element:a},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:n,object_id_str:i,component:r,clientTrackingParams:l,element:a},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(d)};function l(e){const{auxData:t,clientTrackingParams:o,children:s,component:l,element:a,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,h=(0,i.Z)(),p=JSON.stringify(t),m=JSON.stringify(d);return(0,n.useEffect)((()=>{r(e,h)}),[h,p,o,l,a,c,m,u,_]),n.Children.only(s)}},223656:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(758127),s=o(898781),r=o(112690),l=o(892819),a=o(91885),c=o(349700),d=o(50286),u=o(780280),_=o(276602),h=o(883119),p=o(785893);const m="133%";function g(e){const{isRTL:t}=(0,u.B)(),o=(0,s.ZP)(),i=t?-1:1,{borderRadius:r=16,containerBackgroundColor:l="white",images:a,applyWash:c}=e,g=(0,_.EV)(),f=a.slice(0,5);for(;f.length<5;)f.push({name:"",url:""});const x=(0,d.HG)(),[b,y]=(0,n.useState)(Array.from({length:5},(()=>!1))),[v,P]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{b.includes(!1)||v||!g||(g.addAnnotation("allPinsCard.imagesLoaded"),P(!0))}),[v,b,g]),(0,p.jsxs)(h.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,p.jsx)(h.sg,{span:6,children:(0,p.jsx)(h.xu,{position:"relative",children:f.map(((e,t)=>{var n;return(0,p.jsx)(h.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:m,borderRadius:r,transform:`translateX(${25*i*t}%)`,zIndex:x?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:x?157:void 0,width:"100%",children:(0,p.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${l}`,borderRadius:r}},overflow:"hidden",children:(0,p.jsx)(h.zd,{width:"100%",height:"100%",wash:c,children:(0,p.jsx)(h.Ee,{alt:e.name||o._('Pin image', 'pileImageGroup', 'Alt text for group of pin images'),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,y((t=>{const o=[...t];return o.splice(e,1,!0),o}))}})})})},t)}))})}),(0,p.jsx)(h.sg,{span:6})]})}var f=o(867820),x=o(808058),b=o(925927);const y=({children:e})=>(0,d.HG)()?(0,p.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,p.jsx)(h.xv,{lineClamp:1,weight:"bold",children:e});function v({storyPinImages:e,pinCount:t,subtitle:o,userId:_,isOwnProfile:m}){const v=(0,s.ZP)(),P=(0,b.TH)(),w=(0,r.Z)(),A=(0,l.Z)(),C=(0,b.UO)(),{isAuthenticated:E,locale:j}=(0,u.B)(),{username:T}=C,I=`/${null!=T?T:""}/pins/`,S=(0,d.HG)(),[z,k]=(0,n.useState)(!1);return(0,p.jsx)(h.xu,{height:"100%",padding:S?2:0,"data-test-id":a.Kb,children:(0,p.jsx)(h.iP,{role:"link",href:I,rounding:2,tapStyle:"compress",onMouseEnter:()=>{k(!0)},onMouseLeave:()=>{k(!1)},onTap:()=>{E?S&&w({event_type:101,component:13676,object_id_str:_,view_type:4,view_parameter:m?3106:3107}):((0,f.NC)("click_go_to_board"),(0,f.LW)({action:"click",pageLocation:P,item:"board-card-all-pins"}))},children:(0,p.jsx)(h.xu,{paddingY:S?0:3,width:S?x.M0:void 0,children:(0,p.jsxs)(h.xu,{height:"100%",position:"relative",width:"100%",children:[(0,p.jsx)(g,{images:e,applyWash:z}),(0,p.jsxs)(h.xu,{display:"block",height:S?void 0:x.s0,marginTop:S?0:1,paddingX:2,paddingY:S?2:0,children:[(0,p.jsx)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,p.jsx)(y,{children:v._('All Pins', 'allPinsCard.heading', 'Label for component leading to a page that shows all Pins of a user')})}),(0,p.jsx)(h.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,p.jsxs)(h.xv,{size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),(0,c.nk)(v.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.allPins.AllPinsCard.PinsCount', 'label for n amount of pins'),{count:A(j,t,{})}),(0,p.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:S?"inline-flex":"inline",paddingLeft:7}},children:(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]}):(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]})]})})})})}},14254:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(948618),s=o(70598),r=o(298361),l=o(112690),a=o(892819),c=o(19121),d=o(349700),u=o(867820),_=o(217468),h=o(50286),p=o(758127),m=o(322937),g=o(898781),f=o(808058),x=o(883119),b=o(785893);function y(e,t){const{full_name:o,username:n}=e,i=(0,b.jsx)(x.rU,{href:`/${n}`,inline:!0,underline:"hover",children:o});return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:i})}const v=({children:e})=>{const t=(0,c.Z)(),o=(0,h.HG)(),n=t&&t.isAuth;return o&&n?(0,b.jsx)(x.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,b.jsx)(x.xv,{lineClamp:1,weight:"bold",children:e})};function P({archivedDate:e,boardUrl:t,canEdit:o,collaborators:c,collaboratorsCount:P=0,containerBackgroundColor:w,coverPhoto:A,followedByMe:C,fullSizeDrawer:E,sensitivityScreen:j,handleInviteResponse:T,hideMeta:I,id:S,invite:z,imagesLego:k=[],isBoardInviteAccepted:D,isActive:R,isAuthenticated:O,isCollaborative:L,isCollaborator:F,isOwner:M,isSecret:B,lastModifiedDate:N,layout:U,locale:Z,name:G,numCols:H,onEditClick:V,onFollow:W,onUnfollow:K,owner:$,pinCount:Y=0,sectionCount:q,showFollowButton:X,viewParameter:Q,viewType:J,viewerId:ee}){const te=(0,g.ZP)(),oe=(0,r.Z)(),ne=(0,a.Z)(),ie=(0,l.Z)(),se=(0,h.HG)()&&O,re="square"===U?f.M0:f.z9,le=k.map((e=>({url:e.url,name:G}))),ae=!!$&&!o&&X,ce=(0,_.tc)("mweb_board_sensitivity_screen"),de=!M&&!F&&ce().anyEnabled,ue=!(null==j||!j.show_warning)&&de,_e={board_id:S,reason:null==j?void 0:j.reason};(0,n.useEffect)((()=>{ue&&ie({event_type:13,component:13861,view_type:215,aux_data:_e})}),[]);const he=$?$.id:void 0,pe=[...c.filter((({id:e})=>e===he)),...c.filter((({id:e})=>e===ee&&e!==he)),...c.filter((({id:e})=>![he,ee].includes(e)))].map((e=>{var t,o;return{name:null!==(t=se?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let me=P>=pe.length?P-pe.length:0;me=me>99?100:me;const ge=[...pe,...Array(me).fill({name:"",src:""})],fe=se?24:16,xe=fe/3*(2*(pe.length>2?3:pe.length)+1);return(0,b.jsxs)(x.xu,{"data-test-id":`boardCard-${G}`,height:ae?220:"100%",position:"relative",width:se?re:"100%",children:[(0,b.jsx)(m.Z,{canEdit:o,containerBackgroundColor:w,coverPhoto:A,images:le,isSecret:B,fullSize:E,showSensitivityScreen:ue,isActive:R,onEditClick:V,layout:U}),!I&&(0,b.jsx)(n.Fragment,{children:z?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(x.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsxs)(x.xu,{width:"100%",children:[(0,b.jsx)(x.rU,{href:null!=t?t:"",children:(0,b.jsx)(x.xu,{marginTop:0,marginBottom:1,children:(0,b.jsx)(v,{children:G})})}),D?(0,b.jsx)(x.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(x.xv,{size:"200",children:y(z.invited_by_user,te)})]}),(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),D?(0,b.jsx)(x.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(x.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(x.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(x.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,onClick:()=>{null==T||T(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,color:"red",onClick:()=>{null==T||T(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(x.xu,{height:se?void 0:f.s0,marginTop:se?0:1,paddingX:2,paddingY:se?2:0,children:[(0,b.jsxs)(x.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(v,{children:G}),L&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),(0,b.jsx)(x.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:(0,b.jsxs)(x.xv,{size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', Y, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(Z,Y,{})}),!!q&&(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(i.Z,{ariaHidden:!0}),(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', q, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:q})]}),!e&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{display:se?"inline-flex":"inline",paddingLeft:7}},children:(0,b.jsxs)(x.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),oe(N,!0)]})})]})}),!!e&&(0,b.jsxs)(x.xu,{marginTop:1,children:[(0,b.jsx)(p.Z,{}),(0,b.jsx)(x.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),ae&&(0,b.jsx)(x.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,b.jsx)(s.Z,{disabled:null==$?void 0:$.blocked_by_me,followEventType:26,id:S,isFollowed:C,onFollow:e=>{O||(0,u.NC)("press_follow_board"),W&&W(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),K&&K(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:Q,viewType:J})})]})})]})}},371918:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({customCover:e,height:t,imgUrl:o,imgPos:s,width:r}){const l=t/r;let a="center center";if(e&&s){let e=1;e=s.height/s.width>l?r/s.width:t/s.height;a=`-${s.x*e}px -${s.y*e}px`}const c={backgroundImage:`url(${o})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(371918),i=o(217508),s=o(898781),r=o(50286),l=o(780280),a=o(808058),c=o(883119),d=o(785893);const u="100%";function _(e){var t,o,_,h;const p=(0,s.ZP)(),{containerBackgroundColor:m="white",coverPhoto:g,fullSize:f,images:x,isSecret:b,showSensitivityScreen:y,isActive:v,canEdit:P,onEditClick:w,layout:A}=e,C=(0,r.HG)(),{isRTL:E,isAuthenticated:j}=(0,l.B)(),T=C&&j,I=x[0],S=!g&&(null===(t=x[0])||void 0===t?void 0:t.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),z=Array(2).fill(),k=new c.Ry(1),D="square"===A?a.M0:a.z9,R="square"===A?a.FP:a.FC,O=y?{filter:"blur(20px)"}:{};return(0,d.jsx)(c.zd,{height:f?"100%":void 0,rounding:4,width:"100%",wash:v,children:(0,d.jsxs)(c.xu,{"aria-hidden":!0,display:"flex",height:T?R:"100%",direction:"row",children:[(0,d.jsx)(c.sg,{span:8,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:f?"100%":void 0,children:(0,d.jsx)(c.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[b&&(0,d.jsx)(c.xu,{left:!E,right:E,margin:2,position:"absolute",top:!0,zIndex:k,children:(0,d.jsx)(i.Z,{backgroundColor:"white",iconColor:"darkGray",size:T?32:24})}),T&&null!=g&&g.url?(0,d.jsx)(n.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=g.url)&&void 0!==o?o:"",width:Math.floor(D/3*2),height:R}):(0,d.jsx)(c.Ee,{alt:S,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(_=null!==(h=null==g?void 0:g.url)&&void 0!==h?h:null==I?void 0:I.url)&&void 0!==_?_:""})]})})})}),(0,d.jsx)(c.sg,{span:4,children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[P&&v&&(0,d.jsx)(c.xu,{left:E,right:!E,margin:2,position:"absolute",bottom:!0,zIndex:k,children:(0,d.jsx)(c.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==w?void 0:w(e),size:"sm"})}),z.map(((e,t)=>{var o,n;const i=x[T?t:t+1];return(0,d.jsx)(c.xu,{position:"relative",height:f?"50%":void 0,children:(0,d.jsx)(c.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,d.jsx)(c.Ee,{alt:null!==(o=null==i?void 0:i.name)&&void 0!==o?o:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==i?void 0:i.url)&&void 0!==n?n:""})})})},t)}))]})}),y&&(0,d.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,d.jsx)(c.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},808058:(e,t,o)=>{o.d(t,{FC:()=>l,FP:()=>s,M0:()=>i,s0:()=>n,z9:()=>r});const n=34,i=236,s=157,r=320,l=213},286268:(e,t,o)=>{o.d(t,{Bw:()=>c,Jx:()=>r,RR:()=>l,b1:()=>a,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),i=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),s=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var o;return"string"==typeof e?n(e)!==t:n(null!==(o=e.url)&&void 0!==o?o:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(s(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(s(t)).map(i):[],l=(e,t)=>{var o,n;const i=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!i)return"";const s=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,a=null!==(o=null!==(n=null!=s?s:r)&&void 0!==n?n:l)&&void 0!==o?o:"",c=e.image_cover_url||"";return i||(t>2&&a?a:"")||c},a=e=>{var t,o;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,i=null!==(t=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==t?t:n,s=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return i||s},c=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},715173:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),s=o(319048),r=o(785893);function l({fullWidth:e,isFollowed:t,topicId:o,primaryAction:l=!1,onFollow:a=(()=>{}),onUnFollow:c=(()=>{}),isFollowedText:d,isNotFollowedText:u,size:_="md"}){const h=(0,n.ZP)(),{follow:p,topics:m,unfollow:g}=(0,s.X)(),f=m[o],x=f?Boolean(f.is_followed):t;return(0,r.jsx)(i.zx,{color:"gray",selected:!x,fullWidth:!e,onClick:()=>{x?(c(o),g(o)):(a(o),p(o,l))},text:x?d||h._('Following', 'Button text to display for unfollowing an interest', 'Button text to display for unfollowing an interest'):u||h._('Follow', 'Button text to display for following an interest', 'Button text to display for following an interest'),size:_})}},464019:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(715173),i=o(694379),s=o(898781),r=o(349700),l=o(883119),a=o(785893);function c({backgroundColor:e,followersCount:t,followersCountDisplay:o,height:n,image:i,name:c,width:d}){var u,_,h;const p=(0,s.ZP)(),m=p.ngettext('{{ count }} {{ label }}', '{{ count }} {{ label }}', t || 0, 'indicate a number of followers', 'indicate a number of followers'),g=p.ngettext('follower', 'followers', t || 0, 'used in {{count}} {{followers}}', 'used in {{count}} {{followers}}'),f=n||d;return(0,a.jsx)(l.xu,{children:(0,a.jsxs)(l.zd,{rounding:4,children:[i?(0,a.jsxs)(l.xu,{position:"relative",children:[(0,a.jsx)(l.GH,{width:d,height:f,contentAspectRatio:(null!==(u=i.width)&&void 0!==u?u:1)/(null!==(_=i.height)&&void 0!==_?_:1),children:(0,a.jsx)(l.Ee,{alt:c,color:e,naturalHeight:1,naturalWidth:1,src:null!==(h=i.url)&&void 0!==h?h:""})}),(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,a.jsxs)(l.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,a.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:c}),t?(0,a.jsx)(l.xu,{children:(0,r.nk)(m,{count:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:o},"followersCount"),label:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",children:g},"followersLabel")})}):null]})]})})}const d=236;function u(e){const{backgroundColor:t,followedByMe:o,followersCount:s,height:r,id:u,image:_,name:h,url:p,width:m=d,followingButton:g}=e,f=s?(0,a.jsx)(i.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1}):"",x=g||(0,a.jsx)(n.Z,{fullWidth:!0,topicId:u,isFollowed:o}),b=(0,a.jsx)(c,{backgroundColor:t,followersCount:s,followersCountDisplay:f,image:_,name:h,width:m,height:r});return(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.xu,{width:m,children:[p?(0,a.jsx)(l.iP,{role:"link",href:`/ideas/${p}/${u}`,children:b}):b,(0,a.jsx)(l.xu,{marginTop:2,display:"flex",justifyContent:"center",children:x})]})})}},993786:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(966113),s=o(898781),r=o(883119),l=o(785893);const a={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,s.ZP)();return(0,l.jsx)(r.u,{link:(0,l.jsx)(r.rU,{href:i.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,l.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:o,showText:i,size:d}){const u=(0,s.ZP)(),_=(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:a[d]}),i&&(0,l.jsx)(r.xu,{marginStart:2,children:(0,l.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(n.Fragment,{children:[o&&!t&&(0,l.jsx)(c,{children:_}),o&&t&&_,e&&!o&&(0,l.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:a[d]})]})}},154391:(e,t,o)=>{o.d(t,{H:()=>s,o:()=>i});var n=o(425288);const{Provider:i,useHook:s}=(0,n.Z)("LimitedLogin")},957314:(e,t,o)=>{o.d(t,{N4:()=>s,Wh:()=>n,hr:()=>i});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(50286),s=o(154391),r=o(957314);const l=()=>{const e=(0,n.ZP)(),t=(0,i.HG)(),{viewer:o,loginForMore:l,limitedLoginModalSubheader:a,limitedLoginModalNextLocation:c}=(0,s.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:n})=>i=>{let s=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?s=i:i.event&&(s=i.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o||(o=t?(0,r.hr)(e):(0,r.Wh)(e)),null==l||l.setVisible(!0),null==a||a.setText(o),n&&(null==c||c.setRoute(n))}:({fn:e})=>e}},409828:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,userId:o}){const{logContextEvent:d}=(0,l.v)(),[u,_]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({showSendMessageFlyout:()=>{_((e=>!e))}})}),u&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),_(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[o],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>_(!1),message:h})]})}},774807:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(934523),s=o(883119),r=o(785893);function l({anchor:e,idealDirection:t,message:o,onDismiss:l,onMessageChange:a,onMessageSubmit:c}){const d=(0,n.ZP)();return(0,r.jsx)(s.mh,{zIndex:new s.Ry(i.fe-1),children:(0,r.jsx)(s.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:l,size:"md",children:(0,r.jsxs)(s.xu,{padding:3,width:"100%",children:[(0,r.jsx)(s.Kx,{id:"message",value:o,onChange:({value:e})=>a(e),placeholder:d._('Add a message', 'profileHeader.actionBar.messageFlyout.textareaPlaceholder', 'Text placeholder when sending a message to another user')}),(0,r.jsx)(s.xu,{marginTop:3,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",text:d._('Send', 'profileHeader.actionBar.messageFlyout.sendButton', 'Label for button to send this message to this user'),disabled:""===o.trim(),onClick:c})})]})})})}},424432:(e,t,o)=>{o.d(t,{L:()=>l,M:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useMaybeHook:l}=(0,i.Z)("CreateSectionTooltip");function a({children:e}){const[t,o]=(0,n.useState)(!1);return(0,s.jsx)(r,{value:{showCreateSectionTooltip:t,setShowCreateSectionTooltip:o},children:e})}},602574:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(883119),i=o(785893);function s({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,s,r;return(0,i.jsx)(n.xu,{height:48,width:28,color:"white",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,i.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=null==e?void 0:e.height)&&void 0!==s?s:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,i.jsx)(n.kC,{justifyContent:"center",children:(0,i.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}var r=o(499128),l=o(898781),a=o(784590),c=o(50286);function d({handleHide:e,text:t,userId:o,href:d,imageUrl:u}){const _=(0,l.ZP)(),h=(0,c.HG)(),p=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),m=Array.isArray(t)?t.join(" "):t;if(0===(p.data||[]).length){const t=u?(0,i.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(n.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,i.jsx)(r.ZP,{duration:5e3,onHide:e,text:m,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const g=(p.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),f=(0,i.jsx)(s,{ideaPinImages:g});return(0,i.jsx)(r.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:f,text:m,thumbnailShape:"square"})}},223123:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(966338),i=o(6637),s=o(332611),r=o(886858),l=o(379725),a=o(414327),c=o(782677);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var d,u;const _=await i.ZP.create("BoardResource",o).callCreate(),h=null===(d=_.resource_response)||void 0===d?void 0:d.data,p=n?(0,c.Fv)(h,n):void 0;e((0,a.XM)("BoardResource",o,_,p)),e((0,s.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,l.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,a.jB)("BoardsResource",t))})),Object.keys(g).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,a.jB)("BoardsFeedResource",t))})),h}}},203997:(e,t,o)=>{function n(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function i(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}o.d(t,{B:()=>i,y:()=>n})},5226:(e,t,o)=>{o.d(t,{KF:()=>c,ZN:()=>r,fv:()=>a,yA:()=>l});var n=o(6637),i=o(482546);function s(e,t){return n.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return o=>{s(e,t).callCreate().catch((()=>o((0,i.P)(e,!1)))),o((0,i.P)(e,!0))}}function l(e,t=null){return async o=>{o((0,i.P)(e,!0)),await s(e,t).callCreate().catch((t=>{throw o((0,i.P)(e,!1)),t}))}}function a(e,t=null){return o=>{s(e,t).callDelete().catch((()=>o((0,i.P)(e,!0)))),o((0,i.P)(e,!1))}}function c(e,t=null){return async o=>{o((0,i.P)(e,!1)),await s(e,t).callDelete().catch((t=>{throw o((0,i.P)(e,!0)),t}))}}},482546:(e,t,o)=>{function n(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}o.d(t,{J:()=>n,P:()=>i});const i=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}})},337234:(e,t,o)=>{o.d(t,{Z:()=>N});var n=o(667294),i=o(966338),s=o(45347),r=o(319915),l=o(816003),a=o(263116),c=o(965261),d=o(52713),u=o(335972),_=o(497997),h=o(767790),p=o(604052),m=o(19121),g=o(424432),f=o(273022),x=o(826067),b=o(185760),y=o(217468),v=o(276602),P=o(551154),w=o(925927),A=o(785893);const C=(0,a.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,774026)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 774026}}),E=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,320101)))),j=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,67973)))),T=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,890328)))),I=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,440414)))),S=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,256883)))),z=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,410004)))),k=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,285970)))),D=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,842822)))),R=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,627658)))),O=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,117855)))),L=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,375553))));function F(e,t){switch(e){case"pins":return(0,A.jsx)(j,{});case"_created":return(0,A.jsx)(T,{});case"_followers":return t().anyEnabled?(0,A.jsx)(S,{}):(0,A.jsx)(I,{});case"_following":return(0,A.jsx)(z,{});case"_saved":return(0,A.jsx)(D,{});case"tried":return(0,A.jsx)(k,{});case"topics":return(0,A.jsx)(R,{});case"story_pins":return(0,A.jsx)(O,{});case"video_pins":return(0,A.jsx)(L,{});case"_shop":return(0,A.jsx)(E,{});default:return(0,A.jsx)(C,{})}}C.preload();const M=()=>{const e=(0,m.Z)(),t=(0,w.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)};function B(){var e;const t=(0,v.EV)(),o=(0,i.useDispatch)(),a=(0,w.k6)(),u=(0,w.TH)(),m=(0,w.$B)(),C=(0,i.useSelector)((({ui:e})=>e.mainComponent.locationToErrorMap)),E=M(),j=(0,h.Z)(),T=(0,l.Z)(j.data),I=(0,y.tc)("web_unified_followers_page");(0,p.Z)({name:"UserResource",getOptions:({routeData:{params:{username:e}}})=>({username:e,field_set_key:"board_visibility"}),checkExperiments:e=>{const{anyEnabled:t}=e.getWithoutActivation("web_shopping_list_controls");return t}}),(0,n.useEffect)((()=>{(0,c.Z)(),E&&o((0,P.z5)())}),[]),t&&T&&t.abort("business_profile");const S=(null===(e=j.data)||void 0===e?void 0:e.has_catalog)&&RegExp(/\?pin=/).test(u.search),z=m.path.split("/").filter(Boolean)[1]||b.u.DECIDER,k=T&&j.data?(0,A.jsx)(s.Z,{businessProfileTab:z}):F(z,I);return(0,A.jsx)(g.M,{children:(0,A.jsx)(d.Z,{history:a,minimalPartnerHeader:S,renderError:C[u.pathname],showPulsar:Boolean((0,x.mB)(u.search).showPulsar),tab:z,unsetError:()=>o((0,f.L)(u.pathname)),username:m.params.username||"",children:(0,A.jsx)(r.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:(0,A.jsx)(_.Z,{children:k})})})})}function N(){const e=M();return(0,A.jsx)(u.Z,{surface:e?"own_profile":"other_profile",customEnabledNavigationTypes:["client_route_push","client_route_replace"],measureGridVisuallyComplete:!0,children:(0,A.jsx)(B,{})})}},597897:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(667294);const i=(0,n.createContext)();function s(){return(0,n.useContext)(i)}const r=i},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},e=>{e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,48035,5035,25848,43473,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,66113,62015,25927,40199,48358,97947,87072,31971,58150,26255,48719,69853,76532,45847,4646,74136,88177,61627,15071,78942],(()=>(t(205418),t(679875),t(559637),t(992127),t(52193),t(38101),t(907254),t(331137),t(832753),t(333905))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]-authdesktop-522fc40e81c77a8b.mjs.map