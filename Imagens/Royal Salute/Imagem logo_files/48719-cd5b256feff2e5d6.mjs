(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[48719,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},554290:(e,i,t)=>{var n=t(406557);e.exports=function(e){return"function"==typeof e?e:n}},385564:(e,i,t)=>{var n=t(121078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},498913:(e,i,t)=>{var n=t(422545),o=t(554290),a=t(640554),r=4294967295,s=Math.min;e.exports=function(e,i){if((e=a(e))<1||e>9007199254740991)return[];var t=r,l=s(e,r);i=o(i),e-=r;for(var d=n(l,i);++t<e;)i(t);return d}},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55,SHIPPING_WIDTH:56,SHIPPING_HEIGHT:57,LENGTH_UNIT:58,DESCRIPTION_HTML:59,CHECKOUT_ENABLED:60},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},LengthUnitType:{IN:1,FT:2,MM:3,CM:4,M:5,KM:6},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{ONBOARDING:0,DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5,API:6},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},FeedSourceType:{CATALOGS_FEED:1,UNIVERSAL_FEED:2},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,NO_VIOLATION:25,MISCELLANEOUS:26,INACTIVE_FEED:33,AUTOREJECT:61,MARKETPLACE_SECOND_HAND:34,MARKETPLACE_AFFILIATES:35,MARKETPLACE_WHOLESALE:36,BROKEN_404:37,BROKEN_REGISTRATION:38,INCOMPLETE_WEBSITE_TEMPLATE:39,INCOMPLETE_PRODUCT_CATEGORIES:40,INCOMPLETE_BROKEN_SHOPPING_CART:41,LONG_SHIPPING_TIME:42,AUTHENTICITY_PLAGIARIZED_ABOUT:43,AUTHENTICITY_NO_SOCIALS_OR_ABOUT:44,AUTHENTICITY_NO_CONTACT_INFORMATION:45,AUTHENTICITY_PAYPAL_VERIFIED_LOGO:46,IMAGE_QUALITY_BLURRY_IMAGES:47,IMAGE_QUALITY_STOCK_PHOTOS:48,INAUTHENTIC_PHOTOS_EMPTY_OR_BROKEN_PHOTOS:49,INAUTHENTIC_PHOTOS_IMAGE_NOT_OF_PRODUCT:50,WATCHLIST_DROPSHIPPER:51,WATCHLIST_TRAFFIC_50_TO_69:52,WATCHLIST_TRAFFIC_70_TO_89:53,WATCHLIST_TRAFFIC_90_TO_100:54,PRODUCTS_GENERIC_PRODUCT_DESCRIPTION_OR_MISMATCH:55,PRODUCTS_NO_PRODUCT_CATEGORIES:56,RETURNS_MISMATCH:57,PINTEREST_TRAFFIC_71_TO_100:58,SCAMADVISER_SCORE_1_TO_80:59,BROKEN_SOCIAL_MEDIA:60,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32,BROKEN_URL:5,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,IMAGE_QUALITY:18,INAUTHENTIC_PHOTOS:24,DOMAIN_TOOLS_SCORE:27},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,ITEM_NOT_FOUND:98,ITEM_ALREADY_EXISTS:99,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,ADULT_FLAGGED:171,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,IMAGE_DOWNLOAD_HTTP_STATUS_400:1200,IMAGE_DOWNLOAD_HTTP_STATUS_403:1201,IMAGE_DOWNLOAD_HTTP_STATUS_404:1202,IMAGE_DOWNLOAD_HTTP_STATUS_405:1203,IMAGE_DOWNLOAD_HTTP_STATUS_410:1204,IMAGE_DOWNLOAD_HTTP_STATUS_429:1205,IMAGE_DOWNLOAD_HTTP_STATUS_500:1206,IMAGE_DOWNLOAD_HTTP_STATUS_502:1207,IMAGE_DOWNLOAD_HTTP_STATUS_503:1208,IMAGE_DOWNLOAD_HTTP_STATUS_504:1209,IMAGE_DOWNLOAD_HTTP_STATUS_507:1210,IMAGE_DOWNLOAD_HTTP_STATUS_508:1211,IMAGE_DOWNLOAD_HTTP_STATUS_520:1213,IMAGE_DOWNLOAD_HTTP_STATUS_521:1214,IMAGE_DOWNLOAD_HTTP_STATUS_522:1215,IMAGE_DOWNLOAD_HTTP_STATUS_525:1216,IMAGE_DOWNLOAD_SITE_TIMEOUT:1300,IMAGE_DOWNLOAD_CONTENT_READ_ERROR:1301,IMAGE_DOWNLOAD_SITE_ERROR:1302,IMAGE_DOWNLOAD_SSL_ERROR:1303,IMAGE_DOWNLOAD_SSL_HANDSHAKE_ERROR:1304,IMAGE_DOWNLOAD_DNS_LOOKUP_ERROR:1305,IMAGE_PROCESSING_HEIGHT_TOO_SMALL:1400,IMAGE_PROCESSING_WIDTH_TOO_SMALL:1401,IMAGE_PROCESSING_TOO_MANY_PIXELS:1402,IMAGE_PROCESSING_TYPE_MISMATCH:1403,IMAGE_PROCESSING_EMPTY_FILE:1404,IMAGE_DOWNLOAD_JOB_NOT_FOUND:1500,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,SHOPIFY_NUMBER_OF_COLLECTIONS:4104,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,FIELD_IS_EQUAL_TO_PREVIOUS_VALUE:5e3,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},890473:(e,i,t)=>{t.d(i,{GT:()=>E,Gy:()=>l,Kl:()=>A,QY:()=>h,RR:()=>_,SP:()=>u,Sn:()=>T,Uz:()=>p,Zs:()=>I,i8:()=>d,nn:()=>s,qN:()=>c});var n=t(227361),o=t.n(n),a=t(834911),r=t(229428);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var i,t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(i=null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&void 0!==i?i:[]).length>0},d=e=>{var i;return null===(i=e.aggregated_pin_data)||void 0===i?void 0:i.is_shop_the_look},_=e=>{var i,t;return null===(i=e.rich_summary)||void 0===i||null===(t=i.aggregate_rating)||void 0===t?void 0:t.rating_value},c=e=>e.is_oos_product,u=e=>e.is_stale_product,p=e=>c(e)||u(e),h=e=>{const i=o()(e,"link_domain.official_user.full_name");if(i)return i;const t=o()(e,"rich_summary.site_name");if(t)return t;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const n=o()(e,"via_pinner.full_name");return e.is_repin&&n?n:void 0},E=e=>{if(e){const i=e.shopping_flags||[];return!i.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&i.push(10),i}return[]};function I(e,i={}){var t,n,o,s,l,d;const _=E(e),c={...i.commerce_data};_.includes(2)&&(c.pin_is_shop_the_look=!0),_.includes(1)&&(c.is_available=!0),_.includes(5)&&(c.is_product_pin_v2=!0),_.includes(6)&&(c.is_rich_product_pin=!0),_.includes(10)&&(c.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,r.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(c.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?c.pin_show_pdp_oos=!0:e.is_stale_product?c.pin_show_pdp_stale=!0:c.pin_show_pdp=!0;const i=(0,a.Z)({pin:e});var u;if(i)c.image_count=null===(u=i.carousel_slots)||void 0===u?void 0:u.length,c.image_index=i.index}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.item_id&&(c.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(c.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(c.pin_is_shop_the_look=!0),e.story_pin_data&&(c.story_pin_id=e.story_pin_data.id),c}function T(e){const i=JSON.stringify(e);return"{}"!==i?{commerce_data:i}:null}const A=(e,i={})=>{if(e){return T(I(e,i))}return null}},574589:(e,i,t)=>{function n(e){return Boolean(e.promoted_is_removable)}t.d(i,{Z:()=>n})},974166:(e,i,t)=>{t.d(i,{A6:()=>d,BS:()=>s,EC:()=>a,FC:()=>n,_5:()=>l,m9:()=>r,z9:()=>o});const n=424,o=800,a=508,r=424,s=278,l=640,d=508},405669:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(867820);async function o({filename:e,imgSrc:i,imageDownloadSuccessCallback:t,category:o,isUnauth:a,pinId:r,viewParameter:s,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,n.My)(`web.${a?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:r,view_type:l||3,view_parameter:s||139}),i&&document?fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((i=>{var n,o;const a=document.createElement("a");a.href=window.URL.createObjectURL(i),a.setAttribute("download",e&&e.replace(".","_")),a.style.display="none",null===(n=document.body)||void 0===n||n.appendChild(a),a.click(),null===(o=document.body)||void 0===o||o.removeChild(a),null==t||t()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},946244:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(667294),o=t(966338),a=t(49491),r=t(898781),s=t(6637);var l=t(883119),d=t(785893);function _({favorited:e,favoriteCount:i,isCloseupButton:t,onFavorite:_,onUnfavorite:c,pinId:u,size:p}){const h=(0,r.ZP)(),E=(0,o.useDispatch)(),[I,T]=(0,n.useState)(!1),[A,P]=(0,n.useState)(e),[m,f]=(0,n.useState)(null!=i?i:0),S=async()=>{var e;P(!A),T(!0),A?(f(m-1),await E((e=u,async i=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),c(),T(!1)):(f(m+1),await E(function(e){return async i=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),_(),T(!1))},g=m<10?m:h._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==i&&m>0&&(0,d.jsx)(l.xv,{size:"200",weight:"bold",children:g}),(0,d.jsx)(a.Z,{isCloseupButton:t,isDisabled:I,isFavorited:A,onTap:()=>{S()},size:p})]})}},49491:(e,i,t)=>{t.d(i,{W:()=>s,Z:()=>l});var n=t(898781),o=t(883119),a=t(785893);const r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:i,isFavorited:t,onTap:l,size:d}){const _=(0,n.ZP)();return e?(0,a.jsx)(o.hU,{accessibilityLabel:_._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:t?s:r,disabled:i,iconColor:"darkGray",onClick:l,size:"lg"}):(0,a.jsx)(o.iP,{disabled:i,onTap:l,children:(0,a.jsx)(o.JO,{accessibilityLabel:_._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:t?s:r,size:d})})}},978698:(e,i,t)=>{function n(e){const i=e.split("/");return[i[2],i[1]]}function o(e,i){return!e||!e.some((e=>e.pin_type===i))}t.d(i,{E:()=>o,J:()=>n})},578722:(e,i,t)=>{t.d(i,{H1:()=>d,HW:()=>a,iL:()=>l,pN:()=>s,s_:()=>r});var n=t(19121),o=t(217468);const a=new Date(2022,1,1);function r(){const e=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),i=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,t=(0,o.tc)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||i||t}function s({isOwnPin:e,isStoryPin:i,pinCreationDate:t,surface:r}){const s=(0,n.Z)(),l=(0,o.tc)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()&&l&&s.isPartner&&e,_=(0,o.aq)("web_ip_plays",!!d).anyEnabled,c=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),u=(0,o.tc)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()){if(s.isPartner)return e&&_||!e&&c;if(u().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:i}){const t=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(n&&!i||t&&i))}function d({isOwnPin:e,isPartner:i}){const t=(0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(t&&i||n&&!i))}},483296:(e,i,t)=>{t.d(i,{G7:()=>h,ZP:()=>u,_E:()=>p,l6:()=>E,rh:()=>c});var n=t(978674),o=t(605028),a=t(66699),r=t(349700),s=t(558329),l=t(883119),d=t(785893);const _=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function c(e,i,t){var a,r,l;if(!i.isAuth)return!1;const d=(0,s.Nc)(e)||(0,s.o)(e),c=(null===(a=e.board)||void 0===a?void 0:a.privacy)===n.Z.BoardPrivacy.PUBLIC,u=(null===(r=e.board)||void 0===r?void 0:r.privacy)===n.Z.BoardPrivacy.PROTECTED,p=(_(t)&&u||c)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===i.id,{isStoryPin:h}=(0,o.Z)(e);return d&&(!u||_(t))||i.isPartner&&p||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(t)&&h&&p||(0,s.pU)(e)}function u({isVideo:e,isStoryPin:i,i18n:t,showPublicPinStats:n,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:t._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:t._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:i?n?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:t._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function p(e,i,t,n){const{isStoryPin:a,isVideo:_}=(0,o.Z)(e),c=(0,s.Nc)(e),u=(0,s.o)(e)&&(a||!c)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),h=(new Date).getTime()-p.getTime(),E=Math.floor(h/36e5),I=u?u["24h_realtime"].is_realtime:null,T=u?u["24h_realtime"].timestamp:null;let A=null;u&&(A=a||_?u.all_time_realtime.timestamp:u["30d_realtime"].timestamp);const P=A!==T,m=e=>(0,r.nk)(t._('Updated {{ lastUpdated }}', 'closeup.partnerModule.lastUpdated', 'Indicates to the user when the stats were last updated'),{lastUpdated:e}).join(""),f={timeframe:"",lastUpdated:""};if(u)if(I){const e=u["24h_realtime"].impression>=(a||_?u.all_time_realtime.impression:u["30d_realtime"].impression);f.timeframe=e?t._('Last 24 hours', 'closeup.partnerModule.lastUpdatedRealtime', 'Stats from the stated duration'):a||_?t._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'):t._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),f.lastUpdated=t._('Real-time estimates', 'closeup.partnerModule.lastUpdatedRealtime', 'Indicates to user that the stats are being updated in real-time')}else if(P||E>48)if(a||_){const e=n(u.all_time_realtime.timestamp);f.timeframe=t._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'),f.lastUpdated=m(e)}else{const e=n(u["30d_realtime"].timestamp);f.timeframe=t._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),f.lastUpdated=m(e)}else{const e=n(u["24h_realtime"].timestamp);f.timeframe=t._('Last 24 hours', 'closeup.partnerModule.lastUpdatedHoursAgo', 'Stats from the stated duration'),f.lastUpdated=m(e)}else f.lastUpdated=t._('Stats are currently unavailable', 'closeup.partnerModule.statsUnavailable', 'Stats status for the pin');return(0,d.jsxs)(l.xu,{alignItems:a||"lg"!==i?"center":void 0,display:a||"lg"!==i?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:f.lastUpdated}),(a||["md","sm"].includes(i))&&!!u&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:" ・"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:f.timeframe})]})}function h(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function E(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},480211:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),o=t(407043),a=t(616320);function r(e,i){const{logContextEvent:t}=(0,o.v)(),{componentType:r,contextLogData:s,viewParameter:l,viewType:d}=(0,a.E)(),{aux_data:_,view_type:c,view_parameter:u,component:p,...h}=null!=i?i:{};return(0,n.useCallback)((()=>{t({event_type:e,view_type:c||d,view_parameter:u||l,component:p||r,...h,aux_data:{..._,...s}})}),[t,_,h,u,c,p,r,s,e,l,d])}},601230:(e,i,t)=>{t.d(i,{X:()=>o,Z:()=>a});var n=t(667294);const o=120;function a(e,i=0,t=o){const[a,r]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)((()=>{if(!e){const e=setTimeout((()=>r("inactive")),t);return()=>{clearTimeout(e)}}if(i){const e=setTimeout((()=>r("active")),i);return()=>{clearTimeout(e)}}r("active")}),[e]),a}},616320:(e,i,t)=>{t.d(i,{B:()=>o,E:()=>a});var n=t(425288);const{Provider:o,useHook:a}=(0,n.Z)("trackingParametersContext")},36296:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(287072),o=t(890473),a=t(730815),r=t(704177),s=t(883119),l=t(217468),d=t(407043),_=t(616320),c=t(785893);function u({sizing:e="default",children:i,collageChipId:t,componentType:u,contextLogData:p,elementType:h,pin:E,viewParameter:I,viewType:T}){const{logContextEvent:A}=(0,d.v)(),P=(0,_.E)(),{group:m}=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:f,id:S}=E;let g,R=`/pin/${t||S}/`;if(f){const{carousel_slots:e=[],id:i,index:t=0}=f;R=`/pin/${S}/`,g={carousel_slot_id:e[t]&&e[t].id,carousel_data_id:i,carousel_slot_index:t}}g={...g||{},...(0,o.Kl)(E,p)||{}};const O=(0,n.Z)({href:R,externalData:{auxData:g,pin:E}});return(0,c.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),(()=>{if(A({event_type:101,component:u||P.componentType,element:h,object_id_str:S,view_type:T||P.viewType,view_parameter:I||P.viewParameter,aux_data:{...p,...(0,o.Kl)(E,p)||{}}}),A({event_type:8948,view_type:T||P.viewType,view_parameter:I||P.viewParameter,component:u||P.componentType,element:h,object_id_str:S,aux_data:{closeup_navigation_type:"click",...p,...(0,o.Kl)(E,p)||{}}}),m){const e=Number(r.y7.getItem(a.J)||0);r.y7.setItem(a.J,e+1)}})(),O({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:R,role:"link",children:i})}},187767:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(36296),o=t(883119),a=t(785893);const r={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:i}){const{aggregated_pin_data:t}=e,{pin_tags_chips:s}=t||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,a.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:r.chipContainer},children:l.map((t=>{var s,l,d,_;const c=(null===(s=t.images)||void 0===s?void 0:s["750x"])||{},u=(0,a.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=c.height)&&void 0!==l?l:1,naturalWidth:null!==(d=c.width)&&void 0!==d?d:1,role:"presentation",src:null!==(_=c.url)&&void 0!==_?_:""});return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.chip},"data-test-id":"collageChip",children:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.chipInner},position:"relative",children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,a.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,a.jsx)(n.Z,{sizing:"fullSize",collageChipId:t.id,pin:e,children:u}):u})})})},t.id)}))})}},663136:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(883119),o=t(785893);function a({children:e,additionalStyles:i={}}){return(0,o.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},children:e})}},601156:(e,i,t)=>{t.d(i,{F:()=>s,Z:()=>l});var n=t(704115),o=t(883119),a=t(785893);const r={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,n.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,a.jsx)(o.xv,{color:"inverse",children:(0,a.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}},923219:(e,i,t)=>{t.d(i,{Z:()=>A});var n=t(667294),o=t(499128),a=t(898781),r=t(883119),s=t(785893);function l(e){const i=(0,a.ZP)(),{onHide:t}=e,n=(0,s.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,s.jsx)(o.ZP,{onHide:t,text:n})}var d=t(6637),_=t(19121),c=t(343341);const u=function({anchor:e,onDismiss:i,pinId:t,signals:o}){const u=(0,a.ZP)(),[p,h]=(0,n.useState)(0),E=(0,_.Z)(),{showOneToast:I}=(0,c.F9)();if(!E.isEmployee)return null;const T=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:A,icon_url:P,signal_id:m,signal_message:f}=o[p];return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(r.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(r.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:t})=>{t(),(({activeTabIndex:e,event:i})=>{i.preventDefault(),h(e)})({activeTabIndex:i,event:e})},tabs:T})}),(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(r.X6,{size:"400",children:u._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,s.jsx)(r.xu,{paddingY:3,children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:P?(0,s.jsx)(r.Ee,{alt:u._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:P}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:A}},height:40,width:40})}),(0,s.jsx)(r.xv,{size:"200",children:f})]})}),(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{size:"200",children:u._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:u._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:t,signal_id:m,user:E.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),i(),I((({hideToast:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:u._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};var p=t(241244),h=t(319915),E=t(947599),I=t(215292);function T({signals:e,pinId:i}){const{background_color:t,icon_url:o,signal_message:a}=e[0],[l,d]=(0,n.useState)(!1),_=(0,n.useRef)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(h.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(E.Z,{children:(0,s.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(p.Z,{children:(0,s.jsx)(I.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,s.jsx)(r.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:i,onMouseLeave:n,children:(0,s.jsxs)(r.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:_,children:[(0,s.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(r.Ee,{alt:"",color:t,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),l&&_&&_.current&&(0,s.jsx)(u,{anchor:_.current,onDismiss:()=>d(!1),pinId:i,signals:e})]})}function A({pin:e}){if(!(0,_.Z)().isEmployee)return null;const{id:i,deb_ads:t,deb_content_quality:n,deb_inclusive_product:o,deb_shopping:a,deb_trust_and_safety:r}=e;return t?(0,s.jsx)(T,{pinId:i,signals:t}):n?(0,s.jsx)(T,{pinId:i,signals:n}):o?(0,s.jsx)(T,{pinId:i,signals:o}):a?(0,s.jsx)(T,{pinId:i,signals:a}):r?(0,s.jsx)(T,{pinId:i,signals:r}):null}},222239:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),o=t(601230),a=t(785893);function r(e,i){return{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:i=0,fadeOutDuration:t=o.X,visibility:s}){return"none"!==s&&e?(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:r(i,t)[s]},children:e}):null}},199534:(e,i,t)=>{t.d(i,{ZP:()=>I});var n=t(667294),o=t(663136),a=t(898781),r=t(55275),s=t(858358),l=t(407043),d=t(883119),_=t(785893);const c={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},u={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},h=["followed","related","search"],E=["pfy","pfyBoard"];function I({feedbackType:e,isHomefeedTunerVariantExp:i,pin:t,hideContents:I=!1}){var T;const{logContextEvent:A}=(0,l.v)(),P=(0,a.ZP)(),[m,f]=(0,n.useState)(!1),[S,g]=(0,n.useState)(!1);(0,n.useEffect)((()=>f(!0)),[]);const R=()=>g(!0),{feedbackText:O,images:v,showFeedbackOverlay:N,undoAction:y,undoText:b}=t,x=v&&(null===(T=v["236x"])||void 0===T?void 0:T.url),{image:C,subTitle:D,title:L,unfollow:w}=null!=O?O:{},M=!h.includes(e),G=E.includes(e),k=()=>{A({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,_.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,_.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[x&&(0,_.jsx)(o.Z,{additionalStyles:{...c.base,...m?c.blurred:{},backgroundImage:`url("${x}")`}}),(0,_.jsx)(o.Z,{additionalStyles:{...u.base,...u.blurred}})]}),(0,_.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!N&&m?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!I&&(0,_.jsx)(d.xu,{height:"100%",children:(0,_.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,_.jsx)(d.xu,{marginBottom:2,children:(0,_.jsx)(d.X6,{color:"light",size:"400",children:L})}),(0,_.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[C&&(0,_.jsx)(d.xu,{marginEnd:3,children:(0,_.jsx)(d.zd,{width:C.width,height:C.height,rounding:2,wash:!0,children:(0,_.jsx)(d.Ee,{alt:D||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),(0,_.jsx)(d.xv,{color:"light",overflow:"normal",children:D})]}),i?(0,_.jsxs)(n.Fragment,{children:[y&&(0,_.jsx)(d.xu,{children:(0,_.jsx)(d.iP,{onTap:y,children:(0,_.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:P._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,_.jsxs)(d.xu,{marginTop:"auto",children:[!y&&!S&&w&&!G&&(0,_.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(w.action,w.actionOptions,R),text:P._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),M&&(0,_.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:k,text:P._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(d.xu,{children:M&&(0,_.jsx)(d.rU,{href:"/edit",onClick:k,children:(0,_.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:P._('Tune your home feed', 'Text on the link to navigate to homefeed control', 'Text on the link to navigate to homefeed control')})})}),(0,_.jsxs)(d.xu,{marginTop:"auto",children:[!y&&!S&&w&&!G&&(0,_.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(w.action,w.actionOptions,R),text:P._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),y&&(0,_.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:y,text:b||P._('Undo', 'Text on the button to undo hiding a pin', 'Text on the button to undo hiding a pin')})]})]})]})})})]})}},955362:(e,i,t)=>{t.r(i),t.d(i,{default:()=>T});var n=t(667294),o=t(966338),a=t(617584),r=t(248975),s=t(316753),l=t(883561),d=t(898781),_=t(480211),c=t(22245),u=t(623568),p=t(844949),h=t(616320),E=t(883119),I=t(785893);function T({feedbackData:e,feedbackType:i,pin:t,pinTitle:T,setForcePrimary:A,transparentBackground:P}){const m=(0,d.ZP)(),f=(0,o.useDispatch)(),{viewParameter:S,viewType:g}=(0,h.E)(),{reportPin:R}=(0,p.f)(),[O,v]=(0,n.useState)(!1),[N,y]=(0,n.useState)(),{ad_match_reason:b,show_ad_reasons:x,board:C,category:D,description:L,id:w="",images:M,is_promoted:G,pinner:k,promoter:j,recommendation_reason:B,source_interest:U,videos:F}=t;var z;const H=(z=G?60:50,function(e){return(0,l.ZP)((e||"").trim(),z)})(null!=L?L:""),Z=(0,a.Z)(M,"236x"),V=(0,u.iR)(F),W=(0,_.Z)(101,{component:0,element:981,object_id_str:w,aux_data:{feedback_type:i}}),Y=()=>{x||(A(!1),f((0,c.i0)(w)),v(!1))};return(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(E.xu,{"data-test-id":"feedback-button",ref:y,children:(0,I.jsx)(E.hU,{accessibilityLabel:m._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:P?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{O?Y():(A(!0),v(!0)),W()},size:"sm"})}),O&&(0,I.jsx)(E.xu,{onFocus:e=>e.stopPropagation(),children:(0,I.jsx)(s.Z,{anchor:N,ad_match_reason:b,bestPinImgSrc:(0,r.Z)(t),board:C,feedbackData:e,feedbackType:i,hideDownload:V,isPromoted:G,onLinkClick:()=>{O&&Y()},onDismiss:Y,onHide:Y,onDownloadHideFlyout:()=>{A(!1),v(!1)},pinCategory:D,pinDescription:H,pinId:w,pinImgSrc:Z,pinner:k,pinTitle:T,promoter:j,recommendationReason:B,reportPin:()=>R(t,S,g),sourceInterest:U,viewParameter:S,viewType:g})})]})}},316753:(e,i,t)=>{t.d(i,{Z:()=>k});var n=t(667294),o=t(966338),a=t(941646),r=t(883119),s=t(785893);function l({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:t,showNavigationIcon:n,text:o}){return(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(a.Z,{id:"ad-reason-icon",children:(0,s.jsx)(r.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,s.jsx)(r.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(r.xv,{children:o})}),n&&t&&(0,s.jsx)(r.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(r.JO,{accessibilityLabel:t,color:"default",icon:"arrow-forward"})})]})}var d=t(121151),_=t(966113),c=t(898781),u=t(349700),p=t(407043);const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:E,HELP_BLOCKING:I,HELP_PROMOTED_PINS_URL:T}=_.Z.settings;function A({onDismiss:e,brandName:i,country:t,language:n,isAgeMatched:o,isBehaviorTargetingMatched:_,isCustomerListMatched:A,isGeoPostalCodeMatched:P,isGeoRegionMatched:m,isShoppingTargetingRematched:f}){const{logContextEvent:S}=(0,p.v)(),g=(0,c.ZP)(),R=P||m||o||_||f||A;return(0,s.jsx)(d.ZP,{accessibilityModalLabel:g._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,s.jsxs)(r.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(r.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(r.xu,{position:"absolute",left:!0,children:(0,s.jsx)(r.hU,{accessibilityLabel:g._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(r.X6,{align:"center",size:"500",children:g._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,s.jsxs)(r.xu,{children:[(0,s.jsxs)(r.kC,{direction:"column",gap:4,children:[(0,s.jsx)(r.xu,{children:(0,s.jsx)(r.xv,{children:(0,u.nk)(g._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(a.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(r.xv,{inline:!0,children:(0,s.jsx)(r.rU,{href:T,inline:!0,onClick:()=>{S({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:g._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),R&&(0,s.jsx)(r.xu,{marginBottom:4,children:(0,s.jsx)(r.xv,{children:(0,u.nk)(g._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(a.Z,{id:"ad-reasons",children:(0,s.jsxs)(r.kC,{direction:"column",flex:"none",gap:4,children:[P||m?(0,s.jsx)(r.iP,{role:"link",href:`${E}${h}`,onTap:()=>{S({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:g._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:g._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,u.nk)(g._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name"),language:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:g._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,u.nk)(g._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-age-brand-name")})}),_&&(0,s.jsx)(l,{iconAccessibilityLabel:g._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:g._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),f&&(0,s.jsx)(l,{iconAccessibilityLabel:g._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,u.nk)(g._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"retargeting-ad-reason")})}),A&&(0,s.jsx)(l,{iconAccessibilityLabel:g._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,u.nk)(g._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-customer-list")})}),R&&(0,s.jsx)(r.xu,{marginBottom:1,children:(0,s.jsx)(r.xv,{children:g._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})})]})}),(0,s.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,s.jsx)(r.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(r.iz,{})}),(0,s.jsx)(r.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(r.X6,{size:"400",children:g._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,s.jsx)(r.xu,{marginBottom:4,children:(0,s.jsx)(r.xv,{children:(0,u.nk)(g._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,s.jsx)(r.xv,{inline:!0,children:(0,s.jsx)(r.rU,{inline:!0,href:I,onClick:()=>{S({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:g._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})]})]})]})})}var P=t(784590),m=t(19121),f=t(780280);function S({pinId:e,onDismiss:i}){var t,a,r,l;const{logContextEvent:d}=(0,p.v)(),{locale:_}=(0,f.B)(),{country:c=""}=(0,m.Z)(),u=(0,P.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=(0,P.Z)({name:"LocalesResource"}),E=(0,o.useSelector)((({pins:i})=>i[e]));(0,n.useEffect)((()=>{d({event_type:120,component:13756})}),[d]);const{ad_targeting_attribution:I,promoter:T}=null!=E?E:{},{is_age_matched:S=!1,is_behavior_targeting_matched:g=!1,is_customer_list_matched:R=!1,is_geo_postal_code_matched:O=!1,is_geo_region_matched:v=!1,is_shopping_retargeting_matched:N=!1}=null!==(t=function(e=null,i=4){return e&&Object.keys(e).filter((i=>"boolean"==typeof e[i])).slice(0,i).reduce(((i,t)=>({...i,[t]:e[t]})),{})}(I))&&void 0!==t?t:{},y=null!==(a=null==T?void 0:T.full_name)&&void 0!==a?a:"",b=function(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}(null!==(r=u.data)&&void 0!==r?r:[],c),x=function(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}(null!==(l=h.data)&&void 0!==l?l:[],_);return(0,s.jsx)(A,{brandName:y,country:b,language:x,isAgeMatched:S,isBehaviorTargetingMatched:g,isCustomerListMatched:R,isGeoPostalCodeMatched:O,isGeoRegionMatched:v,isShoppingTargetingRematched:N,onDismiss:i})}var g=t(890587),R=t(405669),O=t(149230),v=t(311152),N=t(372063),y=t(760372),b=t(778423),x=t(813401),C=t(680046),D=t(22245),L=t(55275),w=t(925927);function M(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class G extends n.Component{constructor(e){super(e),M(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:i,feedbackType:t,pinner:n,promoter:o,recommendationReason:a,sourceInterest:r}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:i,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,promoter:o,recommendationReason:a,sourceInterest:r})})),M(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:i,pinner:t,recommendationReason:n}=this.props;if("followed"!==i&&"pfyBoard"!==i)return null;let o,a,l;return t&&t.explicitly_followed_by_me?(o=t.image_small_url,a="50%",l=`/${t.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,a="4px",l=n&&n.board&&n.board.url||e.url),o?(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),M(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:i,pinner:t,sourceInterest:n}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:t,sourceInterest:n})})),M(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),M(this,"feedbackHelpers",(0,C.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:u.nk})),M(this,"makeNavigateLink",((e,i,t,n)=>(0,s.jsx)(r.rU,{onClick:this.props.onLinkClick,href:i,inline:!0,underline:"hover",children:(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:t})},e))),M(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),M(this,"hidePinOption",(e=>{const{feedbackData:i,feedbackType:t,pinId:n,recommendationReason:o}=this.props,a="search"===t?973:982,{action:r,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:i,feedbackType:t,pinId:n,recommendationReasonId:o&&o.reason&&b.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===t?4:10,throughId:o&&(0,C.yl)(o),throughProperties:o&&(0,C.XZ)(o),clientTrackingParams:(0,g.Z)(n)}),l=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:r,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:a}})),M(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:i,pinId:t,recommendationReason:n}=this.props,{board:o,reason:a}=null!=n?n:{},r=a&&b.ReasonToChoose[a],s=n&&(0,C.yl)(n),l=n&&(0,C.XZ)(n),d="pfyBoard"===i,{action:_,actionOptions:c}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:i,pinId:t,recommendationReasonId:r,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,g.Z)(t)}),p=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:_,actionOptions:c,feedbackText:{subTitle:d&&o?(0,u.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:p}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&o?(0,u.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:o.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),M(this,"unfollowBoardOption",(()=>{var e,i;const{board:t}=this.props,n=t?this.makeNavigateLink("boardUrl",null!==(e=t.url)&&void 0!==e?e:"",null!==(i=t.name)&&void 0!==i?i:"",!0):"",o=(0,u.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),a=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==t?void 0:t.id},feedbackText:{title:"",subTitle:a},text:o,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),elementType:10614}})),M(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:i,name:t="",url_name:n=""}=e,o=`/topics/${n}`,a=this.makeNavigateLink("topicUrl",o,t,!0),r=(0,u.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:t}),s=(0,u.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:y.X},feedbackText:{title:"",subTitle:s},text:r,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),M(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:i,username:t,full_name:n}=null!=e?e:{},o=`/${t}`,a=e?this.makeNavigateLink("pinnerUrl",o,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:a})},text:(0,u.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),M(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),M(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:i,hideDownload:t,pinner:n}=this.props,o="followed"===this.props.feedbackType,a=e.pathname.includes("following"),r=(o||"topic"===i)&&!a,s=this.hidePinOption(r),l=this.reportPinOption(),d="promoted"!==i&&!t;switch(i){case"followed":const e=a,t=!e&&this.getRecommendationDescription(),o=null!=n&&n.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...t?{description:t}:{},options:[s,...r||e?[o]:[],..."promoted"!==i?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:_,showAdReasonsModal:c}=this.props,u=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{c(_)}},l];return{description:this.getRecommendationDescription(),options:u};case"topic":const p=this.unfollowTopicOption(),h=[s,...r&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const E=[s,..."pfyBoard"===i?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:E};default:const I=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:I}}})),M(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:i,promoter:t}=this.props,n=e?null:this.getUnfollowAction();return i&&null!=t&&t.full_name?{title:"",subTitle:(0,u.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:t.full_name})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,t){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,L.t)(i.action,i.actionOptions,t)}onPinHide(e,i,t,n){const{hidePinFeedback:o,onHide:a,pinId:r,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:_,viewType:c,logContextEvent:u}=this.props;i&&t&&n?d(r,e,(0,C.EF)(t,n,r,c,_,o,u),this.getUndoText(n)):s(r,e),!t||t.promoted||10!==t.feedback_type&&4!==t.feedback_type?a():(this.setState({showSecondary:!0}),l(r))}handleClickLogging(e,i={}){const{feedbackType:t,viewParameter:n,viewType:o,logContextEvent:a}=this.props;a({event_type:101,view_type:o,view_parameter:n,element:e,component:(0,C.nb)(t),aux_data:{...i}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:i,pinId:t,viewType:n,viewParameter:o,logContextEvent:a,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:_}=d,c=[],u=_.length;for(let p=0;p<u;p+=1){const d=_[p],u=L.P.includes(d.action),h=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,u,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,O.Z)({url:d.link||""});let i="";Array.isArray(d.text)?i=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(i=d.text.toString()),c.push(d.link?(0,s.jsx)(r.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:i},dataTestId:d.dataTestId||""}):(0,s.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,h),option:{value:d.action||"",label:i},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:_}=this.props;c.push((0,s.jsx)(r.Lt.Item,{onSelect:()=>{(0,R.Z)({category:_,filename:l||d,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:t,viewParameter:o,viewType:n},a)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return c}render(){const{pinFeedbackConfig:e,showSecondary:i}=this.state,{anchor:t,onDismiss:o,feedbackData:a,feedbackType:l,hideAdReasonsModal:d,pinId:_,onHide:c,recommendationReason:u,showAdReasons:p,viewParameter:h,viewType:E}=this.props,{description:I}=e,T=this.getRecommendationDescriptionImage();return(0,s.jsxs)(n.Fragment,{children:[i?(0,s.jsx)(v.Z,{anchor:t,feedbackData:a,feedbackType:l,pinId:_,onDismiss:o,onHide:c,recommendationReason:u,viewParameter:h,viewType:E}):(0,s.jsx)(r.Lt,{anchor:t,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:N.lI,headerContent:I&&(0,s.jsxs)(r.kC,{alignItems:"center",children:[(0,s.jsx)(r.xu,{"data-pin-recommendation-reason":null==u?void 0:u.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:I})}),T]}),children:this.renderButtons()}),p&&(0,s.jsx)(S,{onDismiss:()=>d(_),pinId:_})]})}}const k=(0,o.connect)(null,(e=>({hidePinFeedback:i=>e((0,D.I1)(i)),showPinFeedback:(i,t)=>e((0,D.ZP)(i,t)),showPinFeedbackOverlay:i=>e((0,D.Ib)(i)),showPinFeedbackUndo:(i,t,n,o)=>e((0,D.NA)(i,t,n,o)),showAdReasonsModal:i=>e((0,D.b9)(i)),hideAdReasonsModal:i=>e((0,D.yj)(i))})))((function(e){const{logContextEvent:i}=(0,p.v)(),t=(0,c.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:a=!1}=(0,o.useSelector)((({pins:i})=>i[e.pinId])),r=(0,x.kf)();return(0,s.jsx)(G,{...e,showAdReasons:a,adTargetingAttribution:n,history:(0,w.k6)(),i18n:t,isWindowsPwa:r,location:(0,w.TH)(),logContextEvent:i})}))},311152:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(898781),o=t(55275),a=t(883119),r=t(372063),s=t(349700),l=t(778423),d=t(407043),_=t(680046),c=t(785893);function u({anchor:e,feedbackData:i,feedbackType:t,pinId:u,onDismiss:p,onHide:h,recommendationReason:E,viewParameter:I,viewType:T}){const{logContextEvent:A}=(0,d.v)(),P=(0,n.ZP)(),m=(0,_.ZP)({i18n:P,interpolateNamedTemplate:s.nk}),f=(e,n)=>{const a=E&&E.reason&&l.ReasonToChoose[E.reason],r=E&&(0,_.yl)(E),s=E&&(0,_.XZ)(E),{action:d,actionOptions:c}=m.getHidePinAction({feedbackData:i,feedbackType:t,pinId:u,recommendationReasonId:a,throughId:r,throughProperties:s,complaintReason:e});(e=>{A({event_type:101,view_type:T,view_parameter:I,element:e,component:(0,_.nb)(t)})})(n),(0,o.t)(d,c),h()},S="promoted"===t?[{text:P._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:P._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:P._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:P._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:P._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:P._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:P._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:P._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,c.jsx)(a.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:r.lI,id:"pin-action-dropdown",children:(0,c.jsx)(a.Lt.Section,{label:P._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:S.map((({text:e,reason:i,elementType:t})=>(0,c.jsx)(a.Lt.Item,{onSelect:()=>f(i,t),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},266413:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),o=t(294184),a=t.n(o),r=t(391254),s=t(149230),l=t(927104),d=t(898781),_=t(883119),c=t(785893);class u extends n.Component{constructor(...e){var i,t,n;super(...e),n={showBoardName:!1},(t="state")in(i=this)?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:i,isNewlySaved:t,name:o,shouldUseLegoStyles:d,type:u,url:p}=this.props;if(d&&i)return null;const h="boardless"===u?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):o;let E,I;if(!t||e||d){const e=d?(0,c.jsx)(_.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,l.Z)(h,20)}):(0,c.jsx)(_.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),i=(0,s.Z)({url:p})?"nofollow":"none";E=p?(0,c.jsx)(_.rU,{rel:i,href:p,children:e}):e}else E=(0,c.jsx)(_.xv,{color:"inverse",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return t&&(I=e?"board":"saved"),(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,c.jsx)("div",{"data-test-id":"savedInfo",className:!d&&a()("SavedAnimation",I),children:E})]})}}const p=function(e){const i=(0,d.ZP)();return(0,c.jsx)(u,{...e,i18n:i})}},378396:(e,i,t)=>{t.d(i,{Y:()=>s,Z:()=>c});var n=t(898781),o=t(407043),a=t(883119),r=t(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},_={component:13668,view_type:4,view_parameter:3106};function c({pinId:e,surface:i}){const{logContextEvent:t}=(0,o.v)(),c=(0,n.ZP)(),u=()=>{const e=s.includes(i)?_:"BaseBoardPinGrid"===i?d:"UserProfilePinGrid"===i?l:{};t({event_type:101,element:10573,...e})},p=c._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,r.jsx)(a.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(i)?(0,r.jsx)(a.zx,{role:"link",accessibilityLabel:c._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(h=p,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,r.jsx)(a.hU,{role:"link",accessibilityLabel:c._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var h}},122016:(e,i,t)=>{function n(e,i){const t=i&&i.owner&&i.owner.id;return e.isAuth&&t===e.id}t.d(i,{Z:()=>n})},275727:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(379089);function o(e){return n.zI.includes(e)}},910135:(e,i,t)=>{t.d(i,{Z:()=>ae});var n=t(667294),o=t(966338),a=t(838292),r=t(605028),s=t(379089);function l({isGroupBoard:e,pin:i,surface:t}){const{carousel_data:n,grid_title:o,rich_summary:a,title:l}=i,{isOwnPin:d,isPromoted:_}=(0,r.Z)(i);if(n){const{carousel_slots:e=[],index:i=0}=n;if(e[i]&&e[i].title)return e[i].title.trim()}if(_){if(s.ZF.includes(t))return o||"";if(d&&!e&&!n&&"UserProfilePinGrid"!==t)return"";const i=a&&"mobile application"!==a.type_name&&a.display_name;return l||i||o||""}return o||""}var d=t(623568);const _=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var c=t(403001),u=t(595342),p=t(483296);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function E({attributionOption:e,board:i,contentType:t,experimentsClient:n,feedbackData:o,feedbackType:a,hasCarouselData:s,inMsgPinCardUpdateExp:d=!1,isGroupBoard:_,isORBACProfileManager:E,isOwnBoard:I,pin:T,searchResultNewIdeaPinStyle:A=!1,showImageOnly:P,showNativeReactions:m,showPromotedShoppingPrice:f,surface:S,viewer:g}){var R;const{isPromoted:O,isSponsored:v}=(0,r.Z)(T),{pin_note:N}=T,y=function({attributionOption:e,feedbackType:i,isGroupBoard:t,pin:n,showImageOnly:o,surface:a,inMsgPinCardUpdateExp:r=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:_,story_pin_data_id:c}=n;if("promoted"===i||d&&!s||_)return"default";if((!r||"ConversationView"!==a)&&h.includes(a))return"none";if(t)return"none";let u="default";return"SearchItem"===a&&c?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==i||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===e?u:"TodayArticleFeed"===a&&"show"===e?"show-for-claimed-content":l?"default":"none":u)}({attributionOption:e,feedbackType:a,isGroupBoard:_,pin:T,showImageOnly:P,surface:S,inMsgPinCardUpdateExp:d}),b=P?"":l({isGroupBoard:_,pin:T,surface:S}),x=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!O&&!P&&Boolean((0,c.Z)(T,S)),C=["ShoppingGridShippedMetadataWithVisitButton"].includes(S),D="BaseBoardPinGrid"===S&&N?null===(R=N.text)||void 0===R?void 0:R.trim():null,L=O,w="shopping"===t,M=/ShoppingSquareGridRelatedProducts/.test(S);let G,k=!0;"AuthHomefeed"!==S||O||(G=n.v2ActivateExperiment("hfp_hf_grid_rep_simplification_web"),m=!["employees","enabled_remove_reactions","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(G),k=!["employees","enabled_remove_creator_attribution","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(G));let j=2;O?j=3:x||"none"!==y?j=w||M?2:1:"AuthHomefeed"===S&&("enabled_one_line_title"===G?j=1:"enabled_two_line_title"===G&&(j=2));let B,U,F,z;if(w||(O&&M||f)){var H,Z;const e=null===(H=T.rich_summary)||void 0===H||null===(Z=H.products)||void 0===Z?void 0:Z[0],{offer_summary:i}=e||{};B=i?i.standard_price:void 0,U=i?i.price||i.max_price:void 0}if(w&&!O){var V,W,Y;const{rating_count:e,rating_value:i,review_count:t}=(null===(V=T.rich_summary)||void 0===V?void 0:V.aggregate_rating)||{};(e||t)&&parseFloat(i)&&(F={count:e||t,rating:i}),z=null===(W=T.rich_metadata)||void 0===W||null===(Y=W.products)||void 0===Y?void 0:Y[0].shipping_info}const K=(0,p.rh)(T,g,n),X="CreatorProfileStoryPinGrid"===S||"CreatorProfileActivityPinGrid"===S,q=!(X||!O&&"AuthHomefeed"===S&&"enabled_remove_all"===G),$=_&&!v;return{attributionDisplay:A?"overlay":"default",attributionType:y,board:i,contentType:t,feedbackData:o,feedbackType:a,pinNoteText:D,pinTitle:b,productCurrentPrice:U,productOriginalPrice:B,productRating:F,productShipping:z,reactionAlignment:A?"center":"start",showCarouselEllipsis:s,showFavoriteButton:!E&&("BaseBoardPinGrid"===S&&I||Boolean((null==i?void 0:i.is_collaborative)&&(0,u.Z)({board:i,viewer:g})))&&!X,showGroupBoardAvatar:$,showNativeReactions:m,showOverflowMenu:L,showPinStats:K,showSource:x,showTextContent:q,showTitle:!A,showVerifiedIcon:!!A,showVisitSiteButton:C,showAttribution:k,titleLines:j}}var I=t(978674),T=t(121630),A=t(704177),P=t(974166),m=t(354042);const f=["ShoppingCatalogsProductsMetadata"];const S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],g=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var R=t(122016),O=t(319915),v=t(984405),N=t(118552),y=t(687551),b=t(954571),x=t(778841),C=t(574589),D=t(411938),L=t(275727),w=t(947599),M=t(898781),G=t(717615),k=t(767790),j=t(19121),B=(t(883119),t(378396)),U=t(681227),F=t(335106),z=t(231947),H=t(18919),Z=t(616320),V=t(494349),W=t(862624),Y=t(578722),K=t(330899),X=t(281180),q=t(134396),$=t(601156),J=t(217468),Q=t(53987),ee=t(925927),ie=t(785893);const te=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(69965),t.e(77638),t.e(92982)]).then(t.bind(t,576070)))),ne=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],oe=["BaseBoardPinGrid","UserProfilePinGrid",...B.Y];const ae=(0,o.connect)((function({boards:e,pins:i},{pin:t,pinId:n}){const o=i[n]||t,a=o.board&&o.board.id,r=(a?e[`${a}`]:void 0)||o.board;return o.grid_title=o.grid_title||t.grid_title,{board:r,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:i,board:t,debugImpressionState:c,feedbackOptions:u,imageOnlyOption:h="default",pinImageCrop:B,pinImageFit:ae,reduxPin:re,resolution:se="default",saveButtonOptions:le,surface:de,trackingParameters:_e,...ce}){var ue,pe,he,Ee,Ie,Te;const Ae=(0,M.ZP)(),Pe=(0,W.Y)(),{collaborated_by_me:me,collaborator_count:fe,is_collaborative:Se}=t||{},{is_quick_promotable:ge,pinner:Re,showFeedback:Oe,sponsorship:ve,story_pin_data_id:Ne}=re,{isPromoted:ye}=(0,r.Z)(re),be=(0,C.Z)(re),xe=(0,j.Z)(),Ce=(0,G.Z)(),{anyEnabled:De}=(0,J.tc)("web_m10n_business_access_orbac_beta_2")(),Le=(0,J.tc)("dweb_search_results_idea_attribution"),{group:we}="SearchItem"===de?Le():{},Me=!!Ne&&["enabled_blended","enabled_idea","employees"].includes(we),Ge=(0,ee.TH)(),{slotIndex:ke,viewParameter:je}=_e,{anyEnabled:Be}=(0,J.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(de)),Ue=(0,K.x)(),{appUI:{videosAutoplaying:Fe}}=(0,V.I)(),ze=(0,F.i8)(re.id,Fe),He=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Ze=(0,x.Z)(re),Ve=(0,y.Z)(re),We=xe.isAuth&&xe.isEmployee,Ye=xe.isAuth&&((0,b.Z)(null,xe)||(0,D.Z)(null,xe))&&!xe.isPartner;let Ke=Ye;"TodayArticleFeed"===de&&(Ke=!1),"default"!==h&&(Ke="image-only"===h),(0,L.Z)(de)&&(Ke=!1),"ShoppingSquareGridDomainNoMetadata"===de&&(Ke=!0),ye||Ne||!["enabled_blended","employees"].includes(we)||(Ke=!0);let Xe=e;Ye&&!Xe&&(Xe="image-only");const qe=(0,N.Z)({feedbackOptions:u,pin:re,viewParameter:je},Ae),{data:$e}=u||{},Je="number"==typeof fe&&fe>0||Se;let Qe=!1;"OtherProfilePinGrid"===de?Qe=!0:"BaseBoardPinGrid"===de?Qe="dense"===(null==Ue?void 0:Ue.boardPinDensity):"UserProfilePinGrid"===de&&(Qe="dense"===(null==Ue?void 0:Ue.profilePinDensity));const ei=Boolean(Je&&"BaseBoardPinGrid"===de),ii=(0,k.Z)(),{users:ti}=(0,X.kW)(),ni=ti&&ti[null!==(ue=null===(pe=ii.data)||void 0===pe?void 0:pe.id)&&void 0!==ue?ue:""]?ti[null!==(he=null===(Ee=ii.data)||void 0===Ee?void 0:Ee.id)&&void 0!==he?he:""]:ii.data,oi=(0,R.Z)(xe,t);let ai=!1;if(!!(0,ee.LX)(Ge.pathname,{path:"/:username/_created/",exact:!0}))ai=(0,z.q6)(xe,null==ni?void 0:ni.id,Ce);else if((0,Q.am)(Ge)||(0,Q.OJ)(Ge)){const e=t&&t.owner&&t.owner.id||"";ai=(0,z.q6)(xe,e,Ce)}const ri=Boolean(xe.isAuth&&Re&&Re.id===xe.id),si=Boolean(me||Je&&oi),li=xe.isAuth&&xe.isPartner,di=(0,J.aq)("web_deleted_idea_pins",!(null===(Ie=re.story_pin_data)||void 0===Ie||!Ie.is_deleted)).anyEnabled,_i=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:i,surface:t}){const n={primaryContent:null,secondaryContent:null,actionBar:g.includes(t)||i?"none":"visible",accessoryContent:e?"visible":"none"};return i||S.includes(t)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(t)&&(n.primaryContent="visible"),n}({hasCarouselData:Ve,isDeletedStoryPin:di,surface:de})),[Ve,di,de]),ci=(0,n.useMemo)((()=>function({board:e,isDenseView:i,isGroupBoard:t,isInlineBetterSave:n,isOwnBoard:o,isORBACProfileManager:a,isQuickPromotable:r,isRemovable:l,saveButtonOptions:d,surface:_,viewer:c,viewerIsCollaborator:u}){const p=c.isAuth?c.boardCount:void 0;let h=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);r?h={type:"promote"}:(u||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(_))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(_)?h={type:"classic"}:(u||o)&&["BaseBoardPinGrid"].includes(_)&&null!=e&&e.name&&e.url&&e.id&&(h={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===_}),(l||f.includes(_)||a)&&(h={type:"none"}),{board:e,derivedSaveButtonOptions:h,showLikeButton:u&&t&&s.UP.includes(_),supportsReactionBar:!i}}({board:t,isInlineBetterSave:Be,isDenseView:Qe,isGroupBoard:ei,isOwnBoard:oi,isOwnPin:ri,isORBACProfileManager:ai,isQuickPromotable:ge,isRemovable:be,saveButtonOptions:le,surface:de,viewer:xe,viewerIsCollaborator:si})),[t,Be,Qe,ei,oi,ri,ai,ge,be,le,de,xe,si]),{anyEnabled:ui}=(0,J.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let pi;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(de)&&!ye&&(pi="white");const hi=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:t}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(t),shoppingLabelColor:i}}({allowProductCarousel:Ze,shoppingLabelColor:pi,surface:de})),[Ze,pi,de]),Ei=(0,n.useMemo)((()=>function({board:e,feedbackData:i,feedbackType:t,isDenseView:n,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:c,isORBACBeta2:u,pin:p,surface:h,viewer:E}){var I;const{isOwnPin:T,isPromoted:A}=(0,r.Z)(p),P=l({isGroupBoard:o,pin:p,surface:h}),m=e&&(0,a.Z)({action:4,board:e,viewer:E})||T,f=p.savedInfo&&p.savedInfo.localPinId,S=Boolean(s&&!o||"UserProfilePinGrid"===h&&m||f),g=Boolean(o&&m||S||c&&(!(0,d.hy)(p)||u)),R=Boolean((null==e?void 0:e.is_collaborative)||S),O=!(A||s||o||_.includes(h)||c),v="CloseupRelatedProducts"!==h&&!c,{tracked_link:N,link:y}=p,b=!(null===(I=null!=N?N:y)||void 0===I||!I);let x=o&&n?"equally-spaced":"default",C="default";return n&&(C=o?"icon-only":"truncated-text"),n&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(C="icon-only",x="equally-spaced"),{actionBarEditBeforeShare:R,feedbackData:i,feedbackType:t,layout:x,pinTitle:P,showEditButton:g,showOverflowMenu:O,showShareButton:v,showSourceLinkButton:b,sourceLinkStyle:C}}({board:t,feedbackData:$e,feedbackType:qe,isDenseView:Qe,isGroupBoard:ei,isOwnBoard:oi,isORBACProfileManager:ai,isORBACBeta2:De,pin:re,surface:de,viewer:xe})),[t,$e,qe,Qe,ei,oi,ai,De,re,de,xe]),Ii=!ai&&(0,p.rh)(re,xe,Pe)&&oe.includes(de)&&ri,Ti=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(de),Ai=!ye&&Ti?"shopping":"standard",Pi="CreatorProfileStoryPinGrid"===de?ri&&(0,U.J6)(re,di):(0,U.J6)(re,di),mi=(0,J.tc)("web_ag_msg_pin_card_update"),fi="ConversationView"===de&&mi({dangerouslySkipActivation:!0}).anyEnabled,Si=(0,n.useMemo)((()=>E({attributionOption:Xe,board:t,contentType:Ai,experimentsClient:Pe,feedbackData:$e,feedbackType:qe,hasCarouselData:Ve,inMsgPinCardUpdateExp:fi,isGroupBoard:ei,isORBACProfileManager:ai,isOwnBoard:oi,pin:re,searchResultNewIdeaPinStyle:Me,showImageOnly:Ke,showNativeReactions:Pi,showPromotedShoppingPrice:ui&&ye&&Ti,surface:de,viewer:xe})),[Xe,t,Ai,Pe,$e,qe,Ve,fi,ei,ai,oi,ye,Ti,re,Me,ui,Ke,Pi,de,xe]),gi=!!re.story_pin_data_id,Ri=re.created_at?new Date(re.created_at):null,Oi=(0,Y.pN)({isOwnPin:ri,isStoryPin:gi,pinCreationDate:Ri,surface:de});let vi=Boolean(Si.pinTitle||Si.contentType||Si.userNote||Si.showSource||"none"!==Si.attributionType||Si.showNativeReactions||Si.productCurrentPrice||Si.productOriginalPrice||Si.showPinStats)||ei;"BaseBoardPinGrid"===de&&oi&&li||ve?vi=!0:ne.includes(de)||Qe&&(oi||me)?vi=!1:ri||"CreatorProfileStoryPinGrid"!==de&&"CreatorProfileActivityPinGrid"!==de||(vi=!1);const Ni=Boolean(Oe),yi=(0,J.tc)("web_others_board_feed_ads_border"),bi={showNoPinBorderRadius:"TopicBestPinNarrow"===de||"TopicBestPinWide"===de||fi&&"ConversationView"===de,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===de&&ye&&yi().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:xi}=(0,J.aq)("hfp_homefeed_control_cta_variants"),Ci={feedbackType:qe,isHomefeedTunerVariantExp:xi},{anyEnabled:Di}=(0,J.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),Li=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:i,isSocialSeasonalBoard:t,pinImageCrop:n,pinImageFit:o,resolution:a,showPromotedVideos:r,surface:l}){const d=s.zl.includes(l);let _="backend";"CloseupRelatedProducts"===l?_={height:m.GZ,width:m.OE}:"TopicBestPinWide"===l?_={height:P.m9,width:P.BS}:"TopicBestPinNarrow"===l?_={height:P._5,width:P.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?_={height:m.zX,width:m.zX}:n&&(_=n);let c="none",u=null!=a?a:"default";"string"!=typeof _&&(c="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(c="contain",u="high-res"));const p=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",h=(0,T.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===A.Xb.getItem(I.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:c,isDenseView:i,isSocialSeasonalBoard:t,resolution:u,rootMargin:h,pinImageCrop:_,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:r}}({hasCarouselData:Ve,isDenseView:Qe,isPromoted:ye,isSocialSeasonalBoard:!1,pinImageCrop:B,pinImageFit:ae,resolution:se,showPromotedVideos:Di,surface:de})),[Ve,Qe,ye,B,ae,se,Di,de]),wi=We&&(0,$.F)(),Mi=(0,n.useMemo)((()=>({debugImpressionState:c,slotIndex:ke})),[c,ke]);return(0,ie.jsx)(O.Z,{name:"PinRepConfiguration",children:(0,ie.jsx)(Z.B,{value:_e,children:(0,ie.jsxs)(H.B,{value:{surface:de},children:[(0,ie.jsx)(q.Z,{actionBarProps:Ei,blockClickEvents:i,currentlyPlayingVideo:ze,footerProps:Si,impressionsDebuggerProps:Mi,obscuredPinOverlayProps:Ci,pin:re,pinVisualProps:Li,presentationProps:bi,primaryContentProps:ci,secondaryContentProps:hi,showFooter:vi||Oi,showImpressionsDebugger:wi,showObscuredPinOverlay:Ni,showSeeStatsButton:Ii,showSignalDebugger:We,showUnavailablePin:di,surface:de,visibilityOverrides:_i,...(0,v.Z)(ce,["pinId"])}),He.shouldOpenModal&&He.newPin&&(null===(Te=He.originalPin)||void 0===Te?void 0:Te.id)===re.id&&(0,ie.jsx)(O.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ie.jsx)(w.Z,{children:(0,ie.jsx)(te,{experience:He.experience,newPin:He.newPin})})})]})})})}))},134396:(e,i,t)=>{t.d(i,{J:()=>Wi,Z:()=>Yi});var n=t(667294),o=t(241244),a=t(319915),r=t(605028),s=t(947599),l=t(898781),d=t(780280),_=t(616320),c=t(527890),u=t(768559),p=t(89254);function h(e,i){const{carousel_data:t,domain:n,ad_destination_url:o}=e;let a=n||"";return o&&(a=(0,p.Z)(o).hostname||""),t&&t.id&&(a=function(e,i){const t=i||e&&e.index||0,n=e&&e.carousel_slots||[],o=n[t]&&n[t].link||"";return o&&(0,p.Z)(o).hostname||""}(t,i)),a.replace("www.","")}var E=t(287072),I=t(480211),T=t(890473),A=t(925927),P=t(883119),m=t(785893);const f={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function S({pin:e,sourceLinkStyle:i,surface:t,url:o}){const a=(0,l.ZP)(),[r,s]=(0,n.useState)(!1),{id:d}=e,p=h(e),S=(0,A.TH)(),g=(0,T.Kl)(e)||{},{slotIndex:R}=(0,_.E)(),O=(0,u.Z)(e,S),v=(0,I.Z)(12,{object_id_str:d,clientTrackingParams:O,aux_data:{grid_index:R,...(0,T.Kl)(e)||{}}}),N=(0,I.Z)(101,{element:162,object_id_str:d,clientTrackingParams:O,aux_data:{...(0,T.Kl)(e)||{}}}),y=(0,I.Z)(8948,{object_id_str:d,clientTrackingParams:O,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:R,...(0,T.Kl)(e)||{}}}),b=()=>{v(),N(),y()},x=(0,E.Z)({href:o,target:"blank",externalData:{auxData:g,pin:e,surface:t}});return"icon-only"===i?(0,m.jsx)(P.hU,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),b(),x({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{...f.container,...r?f.containerHovered:Object.freeze({}),..."truncated-text"===i?f.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,m.jsx)(c.Z,{hovered:r,pin:e,slotIndex:R,viewType:1,children:(0,m.jsx)(P.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),b(),x({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,m.jsxs)(P.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:f.text},display:"flex",justifyContent:"between",children:[(0,m.jsx)(P.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,m.jsx)(P.JO,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,m.jsx)(P.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,m.jsx)(P.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:p})})]})})})})}const g=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(48035)]).then(t.bind(t,661712)))),R=(0,n.lazy)((()=>Promise.resolve().then(t.bind(t,955362)))),O=(0,n.lazy)((()=>t.e(5035).then(t.bind(t,833708))));const v=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:t,layout:c,onToggleFlyout:u,pin:p,pinTitle:h,setForcePrimary:E,showEditButton:I,showOverflowMenu:T,showShareButton:A,showSourceLinkButton:f,sourceLinkStyle:v,surface:N}){var y,b;const x=(0,l.ZP)(),C=(0,P.JZ)(),{isRTL:D}=(0,d.B)(),{viewParameter:L,viewType:w}=(0,_.E)(),{carousel_data:M,id:G,savedInfo:k,tracked_link:j,link:B,ad_destination_url:U}=p,F=null!==(y=null!==(b=null!=U?U:j)&&void 0!==b?b:B)&&void 0!==y?y:"",{isLeadPin:z}=(0,r.Z)(p),[H,Z]=(0,n.useState)(I),[V,W]=(0,n.useState)(I),[Y,K]=(0,n.useState)(I),X={...D?{marginLeft:I&&T?-44:0}:{marginRight:I&&T?-44:0},transition:D?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},q={opacity:Y?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},$={...D?{marginRight:V?4:0}:{marginLeft:V?4:0},transition:D?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return I&&T?(W(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{Z(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(W(I),Z(I),requestAnimationFrame((()=>{K(I)}))),()=>{clearTimeout(e)}}),[I,T]);let J=null;f&&(J=(0,m.jsx)(o.Z,{children:z?(0,m.jsx)(P.zx,{role:"button",accessibilityLabel:x._('Link for closeup view and sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link'),size:"sm",text:x._('Sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link')}):(0,m.jsx)(S,{pin:p,sourceLinkStyle:v,surface:N,url:F})}));const Q=A&&(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"send-share-link",children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(O,{pin:p,setForcePrimary:E})})})})}),ee=Boolean(null==k?void 0:k.localPinId)?null==k?void 0:k.localPinId:G,ie=H&&(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:C?void 0:{__style:q},children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(g,{carouselSlotCurrentIndex:M&&M.index,component:0,onToggleModal:u,pinId:ee,style:{size:"sm"},view:w,viewParameter:L,useLegoStyles:!0})})})})});return"equally-spaced"===c?(0,m.jsxs)(P.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?ie:Q,e?Q:ie]}):(0,m.jsxs)(P.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,m.jsx)(P.xu,{flex:"shrink",children:J}),(0,m.jsx)(P.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:C?void 0:{__style:X},children:(0,m.jsxs)(P.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?ie:Q,e?Q:ie,T&&(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:C?void 0:{__style:$},children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(R,{feedbackData:i,feedbackType:t,pin:p,pinTitle:h,setForcePrimary:E})})})})})]})})]})}));var N=t(966338),y=t(834911),b=t(811403),x=t(407043);function C({direction:e,swipeHandler:i}){const t=(0,l.ZP)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,m.jsx)(P.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,m.jsx)(P.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,m.jsx)(P.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,m.jsx)(P.JO,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const D=(0,N.connect)(null,(function(e){return{changeCarouselSlotIndex:(i,t)=>e((0,b.yR)(i,t))}}))((({pin:e,changeCarouselSlotIndex:i})=>{const{logContextEvent:t}=(0,x.v)(),{componentType:n,viewParameter:a,viewType:r}=(0,_.E)(),s=(0,y.Z)({pin:e});if(!s)return null;const{id:l=""}=e,{carousel_slots:d=[],index:c=0,id:u}=s;function p(o){return()=>{const s="left"===o?c-1:c+1;i(l,s),((i=0,o)=>{t({event_type:108,object_id_str:l,component:n,view_type:r,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[i]&&Number(d[i].id),carouselDataId:Number(u),carouselSlotIndex:i,toCarouselSlotIndex:o}},aux_data:{...(0,T.Kl)(e)||{}}})})(c,s)}}return(0,m.jsxs)(P.xu,{height:"100%",position:"relative",width:"100%",children:[c>0&&(0,m.jsx)(o.Z,{children:(0,m.jsx)(C,{direction:"left",swipeHandler:p("left")})}),c<d.length-1&&(0,m.jsx)(o.Z,{children:(0,m.jsx)(C,{direction:"right",swipeHandler:p("right")})})]})}));var L=t(923219),w=t(116303);function M({accessibilityLabel:e,attributionNameLink:i,avatarUrl:t,fullWidth:n=!0,name:o="",onClick:a,outline:r=!1,size:s=32}){const l=(0,m.jsx)(P.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,m.jsx)(w.Z,{name:o,src:t,accessibilityLabel:e,outline:r})});return i?(0,m.jsx)(P.iP,{fullWidth:n,role:"link",href:i,onTap:a,children:l}):l}var G=t(217468);function k({isHover:e,attributionNameLink:i,name:t,onClick:n,regularWeight:o}){const{anyEnabled:a}=(0,G.aq)("web_disable_ads_blocker",!i);return(0,m.jsx)(P.xu,{children:(0,m.jsx)(P.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:i?(0,m.jsx)(P.rU,{onClick:n,href:i,children:t}):a?(0,m.jsx)("span",{children:t}):t})})}function j({isHover:e,link:i,onClick:t,title:n,weight:o}){return n?(0,m.jsx)(P.xv,{inline:!0,underline:e,size:"200",weight:o,children:i?(0,m.jsx)(P.rU,{onClick:t,href:i,children:n}):n}):null}var B=t(993786),U=t(480622);function F({attributionNameLink:e,attributionTitle:i,avatarUrl:t,display:o="default",isPromotedByPinCreator:a,pin:s,name:l,url:d,verifiedIdentity:_,isVerifiedMerchant:c}){const u=(0,U.f)(),[p,h]=(0,n.useState)(!1),{id:E,sponsorship:T,story_pin_data_id:A}=s,{isPromoted:f}=(0,r.Z)(s),{creator:S}=T||{},{id:g}=S||{},R=!!A,O=(0,I.Z)(101,{view_type:3,element:f?283:27,object_id_str:E,component:R?230:void 0,aux_data:{...g?{creator_id:g,pin_id:E}:{}}}),v=()=>{u.setMostRecentPinId(E),O()},N=()=>{h((e=>!e))},y=d&&!e,b="overlay"===o,x=(0,m.jsxs)(P.xu,{alignItems:"center",display:b?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,m.jsx)(P.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:b?"flex":void 0,justifyContent:"center",children:(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:b?{__style:{marginTop:-45}}:void 0,children:(0,m.jsx)(M,{attributionNameLink:e,avatarUrl:t,name:l,onClick:()=>v(),accessibilityLabel:"",size:b?64:32,outline:b})})}),(0,m.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:b?"flex":void 0,justifyContent:"center",marginTop:b?2:void 0,children:[(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,m.jsxs)(P.kC,{gap:1,children:[(0,m.jsx)(k,{attributionNameLink:e,name:l,onClick:()=>v(),regularWeight:!(f&&!T||a),isHover:p}),(0,m.jsx)(B.Z,{size:"sm",hasVerifiedIdentity:_,isVerifiedMerchant:c})]})}),(0,m.jsx)(j,{isHover:p,title:i,weight:"normal"})]})]});return y?(0,m.jsx)(P.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),v()},href:d,onMouseEnter:N,onMouseLeave:N,children:x}):x}var z=t(333070),H=t(122016),Z=t(333312),V=t(946244),W=t(674578),Y=t(19121),K=t(978698),X=t(535095),q=t(281615),$=t(622403);function J({board:e,favoriteCount:i,favorited:t,pinId:o}){const{logContextEvent:a}=(0,x.v)(),r=(0,N.useDispatch)(),{slotIndex:s}=(0,_.E)(),{currentFilter:l,eligibleFilters:d,refreshData:c=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=(0,$.s)(),h=(0,n.useRef)(null),E=(0,Y.Z)(),I=(0,H.Z)(E,e),T=l===X.Ac&&(!i||1===i),A=(0,K.E)(d,X.Ac),f=e=>{a({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:I?3069:3070})};return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(P.xu,{ref:h,children:(0,m.jsx)(V.Z,{favorited:t,favoriteCount:i,onFavorite:()=>{f(!0),A&&c(),p&&p(!0)},onUnfavorite:()=>{f(!1),e&&T&&r((0,W.Z)({feedId:u||e.id,feedType:u?q.DV.SECTION_PINS:q.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!t&&!u&&0===s&&(0,m.jsx)(P.mh,{children:(0,m.jsx)(Z.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=t(850115),ee=t.n(Q),ie=t(379507),te=t.n(ie),ne=t(637956),oe=t.n(ne),ae=t(694379),re=t(909745),se=t.n(re),le=t(128206),de=t.n(le),_e=t(681227);const ce={goodIdea:ee(),love:oe(),thanks:se(),wow:de(),haha:te()},ue={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},pe=["CreatorProfileStoryPinGrid"];const he=function({alignment:e="start",pinId:i,pinner:t,reactionCounts:n,surface:o}){const a=(0,Y.Z)(),r=n?(0,_e.At)(n):null,s=n?(0,_e.Ud)(n):0,l=Boolean(a.isAuth&&(null==t?void 0:t.id)===a.id),d=!!r&&r.length>0&&r.map(((e,i)=>{const t=ce[ue[e]];return(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,m.jsx)(P.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${t})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)})),_=!!d&&(0,m.jsx)(P.iP,{role:"link",href:`/pin/${i}/`,children:(0,m.jsxs)(P.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,m.jsx)(P.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,m.jsx)(P.xu,{paddingX:1,children:(0,m.jsx)(P.xv,{size:"200",children:(0,m.jsx)(ae.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),c=l&&pe.includes(o)&&(0,m.jsx)(P.xu,{height:24});return _||c};var Ee=t(36296),Ie=t(864537);function Te({feedbackType:e,pin:i}){const t=(0,l.ZP)(),{pinner:n,source_interest:o}=i,{full_name:a,username:r}=n||{},{name:s}=o||{},d="topic"===e,_=!d&&"followed"===e,c=`/${r}/`,u=(0,Ie.NO)(s),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,h=d?p:c,E={topic:t._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:t._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!E)return null;if(_||d){const e=0===E.indexOf("{"),i=d?s:a,t=e?E.slice(E.indexOf("}")+1):E.slice(0,E.indexOf("{"));return e?(0,m.jsxs)(P.xu,{children:[(0,m.jsx)(P.rU,{inline:!0,href:h,underline:"hover",children:(0,m.jsx)(P.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,m.jsx)(P.xv,{inline:!0,size:"200",children:t})]}):(0,m.jsxs)(P.xu,{children:[(0,m.jsx)(P.xv,{inline:!0,size:"200",children:t}),(0,m.jsx)(P.rU,{inline:!0,href:h,underline:"hover",children:(0,m.jsx)(P.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,m.jsx)(P.xu,{children:(0,m.jsx)(Ee.Z,{pin:i,children:(0,m.jsx)(P.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:E})})})}var Ae=t(595342),Pe=t(955362),me=t(397066),fe=t(48714);function Se(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class ge extends n.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:i,surface:t,url:n}=this.props;n&&i&&(0,fe.$3)({location:e,pin:i,surface:t})&&(0,fe.iw)({isMounted:this.mounted,pin:i,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:n})})),Se(this,"handleClick",(e=>{const{auxData:i,location:t,onClick:n,pin:o,pinId:a,url:r,logContextEvent:s}=this.props;(0,fe.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),r&&(0,me.h)({href:r,pinId:a,pin:o,location:t,auxData:i},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:i}=this.props;return(0,m.jsx)("a",{href:i,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Re=(0,N.connect)((function({pins:e},{pinId:i}){return{pin:i&&e?e[i]:void 0}}),(()=>({})))((function(e){const{logContextEvent:i}=(0,x.v)();return(0,m.jsx)(ge,{...e,history:(0,A.k6)(),location:(0,A.TH)(),logContextEvent:i,match:(0,A.$B)()})}));function Oe(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:i,totalAssets:t}=window.prefetchCompletion[e];return t?(i/t*100).toFixed(3).toString():"-1"}var ve=t(941646),Ne=t(305689);function ye({children:e,componentType:i,contextLogData:t,pin:n,surface:o,viewParameter:a,viewType:r}){const{logContextEvent:s}=(0,x.v)(),l=(0,_.E)(),{ad_destination_url:d,carousel_data:c,id:u,link:p,tracked_link:h}=n;let E,I=d||h||p||"",T="one-tap-desktop";if(c){const{carousel_slots:e=[],id:i,index:t=0}=c;e[t]&&e[t].link&&(I=e[t].link),E={carousel_slot_id:e[t]&&e[t].id,carousel_data_id:i,carousel_slot_index:t},T+="-carousel"}return(0,m.jsx)(P.xu,{"data-test-id":"otpp",children:(0,m.jsx)(ve.Z,{id:T,children:(0,m.jsx)(Re,{auxData:E,onClick:()=>{const e=(0,Ne.cv)();s({event_type:12,view_type:r||l.viewType,view_parameter:a||l.viewParameter,component:i||l.componentType,object_id_str:u,aux_data:{...t,grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:Oe(p||"")}}),s({event_type:8948,view_type:r||l.viewType,view_parameter:a||l.viewParameter,component:i||l.componentType,object_id_str:u,aux_data:{...t,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:Oe(p||"")}}),s({event_type:13,object_id_str:u,component:i||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...t}}),s({event_type:13,...e})},pinId:u,surface:o,url:I,children:e})})})}var be=t(984405);function xe(e){const{pin:i,surface:t}=e,{isOneTap:n,isVideo:o,isPromoted:a,isLeadPin:s}=(0,r.Z)(i),l=(0,G.tc)("web_no_tap_tap"),d=!s&&(n||o&&a&&l().anyEnabled)?ye:Ee.Z;return(0,m.jsx)(d,{surface:n?t:void 0,...(0,be.Z)(e,["surface"])})}function Ce({pin:e,pinNoteText:i}){return(0,m.jsx)(xe,{pin:e,children:(0,m.jsx)(P.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}var De=t(483296),Le=t(81226);function we({value:e,valueFormat:i}){const t=(0,l.ZP)();return e||0===e?"TIME"===i?(0,Le.Z)(e):(0,m.jsx)(ae.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,m.jsx)(P.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}var Me=t(578722);function Ge({pin:e}){var i;const t=(0,l.ZP)(),n=(0,Y.Z)(),{isStoryPin:o,isVideo:a}=(0,r.Z)(e),s=n.isAuth&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===n.id&&!e.is_repin,d=n.isAuth&&n.isPartner,_=(0,Me.iL)({isOwnPin:s,isPartner:d}),c=(0,Me.H1)({isOwnPin:s,isPartner:d}),u=e.created_at?new Date(e.created_at):null,p=(_||c)&&u&&u.getTime()<=Me.HW.getTime(),h=_?function(e){const{public_creator_analytics:i}=e,{isStoryPin:t}=(0,r.Z)(e);return t&&i?i:null}(e):function(e){const{aggregated_pin_data:i,creator_analytics:t}=e,{creator_analytics:n}=i||{},{isStoryPin:o}=(0,r.Z)(e);return!t||!o&&n?n:t}(e),E=(0,De.ZP)({isVideo:a,isStoryPin:o,i18n:t,showPublicPinStats:_,showPrivateFullScreenPinStats:c}),I=a||o?null==h?void 0:h.all_time_realtime:null==h?void 0:h["30d_realtime"];return(0,m.jsx)(P.kC,{alignItems:"stretch",justifyContent:"start",children:E.map((({align:e,displayText:i,field:t,iconType:n,iconSize:o=12,valueFormat:a})=>(0,m.jsxs)(P.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,m.jsx)(P.xu,{display:"inlineBlock",marginEnd:1,children:(0,m.jsx)(P.JO,{accessibilityLabel:i,color:"default",icon:n,size:o})}),(0,m.jsx)(P.xv,{inline:!0,size:"200",children:(0,m.jsx)(we,{value:"full_screen_play"===t&&p?null:null==I?void 0:I[t],valueFormat:a})})]},t)))})}function ke({currentPrice:e,originalPrice:i,pin:t,surface:n}){const o=i&&i!==e;return(0,m.jsx)(xe,{pin:t,surface:n,children:(0,m.jsxs)(P.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,m.jsx)(P.xv,{color:o?"shopping":"subtle",size:"200",weight:"bold",children:e}),o&&(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,m.jsx)(P.xv,{color:"subtle",size:"200",weight:"bold",children:i})})]})})}var je=t(883561),Be=t(403001);function Ue({pin:e,surface:i}){return(0,m.jsx)(xe,{pin:e,surface:i,children:(0,m.jsx)(P.kC,{alignItems:"stretch",justifyContent:"start",children:(0,m.jsx)(P.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,Be.Z)(e,i)})})})}var Fe=t(655747);function ze({numberOfLines:e=2,pin:i,pinTitle:t,surface:n}){return(0,m.jsx)(P.xv,{color:"default",lineClamp:e,size:"200",weight:"bold",children:(0,m.jsx)(xe,{pin:i,surface:n,children:t})})}var He=t(601230);const Ze={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${He.X}ms ease`},visible:{opacity:1}}};function Ve({attributionDisplay:e,attributionType:i,board:t,feedbackData:o,feedbackType:a,hasTextContent:s,hasTitleOrSource:d,hoverTransitionState:_,pin:c,pinNoteText:u,pinTitle:p,productCurrentPrice:h,productOriginalPrice:E,reactionAlignment:T,setForcePrimary:A,showCarouselEllipsis:f,showFavoriteButton:S,showGroupBoardAvatar:g,showNativeReactions:R,showOverflowMenu:O,showPinStats:v,showSource:y,showTextContent:b,showTitle:x,showVerifiedIcon:C,showAttribution:D,surface:L,titleLines:w}){var k,B,U,H;const Z=(0,l.ZP)(),V=(0,Y.Z)(),W=(0,N.useDispatch)(),{favorited_by_me:K,favorite_user_count:X,id:q,pinner:$,reaction_counts:Q,sponsorship:ee,story_pin_data:ie}=c,{has_affiliate_products:te}=ie||{},ne=function(e,i,t){var n,o,a,s;const{board:l,link_domain:d={},promoter:_,sponsorship:c,native_creator:u}=e,{sponsor:p}=c||{},{isPromoted:h}=(0,r.Z)(e),{official_user:E}=d||{},I=h&&!!c&&(null==u?void 0:u.id)!==(null==_?void 0:_.id),T=e.pinner||{};let A="",P="",m="",f="",S="",g="",R=!1,O=!1;var v,N,y,b,x,C;if(I)A=null!==(v=null!==(N=null==u?void 0:u.image_medium_url)&&void 0!==N?N:null==u?void 0:u.image_small_url)&&void 0!==v?v:"",P=`/${null!==(y=null==u?void 0:u.username)&&void 0!==y?y:""}/`,m=null==_?void 0:_.full_name,f=null==u?void 0:u.full_name,g=`/${null!==(b=null==u?void 0:u.username)&&void 0!==b?b:""}/`,S=`/${null!==(x=null==_?void 0:_.username)&&void 0!==x?x:""}/`,R=null==u||null===(C=u.verified_identity)||void 0===C?void 0:C.verified,O=null==u?void 0:u.is_verified_merchant;else if(h&&_)A=_.image_medium_url||_.image_small_url,m=_.full_name,f=t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),g=`/${_.username}/`;else if(c&&null!=p&&p.username){var D,L,w,M,G,k;A=null!==(D=null!==(L=null!==(w=null==u?void 0:u.image_large_url)&&void 0!==w?w:null==u?void 0:u.image_medium_url)&&void 0!==L?L:null==u?void 0:u.image_small_url)&&void 0!==D?D:"",P=`/${null!==(M=null==u?void 0:u.username)&&void 0!==M?M:""}/`,m=p.full_name,f=null==u?void 0:u.full_name,g=`/${null!==(G=null==u?void 0:u.username)&&void 0!==G?G:""}/`,S=`/${p.username}/`,R=null==u||null===(k=u.verified_identity)||void 0===k?void 0:k.verified,O=null==u?void 0:u.is_verified_merchant}else if(u){var j,B,U,F,z;A=null!==(j=null!==(B=null!==(U=u.image_large_url)&&void 0!==U?U:u.image_medium_url)&&void 0!==B?B:u.image_small_url)&&void 0!==j?j:"",f=u.full_name,g=`/${null!==(F=u.username)&&void 0!==F?F:""}/`,R=null===(z=u.verified_identity)||void 0===z?void 0:z.verified,O=u.is_verified_merchant}else if("show-for-claimed-content"===i){var H,Z,V,W;null!=E&&E.is_primary_website_verified&&E.username&&(A=null!==(H=null!==(Z=null!==(V=E.image_large_url)&&void 0!==V?V:E.image_medium_url)&&void 0!==Z?Z:E.image_small_url)&&void 0!==H?H:"",f=E.full_name,g=`/${E.username}/`,R=null===(W=E.verified_identity)||void 0===W?void 0:W.verified,O=E.is_verified_merchant)}else{var Y,K,X,q;A=null!==(Y=null!==(K=null!==(X=T.image_large_url)&&void 0!==X?X:T.image_medium_url)&&void 0!==K?K:T.image_small_url)&&void 0!==Y?Y:"",P=`/${T.username}/`,f=T.full_name,g=l?l.url:"",R=null===(q=T.verified_identity)||void 0===q?void 0:q.verified,O=T.is_verified_merchant}return e.nftData&&(g=`/nft-assets/${e.nftData.contract.address}`),{avatarUrl:null!==(n=A)&&void 0!==n?n:"",attributionNameLink:P,attributionTitle:null!==(o=m)&&void 0!==o?o:"",name:null!==(a=f)&&void 0!==a?a:"",sponsorUrl:S,url:null!==(s=g)&&void 0!==s?s:"",verifiedIdentity:!!R,isVerifiedMerchant:!!O}}(c,i,Z),{avatarUrl:oe,attributionNameLink:ae,attributionTitle:re,name:se,sponsorUrl:le,url:de,verifiedIdentity:_e,isVerifiedMerchant:ce}=ne,ue=!!c.promoter&&!c.is_downstream_promotion,pe=ue&&(null===(k=c.native_creator)||void 0===k?void 0:k.id)===(null===(B=c.promoter)||void 0===B?void 0:B.id),Ee=(0,I.Z)(101,{view_type:3,element:27,object_id_str:q,component:c.story_pin_data_id?230:void 0,aux_data:{pin_id:q,...null!=ee&&null!==(U=ee.creator)&&void 0!==U&&U.id&&null!==(H=ee.sponsor)&&void 0!==H&&H.id?{creator_id:ee.creator.id,sponsor_id:ee.sponsor.id}:{}}}),Ie=e=>W(Ie(e)),me=(0,G.tc)("web_ag_msg_pin_card_update"),fe="ConversationView"===L&&me({dangerouslySkipActivation:!0}).anyEnabled,Se=!pe&&ee?(0,m.jsx)(j,{link:le||de,onClick:()=>(Ie(q),void Ee()),title:(0,je.ZP)(re,20),weight:"bold"},`${c.id}-sponsor-name-link`):null,ge="ConversationView"===L&&fe?{padding:"8px"}:Ze.container;return(0,m.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:ge},children:[f&&(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:d||g||"none"!==i?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,m.jsx)(z.default,{pinId:q})}),v&&(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,m.jsx)(Ge,{pin:c})}),(0,m.jsx)(P.kC,{alignItems:"stretch",justifyContent:"start",children:(0,m.jsxs)(P.xu,{flex:"grow",children:[(!!ee||te&&!ue)&&!pe&&(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(P.xu,{flex:"grow",overflow:"hidden",children:(0,m.jsx)(Fe.Z,{hasAffiliateProducts:te,isPromoted:ue,sponsorName:Se,sponsorshipStatus:null==ee?void 0:ee.status})})}),(b&&s||S)&&(0,m.jsxs)(P.xu,{marginBottom:1,children:[(E||h)&&(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(ke,{currentPrice:h,originalPrice:E,pin:c,surface:L})}),S?(0,m.jsxs)(P.kC,{alignItems:"start",children:[(0,m.jsx)(P.kC,{flex:"grow",children:(0,m.jsx)(ze,{numberOfLines:w,pin:c,pinTitle:p,surface:L})}),(0,m.jsx)(P.xu,{marginStart:3,children:(0,m.jsx)(J,{board:t,favorited:!!K,favoriteCount:null!=t&&t.is_collaborative&&(0,Ae.Z)({board:t,viewer:V})?null!=X?X:0:void 0,pinId:q})})]}):x&&(0,m.jsx)(ze,{numberOfLines:w,pin:c,pinTitle:p,surface:L}),y&&(0,m.jsx)(P.xu,{marginBottom:2,children:(0,m.jsx)(Ue,{pin:c,surface:L})})]}),D&&(0,m.jsxs)(P.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(P.xu,{flex:"grow",children:(()=>{const t=(0,m.jsx)(F,{attributionNameLink:ae,attributionTitle:ue&&!ee||pe?re:"",avatarUrl:oe,display:e,isPromotedByPinCreator:!!pe,isVerifiedMerchant:C&&ce,name:se,pin:c,url:de,verifiedIdentity:C&&_e});switch(i){case"none":return null;case"image-only-credit":return(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:Ze.imageOnlyAttribution["active"===_?"visible":"hidden"]},children:(0,m.jsx)(Te,{pin:c,feedbackType:a})});default:return Object.values(ne).some((e=>Boolean(e)))?t:null}})()}),O&&(0,m.jsx)(P.xu,{flex:"none",children:(0,m.jsx)(Pe.default,{feedbackData:o,feedbackType:a,pin:c,pinTitle:p,setForcePrimary:A,transparentBackground:!0})})]}),R&&!!Q&&Object.keys(Q).length>0&&(0,m.jsx)(P.xu,{marginTop:"ConversationView"===L&&fe?2:void 0,children:(0,m.jsx)(he,{alignment:T,pinId:q,pinner:$,reactionCounts:Q,surface:L})}),u&&(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(Ce,{pin:c,pinNoteText:u})}),g&&!S&&(0,m.jsx)(P.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(M,{attributionNameLink:ae||de,avatarUrl:oe,fullWidth:!1,name:se}),(0,m.jsx)(P.xu,{marginStart:2,flex:"grow",children:(0,m.jsx)(P.xv,{size:"200",children:se})})]})})]})})]})}var We=t(149230),Ye=t(104389);const Ke=(0,n.lazy)((()=>t.e(33168).then(t.bind(t,512151)))),Xe=(0,n.lazy)((()=>t.e(69221).then(t.bind(t,330650))));function qe({contentType:e,hasTextContent:i,pin:t,pinTitle:o,productCurrentPrice:r,productOriginalPrice:d,productRating:_,productShipping:c,showSource:u,showVisitSiteButton:p,surface:h,titleLines:E}){var I;const{logContextEvent:A}=(0,x.v)(),f=(0,l.ZP)(),S=(0,G.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:g,group:R}=S({dangerouslySkipActivation:!0}),O=(null===(I=t.rich_summary)||void 0===I?void 0:I.url)||t.link;"shopping"!==e||R.includes("pwt")||S();const v=(0,We.Z)({url:O})?"nofollow":"none";return(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:Ze.productContainer},height:"100%",children:(0,m.jsx)(P.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,m.jsxs)(n.Fragment,{children:[(0,m.jsxs)(P.xu,{children:[(d||r)&&(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(ke,{currentPrice:r,originalPrice:d,pin:t,surface:h})}),(0,T.qN)(t)&&(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(Ke,{})})})}),(0,T.SP)(t)&&(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(Xe,{})})})}),(0,m.jsx)(P.xu,{marginBottom:1,children:(0,m.jsx)(ze,{numberOfLines:E,pin:t,pinTitle:o,surface:h})}),u&&(0,m.jsx)(Ue,{pin:t,surface:h}),"shopping"===e&&g&&(_||Number.isFinite(null==c?void 0:c.free_shipping_value))&&(0,m.jsx)(Ye.Z,{count:null==_?void 0:_.count,countFormat:"number",isGridView:!0,ratingValue:null==_?void 0:_.rating,shippingInfo:c})]}),p&&O?(0,m.jsx)(P.xu,{marginTop:2,children:(0,m.jsx)(P.zx,{role:"link",fullWidth:!0,href:O,rel:v,onClick:()=>{A({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:f._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const $e=(0,n.memo)((function({attributionDisplay:e,attributionType:i,blockClickEvents:t,board:n,contentType:a,feedbackData:r,feedbackType:s,hoverTransitionState:l,pin:d,pinNoteText:_,pinTitle:c,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:h,productRating:E,productShipping:I,setForcePrimary:T,showCarouselEllipsis:A,showFavoriteButton:f,showGroupBoardAvatar:S,showNativeReactions:g,showOverflowMenu:R,showPinStats:O,showSource:v,showTextContent:N,showTitle:y,showVerifiedIcon:b,showVisitSiteButton:x,showAttribution:C=!0,surface:D,titleLines:L}){const w=c||v,M="shopping"===a?(0,m.jsx)(qe,{contentType:a,hasTextContent:!!w,pin:d,pinTitle:c,productCurrentPrice:u,productOriginalPrice:p,productRating:E,productShipping:I,showSource:v,showVisitSiteButton:x,surface:D,titleLines:L}):(0,m.jsx)(Ve,{attributionDisplay:e,attributionType:i,board:n,feedbackData:r,feedbackType:s,hasTextContent:!!w,hasTitleOrSource:!!w,hoverTransitionState:l,pin:d,pinNoteText:_,pinTitle:c,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:h,setForcePrimary:T,showCarouselEllipsis:A,showFavoriteButton:f,showGroupBoardAvatar:S,showNativeReactions:g,showOverflowMenu:R,showPinStats:O,showSource:v,showTextContent:N,showTitle:y,showVerifiedIcon:b,showAttribution:C,surface:D,titleLines:L});return t?(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:M}):(0,m.jsx)(P.kC,{flex:"grow",children:(0,m.jsx)(o.Z,{fullWidth:!0,children:M})})}));var Je=t(275727),Qe=t(266413),ei=t(543398);const ii=(0,n.lazy)((()=>t.e(34979).then(t.bind(t,91540)))),ti=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(25848),t.e(43473)]).then(t.bind(t,256355)))),ni=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(77638),t.e(25848),t.e(22347)]).then(t.bind(t,442563)))),oi=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(69965),t.e(22538)]).then(t.bind(t,450564)))),ai=(0,n.lazy)((()=>t.e(1593).then(t.bind(t,331806))));function ri({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:t,onToggleFlyout:r,onToggleModal:l,pin:d}){const{id:c,savedInfo:u}=d,p=(0,n.useRef)(!!u),h=(0,N.useSelector)((({experiences:e})=>{const i=e[1000294];return 502450===(null==i?void 0:i.experience_id)?i:null})),{saveBehaviorType:E}=(0,ei.tY)(t);void 0!==E&&["classic","controlled","inline"].includes(e.type)&&(e=E);const{viewParameter:T,viewType:A}=(0,_.E)(),f=(0,I.Z)(101,{element:0,object_id_str:c});let S=null;const g={onToggleModal:r,view:A,viewParameter:T,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(h||t&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:n}=e;S=(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(oi,{experience:h||void 0,forcePrimaryContent:i,pin:d,renderPinSaveTooltip:n,showEnabledSaveBehavior:t,viewParameter:T})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:i}=e;S=(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(ti,{onClickCallback:f,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:i,renderSavedStatus:()=>!!u&&(0,m.jsx)(o.Z,{children:(0,m.jsx)(Qe.Z,{isNewlySaved:!p.current,name:u.title,type:u.type,url:u.url})}),variant:"lego",viewParameter:T})})})})})}else if("inline"===e.type){const i=d,{initialSelection:t,onSave:n,renderPinSaveTooltip:_,hidePinBetterSaveDropdown:c}=e;S=(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"better-save",children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(ni,{initialSelection:t,onSave:n,onToggleFlyout:r,onToggleModal:l,pin:i,renderPinSaveTooltip:_,renderSavedStatus:({savedInfo:e})=>e&&(0,m.jsx)(o.Z,{children:(0,m.jsx)(Qe.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:T,hideDropdown:c})})})})})}else"persistentOneClickSave"===e.type?S=(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"persistent-one-click-save",children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(ii,{...g,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(S=(0,m.jsx)(P.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(P.xu,{"data-test-id":"pin-promote-button",children:(0,m.jsx)(o.Z,{children:(0,m.jsx)(ai,{pin:d})})})})})}));return(0,m.jsx)(a.Z,{name:"PinRepPrimaryContent",children:(0,m.jsx)(P.xu,{display:"flex",margin:3,children:S&&(0,m.jsx)(P.xu,{marginStart:"auto",flex:"grow",children:S})})})}var si=t(64446),li=t(187767),di=t(822119),_i=t(891273),ci=t(326255);const ui={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function pi({isSelected:e}){const i=(0,l.ZP)();return(0,m.jsx)(P.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?ui:{},children:(0,m.jsx)(P.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,m.jsx)(P.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,m.jsx)(P.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"white",icon:"check",size:12})})})})}var hi=t(124364),Ei=t(802933),Ii=t(615873),Ti=t(800262),Ai=t(428258),Pi=t(172071);const mi={},fi=e=>{Pi.Z.increment("web_prefetch_via_xhr.attempt",1);const i=(0,p.Z)(e);return new Promise(((t,n)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(Pi.Z.increment("web_prefetch_via_xhr.saveDataOn",1),t()),/2g/.test(e.effectiveType)&&(Pi.Z.increment("web_prefetch_via_xhr.poorConnection",1),t())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(mi[e]&&(mi[e].loaded=!0),Pi.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),t(o.response)):(Pi.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),n())},mi[e]||(o.send(),mi[e]={added:!0,xhr:o},Pi.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))}))},Si={},gi=(e,i)=>{const t="string"==typeof e?e:e.url;if(i&&t){const e="control"===i?"v1.pinimg.com":"v2.pinimg.com";return t.replace("v.pinimg.com",e)}return t};function Ri(e,i){return(gi("https://v.pinimg.com/videos/mc/hls/",i)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Oi(e){const{id:i}=e;i&&Si[i]&&Si[i].length>0&&Si[i].forEach((e=>{(e=>{mi[e]&&mi[e].xhr&&!mi[e].loaded&&(Pi.Z.increment("web_prefetch_abort_xhr",1),mi[e].xhr.abort(),mi[e].aborted=!0)})(e)}))}function vi({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:t,imageFit:o,isDenseView:a,isHovering:s,isSocialSeasonalBoard:l=!1,onError:d,onLoad:u,pin:p,pinImageCrop:h,resolution:E="default",rootMargin:I,selectionState:T,showCarousel:A,showPromotedVideos:f,showUnavailablePin:S,surface:g}){const{contextLogData:R,slotIndex:O,viewParameter:v,viewType:N}=(0,_.E)(),{group:y}=(0,G.aq)("web_prefetch_video_in_feed"),{id:b="",aggregated_pin_data:x,image_signature:C,story_pin_data:D}=p,{pin_tags_chips:L}=x||{},{isOneTap:w,isVideo:M,isPromoted:k,isGif:j}=(0,r.Z)(p),{cropHeight:B,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let F=null;if(S)F=(0,m.jsx)(hi.Z,{isDenseView:a,height:a?250:420,rounding:0,width:a?164:236});else if(e||!M||!f&&k||"BoardCoverSelectablePin"===g)if(A)F=(0,m.jsx)(P.xu,{"data-test-id":"pinrep-carousel",children:(0,m.jsx)(di.Z,{cropHeight:B,cropWidth:U,onError:d,onLoad:u,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,pinId:b,showCarouselBadge:!1,pin:p})});else{const e="backend"===h?function({images:e,image_crop:i}){var t;const n=e&&(null===(t=e["236x"])||void 0===t?void 0:t.height);if(i&&(0!==i.min_y||1!==i.max_y)){const{min_y:e=0,max_y:t=0}=i;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${t<1?Math.round(-1*(1-t)*(null!=n?n:0)):0}px`}}return{}}(p):{};F=(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,m.jsx)(_i.Z,{animateGif:j&&l,cropHeight:B,cropWidth:U,fallbackColor:t,imageFit:o,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,mediumResOnly:"medium-res"===E,onLoad:u,onError:d,pin:p})})}else F=(0,m.jsx)(P.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:B||void 0,justifyContent:"center",children:(0,m.jsx)(ci.Z,{cropHeight:B,rootMargin:I,inAdsDesktopVideoExperiment:M&&f,pin:p,surface:g,onLoad:u,viewType:N,viewParameter:v,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,onError:d,isExperimentalPinRep:!0})});const z=(0,m.jsx)(P.zd,{wash:!0,children:(0,m.jsx)(c.Z,{hovered:s,pin:p,slotIndex:O,viewType:1,children:F})}),H=["selected-image-only","deselected-image-only"].includes(T),Z="selected-image-only"===T,V=(0,n.useRef)(!0),W=(0,n.useRef)(!1),Y=(0,n.useRef)(!1),K=(0,G.aq)("web_video_quic").group;if((0,n.useEffect)((()=>{V.current||!s||w||i||W.current?s||!W.current||Y.current||(Oi(D||p),Y.current=!0):D?(!function(e,i){var t;const{id:n,pages:o,pages_preview:a}=e;if(!a&&!o)return;const r=a?a[0]:null==o?void 0:o[0],s=null==r||null===(t=r.blocks)||void 0===t?void 0:t.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:t}=(0,Ai.Z)(s.video)||{},o=t||e;if(o&&n){var l;const e=null!==(l=gi(o,i))&&void 0!==l?l:"";Si[n]=Si[n]?Si[n].concat(e):[e],fi(e)}}}(D,K),W.current=!0):(!function(e,i){const{id:t,videos:n}=e,{video_list:o}=n||{},a=(0,Ei.Z)({pin:e}),{video:r}=(0,Ii.Z)(a)||{},{hls:s,hlsv3:l}=r||{};if(o){const e=(0,Ai.t)(o)||{},n=l||s||{};if(n.url){var d;const e=null!==(d=gi(n.url,i))&&void 0!==d?d:"";Si[t]=Si[t]?Si[t].concat(e):[e],fi(e).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".m3u8")))),n&&n[Ti.VS]){const e=Ri(n[Ti.VS],i);return Si[t]=Si[t].concat(e),fi(null!=e?e:"")}return null})).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".ts")))),n&&n[0]){const e=Ri(n[0],i);return Si[t]=Si[t].concat(e),fi(null!=e?e:"")}return null}))}else if(e.url){var _;const n=null!==(_=gi(e.url,i))&&void 0!==_?_:"";fi(n),Si[t]=Si[t]?Si[t].concat(n):[n]}}}(p,K),W.current=!0),V.current=!1}),[i,s,w,D,p,y,K]),i)return(0,m.jsxs)(n.Fragment,{children:[z,H&&(0,m.jsx)(pi,{isSelected:Z}),L&&(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,m.jsx)(li.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:X,story_type:q}=R||{},$=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(g);return(0,m.jsxs)(xe,{contextLogData:{commerce_data:$?X:void 0,grid_index:O,image_signature:C,story_type:q},elementType:D?12372:35,pin:p,surface:g,children:[z,L&&(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,m.jsx)(li.Z,{pin:p,enableCloseupLink:!1})})]})}var Ni=t(378396),yi=t(894350),bi=t(946984);const xi=(0,yi.Z)((({handleSendShareFlyoutButtonClick:e})=>{const i=(0,l.ZP)(),t=(0,bi.Z)();return(0,m.jsx)(P.zx,{fullWidth:!0,onClick:t((({event:i})=>{i&&i.stopPropagation&&i.stopPropagation(),e()})),text:i._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:i._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function Ci(e){return e<160?"header-only":"none"}function Di(e){const[i,t]=(0,n.useState)(e.current?Ci(e.current.clientHeight||0):"none");return function(e,i){const t=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const o=t.current;o&&o.width===n.offsetWidth&&o.height===n.offsetHeight||(t.current={width:n.offsetWidth||0,height:n.offsetHeight||0},i&&i(t.current))})),t.current}(e,(({height:e})=>{const n=Ci(e);n!==i&&t(n)})),i}var Li=t(601156),wi=t(199534),Mi=t(663136),Gi=t(222239),ki=t(858358);const ji="#000000",Bi="#ffffff";function Ui({selected:e=!1}){const i=(0,l.ZP)(),{isRTL:t}=(0,d.B)();return(0,m.jsx)(P.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new P.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?ji:Bi,borderRadius:ki.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,m.jsx)(P.xu,{position:"absolute",bottom:!0,right:!t,left:t,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,m.jsx)(P.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"white",size:12})}):(0,m.jsx)(P.xu,{right:!t,left:t,position:"absolute",top:!0,margin:3,children:(0,m.jsx)(P.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"white",size:24})})})}const Fi={wrapper:{borderRadius:ki.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:ki.Dv.VISUAL},savedOverlay:{backgroundColor:ki.Dv.SAVED},legoWashOverlay:{backgroundColor:ki.Dv.LEGO_WASH}};function zi({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:t="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:o,primaryContent:a,primaryContentVisibility:r="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:_="none",actionBar:c,actionBarVisibility:u="none",seeStatsButton:p,footer:h,selectionState:E="no-selection",debugContent:I,signalDebuggerContent:T,signalDebuggerV2Content:A,signalDebuggerV2ContentVisibility:f="none",obscuredPinOverlay:S,showNoPinBorderRadius:g,showPromotedPinBorderTreatment:R,shouldUseLegoWash:O}){return(0,m.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:R?Fi.promotedPinBorderTreatment:{}},height:"100%",children:(0,m.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:g?{}:Fi.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(E)&&(0,m.jsx)(Ui,{selected:"selected"===E}),(0,m.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:g?{}:Fi.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:o,onMouseEnter:n,onMouseLeave:o,children:[e,(0,m.jsx)(Gi.Z,{visibility:t,children:(0,m.jsx)(Mi.Z,{additionalStyles:O?Fi.legoWashOverlay:Fi.visualOverlay})}),(0,m.jsx)(Gi.Z,{visibility:i,children:(0,m.jsx)(Mi.Z,{additionalStyles:O?Fi.legoWashOverlay:Fi.savedOverlay})}),d&&(0,m.jsx)(Gi.Z,{visibility:_,children:(0,m.jsx)(Mi.Z,{children:d})}),s&&(0,m.jsx)(Gi.Z,{visibility:l,children:(0,m.jsx)(Mi.Z,{children:s})}),a&&(0,m.jsx)(Gi.Z,{visibility:r,children:(0,m.jsx)(Mi.Z,{children:a})}),A&&(0,m.jsx)(Gi.Z,{visibility:f,children:(0,m.jsx)(Mi.Z,{children:(0,m.jsx)(P.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:A})})}),c&&(0,m.jsx)(Gi.Z,{visibility:u,children:(0,m.jsx)(Mi.Z,{children:(0,m.jsx)(P.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:c})})}),p&&(0,m.jsx)(Mi.Z,{children:(0,m.jsx)(P.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),I&&(0,m.jsx)(Mi.Z,{children:I}),T]}),h,S&&(0,m.jsx)(P.xu,{children:S})]})})}var Hi=t(379089);function Zi(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Vi(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Wi=228;const Yi=(0,n.memo)((function({actionBarProps:e,blockClickEvents:i,borderStyle:t,currentlyPlayingVideo:r,disableHover:s=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:c,onError:u,onLoad:p,pin:h,pinVisualProps:E,presentationProps:I,primaryContentProps:T,rounding:A,secondaryContentProps:f,selectionState:S,showFooter:g,showImpressionsDebugger:R,showObscuredPinOverlay:O,showSeeStatsButton:N,showSignalDebugger:y,showUnavailablePin:b,surface:x,visibilityOverrides:C}){var w,M;const{savedInfo:k}=h,{viewType:j}=(0,_.E)(),{showEnabledSaveBehavior:B}=(0,ei.Yh)(Hi.ZF.includes(x)||(0,Je.Z)(x)),[U,F]=(0,n.useState)(!1),z=(0,He.Z)(U);let{isHovering:H,hoverTransitionState:Z,handleMouseOver:V,handleMouseLeave:W}=function(){const[e,i]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,He.Z)(e,0,He.X),handleMouseOver:(0,n.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,n.useCallback)((()=>i(!1)),[i])}}();s&&(H=!1,Z="inactive");const Y=(0,He.Z)(!!k),K=Zi(Y),X=Zi(Z),q=Zi(Z),$=Zi(z),J=Zi(Y),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(x),ee="visible"!==K||Q?K:"none",ie={primaryContentVisibility:null!==(w=C.primaryContent)&&void 0!==w?w:Vi(q,$,"visible"===J?"none":J),secondaryContentVisibility:(te=Vi(q,$,J),"none"===te?"visible":"visible"===te?"none":"hidden"),actionBarVisibility:Vi(q,$),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var te;const ne=e=>F(e),oe=e=>F(e),ae=e=>{F(e),e||W()};let re=null;"none"!==ie.primaryContentVisibility&&(re=(0,m.jsx)(ri,{forcePrimaryContent:ne,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:ae,pin:h,...T}));let se=null;const le=(0,n.useRef)(!0),de=le.current;le.current=!1;const _e=function(e,i){const{carousel_data:t}=e,{index:o}=t||{},[a,r]=(0,n.useState)(!t||i),s=(0,n.useRef)(o),l=(0,n.useRef)(null);if(t){const e=s.current;s.current=o,(o!==e||i)&&(l.current&&clearTimeout(l.current),r(!0),l.current=setTimeout((()=>{r(!1),l.current=null}),4e3))}return(0,n.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),a}(h,de),ce=Zi((0,He.Z)(_e));ie.secondaryContentVisibility=null!==(M=C.secondaryContent)&&void 0!==M?M:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ie.secondaryContentVisibility,ce),se=(f.allowShoppingPriceIndicator||f.shoppingLabelColor||"none"!==ie.secondaryContentVisibility)&&!r&&(0,m.jsx)(P.xu,{margin:2,children:(0,m.jsx)(si.Z,{pin:h,...f})});let ue=null;"visible"===C.accessoryContent&&(ue=(0,m.jsx)(D,{pin:h}),ie.accessoryContentVisibility=Zi(Z)),E.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;N&&(e.showSourceLinkButton=!1,pe=(0,m.jsx)(o.Z,{children:(0,m.jsx)(Ni.Z,{pinId:h.id,surface:x})}));const he="visible"===C.actionBar?(0,m.jsx)(v,{onToggleFlyout:oe,pin:h,setForcePrimary:F,surface:x,...e}):null;let Ee=null;g&&(Ee=(0,m.jsx)($e,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===l.attributionType?Z:null,pin:h,setForcePrimary:F,surface:x,...l})),E.isSocialSeasonalBoard&&(Ee=(0,m.jsx)(P.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,m.jsx)(P.xu,{margin:"auto",width:Wi,children:(0,m.jsx)(xi,{isFlyoutOpen:U,onFlyoutDismiss:()=>oe(!U),onToggleFlyout:()=>oe(!U),pinId:h.id,sendType:"pin",shownWithinMasonry:!0,viewType:j})})}));const Ie=R&&(0,m.jsx)(Li.Z,{...d}),Te=y&&h.debug_info_html&&(0,m.jsx)(P.xu,{paddingY:1,children:(0,m.jsx)("pre",{children:h.debug_info_html})}),Ae=(0,m.jsx)(L.Z,{pin:h}),Pe=(0,n.useRef)();"header-only"===Di(Pe)&&(ie.actionBarVisibility="none",ie.accessoryContentVisibility="none");const me=O?(0,m.jsx)(wi.ZP,{pin:h,...c}):null,fe="ShoppingGridShippedMetadataWithVisitButton"===x?{height:"100%"}:{},Se=(0,G.tc)("web_ag_msg_pin_card_update"),ge="ConversationView"===x&&Se({dangerouslySkipActivation:!0}).anyEnabled,Re=(0,G.tc)("web_creator_attr_hover_overlay"),Oe=g&&"default"===l.attributionType&&Hi.ZF.includes(x),ve=!h.is_promoted&&!s&&Oe,Ne=ve&&Re({dangerouslySkipActivation:!0}).anyEnabled;return ve&&(Ee=(0,m.jsx)(P.xu,{onMouseEnter:Re,onFocus:Re,children:Ee})),(0,m.jsx)(a.Z,{name:"PinRepContainer",children:(0,m.jsx)(P.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:Ne?()=>{}:V,onBlur:Ne?()=>{}:W,onMouseEnter:Ne?()=>{}:V,onMouseLeave:Ne?()=>{}:W,dangerouslySetInlineStyle:{__style:fe},rounding:ge&&"ConversationView"===x?A:void 0,borderStyle:ge&&"ConversationView"===x?t:"none",overflow:ge&&"ConversationView"===x?"hidden":"visible",children:(0,m.jsx)(zi,{visualOverlayVisibility:X,savedOverlayVisibility:ee,handleMouseOverPinContent:Ne?V:()=>{},handleMouseLeavePinContent:Ne?W:()=>{},primaryContent:re,primaryContentVisibility:ie.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:ie.secondaryContentVisibility,accessoryContent:ue,accessoryContentVisibility:ie.accessoryContentVisibility,actionBar:he,actionBarVisibility:ie.actionBarVisibility,seeStatsButton:pe,footer:Ee,selectionState:S,debugContent:Ie,signalDebuggerV2Content:Ae,signalDebuggerV2ContentVisibility:ie.signalDebuggerV2ContentVisibility,signalDebuggerContent:Te,obscuredPinOverlay:me,...I,children:(0,m.jsx)(P.xu,{height:"100%",ref:Pe,children:(0,m.jsx)(vi,{blockClickEvents:i,showUnavailablePin:b,isHovering:H,onError:u,onLoad:p,pin:h,surface:x,selectionState:S,...E})})})})})}))},858358:(e,i,t)=>{t.d(i,{Dv:()=>a,Oc:()=>n,mv:()=>o});const n=16,o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},118552:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(680046),o=t(349700);function a({feedbackOptions:e,pin:i,viewParameter:t},a){const{board:r,pinner:s}=i,{getFeedbackType:l}=(0,n.ZP)({i18n:a,interpolateNamedTemplate:o.nk});return l({board:r,feedback:e,pin:i,pinner:s,viewParameter:t})}},617584:(e,i,t)=>{function n(e,i){return e&&e[i]&&e[i].url}t.d(i,{Z:()=>n})},403001:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(605028),o=t(890473);function a(e,i){const{isProduct:t}=(0,n.Z)(e);return(t||"ShoppingGridShippedMetadataWithVisitButton"===i&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},558329:(e,i,t)=>{t.d(i,{$l:()=>_,Lb:()=>u,NE:()=>h,Nc:()=>r,SR:()=>a,bm:()=>p,dZ:()=>d,nU:()=>c,o:()=>s,pU:()=>l});var n=t(306775),o=t(623568);function a(e){var i;return(null===(i=e.closeup_attribution)||void 0===i?void 0:i.id)||null}function r(e){var i,t;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(i=e.aggregated_pin_data)||void 0===i||null===(t=i.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function s(e){var i;return 0!==Object.keys((null===(i=e.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function l(e){var i;return 0!==Object.keys((null===(i=e.public_creator_analytics)||void 0===i?void 0:i.all_time_realtime)||{}).length}function d(e){var i,t;return!(null===(i=e.creator_analytics)||void 0===i||null===(t=i["30d_realtime"])||void 0===t||!t.is_realtime)}function _(e){const i=e.aggregated_pin_data||{};return i.is_shop_the_look||i.is_stela}function c(e,i){const{native_creator:t,pinner:n,domain:o}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===o)&&!e.is_promoted||t||i||e.nftData}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:i,pages:t=[]}={}}=e;return{metadata:i,detailsPage:t[1]}}const p=({viewer:e,pin:i})=>(0,n.su)(e)&&i.is_quick_promotable_by_pinner;function h({carouselInfo:e,closePanelWidth:i,isWideVideo:t,isShortImage:n,naturalWidth:o,showCloseupContentRight:a}){return!(t||!a)&&(!!n||!e&&o<i)}},95003:(e,i,t)=>{t.d(i,{Nb:()=>s,Of:()=>l,YO:()=>r,ZP:()=>c,x4:()=>_});var n=t(667294),o=t(620707),a=t(781423);const r=({showPdp:e,isLargerPane:i,showCloseupContentRight:t})=>e&&i?t?a.Uj:a.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:r}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:a.CI,regular:a.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:a.Kn,regular:a.u6}},d=(0,n.createContext)(l);function _(){const e=(0,n.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const c=d},781423:(e,i,t)=>{t.d(i,{CI:()=>a,Ch:()=>s,Gb:()=>l,Gg:()=>n,Ie:()=>u,JV:()=>h,KP:()=>p,Kn:()=>r,Uj:()=>d,bx:()=>E,d2:()=>c,g9:()=>I,iB:()=>T,u6:()=>o,zT:()=>_});const n=508,o=2*n,a=488,r=992,s=672,l=1176,d=.6,_=.84,c=40,u=72,p=740,h=60,E=912,I=32,T={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},890587:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(768559),o=t(927955);function a(e,i){const t=o.Z.instance;let a;if(t){const o=t.getState();if(o.pins&&e){const t=o.pins[e],r=o.location;if(null!=i&&i.shouldTrackForPrevLocation){const e=(null==t?void 0:t.tracking_params_map)||{},i=Object.keys(e).find((e=>"PinResource"!==e));t&&(a=i?e[i]:e.PinResource)}else t&&(a=(0,n.Z)(t,r))}}return a}},615873:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(307061),o=t(736688);const a=(0,n.Z)((e=>{const{videos:i}=e.pin,{id:t,video_list:n={}}=i||{},{V_720P:a,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,l=(0,o.V)(r),d=(0,o.V)(s),_=(0,o.V)(a),c=_||l||d;return t&&c?{...e,video:{id:t,hasVideo:c,mp4:_||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},333070:(e,i,t)=>{t.r(i),t.d(i,{default:()=>c});var n=t(966338),o=t(834911),a=t(811403),r=t(890473),s=t(407043),l=t(95003),d=t(883119),_=t(785893);function c({carouselData:e,carouselIndex:i,componentType:t,contextLogData:c,handleCarouselSwipe:u,isCloseup:p,isEditMode:h,pinId:E,viewParameter:I,viewType:T,variant:A}){const{logContextEvent:P}=(0,s.v)(),m=(0,n.useSelector)((({pins:e})=>e[E]),n.shallowEqual),f=e||(0,o.Z)({pin:m}),S=(0,n.useDispatch)();if(!f)return null;const g=(e,i,n)=>{h||void 0===a.yR||(e.preventDefault(),e.stopPropagation(),S((0,a.yR)(String(E),n))),void 0!==u&&u(n),((e,i,t,n=0,o,a,s,l,d,_,c)=>{if(!c){const{carousel_slots:c,id:u}=a;e({event_type:108,object_id_str:t,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==c?void 0:c[n])&&Number(c[n].id),carouselDataId:Number(u),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{..._,...(0,r.Kl)(i)||{}}})}})(P,m,E,i,n,f,I,T,t,c,h)},{carousel_slots:R=[],index:O}=f,v=void 0!==i?i:O,N="default"===A,y=N?"white":"#555",b=N?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,_.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,_.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:h?1:0,children:[...Array(R.length).keys()].map((e=>{var i;return(0,_.jsx)(d.xu,{paddingX:1,children:(0,_.jsx)(d.iP,{accessibilityLabel:null!==(i=R[e].title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:i})=>g(i,v,e),rounding:"circle",children:(0,_.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===v?y:b}},rounding:"circle"})})},E+e)}))})})}},527890:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294),o=t(802933),a=t(102500),r=t(692627),s=t(47170),l=t(890473),d=t(623568),_=t(407043),c=t(785893);function u({children:e,hovered:i,pin:t,slotIndex:u,trafficSource:p,viewType:h}){const{logContextEvent:E}=(0,_.v)(),[I,T]=(0,n.useState)(),[A,P]=(0,n.useState)(),{id:m,tracked_link:f,link:S}=t,g=f||S||"",R=()=>{T(!0)},O=(0,s.Z)(t),v=(0,r.Z)((0,o.Z)({pin:t})),N=(0,n.useCallback)((()=>{((e,i,t)=>{const n={check_only:t,pin_id:e.id,url:i,client_tracking_params:O,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:m,...u||{},...(0,l.Kl)(e)||{}})};return(0,a.Z)(n)})(t,g,!1).callGet({showError:!1}).then((e=>{e&&(E({event_type:12,object_id_str:m,view_type:h,view_parameter:v,aux_data:{clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(t)||{}}}),E({event_type:8948,view_type:h,object_id_str:m,view_parameter:v,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,d.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(t)||{}}}))}))})),y=e=>{var i;I&&(/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(N(),T(!1)),window.removeEventListener(A,y,!1))};return(0,n.useEffect)((()=>{var e,i,t,n,o,a;void 0!==(null===(e=window)||void 0===e||null===(i=e.document)||void 0===i?void 0:i.hidden)?P("visibilitychange"):void 0!==(null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.msHidden)?P("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(a=o.document)||void 0===a?void 0:a.webkitHidden)&&P("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(I&&window&&window.addEventListener(A,y,!1),()=>window.removeEventListener(A,y))),[I,A]),(0,n.useEffect)((()=>(i&&window.addEventListener("contextmenu",R),()=>{window.removeEventListener("contextmenu",R)})),[i]),(0,c.jsx)(n.Fragment,{children:e})}},730815:(e,i,t)=>{t.d(i,{J:()=>n,o:()=>o});const n="numSearchCloseups",o=20},543398:(e,i,t)=>{t.d(i,{ZP:()=>l,tY:()=>_,Yh:()=>d});var n=t(966338),o=t(784590),a=t(19121);const r=0,s=1;function l(e){var i;const t=(0,a.Z)(),n=t.isAuth&&t.id===e,r=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!t.isAuth||n});return{showEnabledSaveBehavior:n&&t.has_quicksave_board||!(!t.isAuth||null===(i=r.data)||void 0===i||!i.has_quicksave_board)}}function d(e){var i;const t=(0,n.useDispatch)(),r=(0,a.Z)(),s=r.isAuth&&!!r.boardCount&&r.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:r.isAuth&&r.id},dangerouslyDisableFetch:!s||!e});return r.isAuth&&void 0===r.save_behavior&&l&&null!==(i=l.data)&&void 0!==i&&i.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function _(e){const i=(0,a.Z)();let t;return e&&(i.save_behavior===r?t={type:"classic"}:i.save_behavior===s&&(t={type:"inline"})),{saveBehaviorType:t}}},767790:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(784590),o=t(925927);function a(){const{username:e}=(0,o.UO)();return(0,n.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},622403:(e,i,t)=>{t.d(i,{k:()=>a,s:()=>r});var n=t(667294);const o=(0,n.createContext)(Object.freeze({})),a=o.Provider;function r(){return(0,n.useContext)(o)}},535095:(e,i,t)=>{t.d(i,{Ac:()=>a,c7:()=>o,cg:()=>n});const n=-1,o=5,a=6},838292:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(122016),o=t(111046);function a({action:e,board:i,viewer:t}){var a;return(0,n.Z)(t,i)||(0,o.Z)({board:i,viewer:t})&&!(null===(a=i.collaborator_permissions)||void 0===a||!a.includes(e))}},111046:(e,i,t)=>{function n({board:e,viewer:i}){const{collaborated_by_me:t}=e;return Boolean(i.isAuth&&t)}t.d(i,{Z:()=>n})},595342:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(122016),o=t(111046);function a({board:e,viewer:i}){return(0,n.Z)(i,e)||(0,o.Z)({board:e,viewer:i})}},104389:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(854035),o=t(869503),a=t(67828),r=t(883119),s=t(785893);const l=({count:e,countFormat:i,ratingValue:t,shippingInfo:a,highlightLabel:l})=>(0,s.jsxs)(r.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,s.jsx)(n.Z,{count:e,countFormat:i,rating:t,textSize:"200"}),(0,s.jsx)(o.ZP,{customStyles:{color:l?"shopping":"subtle",size:"md"},shippingInfo:a})]}),d=({count:e,countFormat:i,ratingValue:t,shippingInfo:l,condition:d,highlightLabel:_})=>(0,s.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,s.jsx)(n.Z,{count:e,countFormat:i,rating:t,textSize:"300"}),(0,s.jsx)(o.ZP,{condition:d,customStyles:{color:_?"shopping":"default",size:"lg"},shippingInfo:l,showPrevDot:(0,a.Z)({count:e,rating:t})})]});function _(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(d,{...e})}},354042:(e,i,t)=>{t.d(i,{$O:()=>s,GZ:()=>d,OE:()=>_,Xv:()=>l,Z0:()=>n,_z:()=>a,fM:()=>r,qA:()=>o,zX:()=>c});const n=40,o=4,a=106,r=133,s=.1,l=10,d=246,_=197,c=236},22245:(e,i,t)=>{function n(e,i,t,n){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:t,undoText:n}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function a(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}t.d(i,{I1:()=>o,Ib:()=>r,NA:()=>n,ZP:()=>a,b9:()=>l,i0:()=>s,yj:()=>d})},241244:(e,i,t)=>{t.d(i,{N:()=>r,Z:()=>a});var n=t(883119),o=t(785893);function a({children:e,fullWidth:i}){return(0,o.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function r({children:e,enabled:i}){return i?(0,o.jsx)(a,{children:e}):e}},306775:(e,i,t)=>{t.d(i,{Fl:()=>_,GG:()=>c,Pw:()=>p,dl:()=>l,k3:()=>h,su:()=>E,tW:()=>u});var n=t(954571),o=t(411938),a=t(826067);const r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],_=(e,i)=>{if(s.includes(e.toUpperCase())){const{anyEnabled:e}=i.experiments.getWithActivation("advertiser_growth_qp_expansion");return e}return r.includes(e.toUpperCase())},c=e=>!!e&&d.includes(e.toUpperCase()),u=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),p=({requestContext:e,history:i,pinId:t})=>{((e,i)=>{const t=(0,a.ru)("/business/convert",{next:i});e.push(t)})(i,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(t))},h=e=>{const i=e.trim().split(" ").filter((e=>!!e));return{firstName:i.length>0?i[0]:"",lastName:i.length>1?i.slice(1).join(" "):""}},E=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,n.Z)(null,e)},687551:(e,i,t)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}t.d(i,{Z:()=>n})},778841:(e,i,t)=>{function n(e){const i=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(i&&i.length>0)}t.d(i,{Z:()=>n})},47170:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(768559),o=t(558068),a=t(925927);function r(e){const i=(0,a.TH)(),{previous:t}=(0,o.H)();return(0,n.Z)(e,i,t)}},81226:(e,i,t)=>{function n(e){const i=Math.round(e/1e3),t=i%60;return Math.floor(i/60)+":"+(t<10?"0":"")+t}t.d(i,{Z:()=>n})},954571:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){if(!(e||{}).created_at&&!(i||{}).createdAt)return!1;let t="";i&&i.createdAt?t=i.createdAt:e&&e.created_at&&(t=e.created_at);const n=new Date(t);return n.setDate(n.getDate()+28),(new Date).getTime()<n.getTime()}},411938:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i,t=28){if(!(e||{}).resurrection_info&&!(i||{}).resurrectionInfo)return!1;let n;n=i?((i||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,a=n?new Date(n):o;return a.setDate(a.getDate()+t),(new Date).getTime()<a.getTime()}},620707:(e,i,t)=>{t.d(i,{_Y:()=>n,qe:()=>r,xZ:()=>a});const n=(e,i)=>e.length===i.length&&e.every(((e,t)=>function(e,i){if("object"==typeof e&&"object"==typeof i){const t=Object.keys(e),n=Object.keys(i);return t.length===n.length&&t.every((t=>e[t]===i[t]))}return e===i}(e,i[t]))),o=(e,i)=>e.length===i.length&&e.every(((e,t)=>e===i[t])),a=(e,i=o)=>t=>{const n=[];return function(...o){const a=this,r=n.find((e=>e.context===a&&i(e.args,o)));if(r)return r.result;const s={context:a,args:o,result:t.apply(this,o)};return n.push(s),e&&n.length>e&&n.shift(),s.result}},r=a(1);a()},984405:(e,i,t)=>{function n(e={},i=[]){return Object.keys(e).reduce(((t,n)=>i.includes(n)?t:{...t,[n]:e[n]}),{})}t.d(i,{Z:()=>n})},64446:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(605028);var o=t(341732),a=t(81226),r=t(898781),s=t(217468),l=t(883119),d=t(785893);const _={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function u({backgroundColor:e,identifier:i,size:t="sm"}){const n="pine"===e?"#0FA573":"#fff",o="sm"===t?_:c;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:i})}function p({pin:e,size:i="sm",allowProductCarousel:t,allowShoppingPriceIndicator:_,shoppingLabelColor:c}){const p=(0,r.ZP)(),h=(0,n.Z)(e),E=(0,s.tc)("web_pdp_pur_optim"),{group:I,anyEnabled:T}=(0,s.aq)("hfp_idea_pin_identifer_web");if(h.isGif)return u({identifier:"GIF",size:i});if(h.isStoryPin){const{page_count:t=0,total_video_duration:n=0}=e.story_pin_data||{},o=T?I:"default";let r="idea-pin",s=t.toString();if("default"!==o)if(s=(0,a.Z)(n>0?n:5e3*t),o.includes("play"))r="play";else{if(!o.includes("icon_time"))return u({identifier:s,size:i});r="idea-pin"}return u({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:p._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:r,color:"default",size:"sm"===i?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:s})]}),size:i})}if(h.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return u({identifier:(0,a.Z)(n),size:i})}if(h.isProduct){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(_){const e=t&&(t.price||t.max_price);return e?u({identifier:e,size:i}):null}if(c){const n=null==t?void 0:t.percentage_off;let o=!1;n&&(o=E().anyEnabled);const a=o&&n||function(e){var i;return((((null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return a?u({identifier:a,backgroundColor:c,size:i}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&(0,o.Z)(e.images,t.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:a=[],index:r=0}=n;return u({identifier:`${r+1}/${a.length}`,size:i})}if(h.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:o=0}=t;return u({identifier:`${o+1}/${n.length}`,size:i})}return null}},55275:(e,i,t)=>{t.d(i,{P:()=>r,t:()=>s});var n=t(6637);const o=()=>{};const a={complaint:function(e,i){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){n.ZP.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){n.ZP.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){n.ZP.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){n.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){n.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){n.ZP.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){n.ZP.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){n.ZP.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){n.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,t=o){const n=e?a[e]:null;return n?n(i,t):t()}},680046:(e,i,t)=>{t.d(i,{EF:()=>c,XZ:()=>d,ZP:()=>s,nb:()=>_,yl:()=>l});var n=t(966113),o=t(55275),a=t(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return n.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return n.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return n.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:t,board:n,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:l,recommendationReason:d,sourceInterest:_})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:c}=d.board,u=a("navigation",c,o);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:u});case"topic":const{name:p,url_name:h}=_,E=a("topicUrl",`/topics/${h}`,p);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:E});case"followed":const I=`/${s.username}`,T=a("boardUrl",n.url,r(n.name)),A=a("pinnerUrl",I,r(s.full_name));return s.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:A}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:T});case"promoted":switch(t){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:t,username:n}=l,o=a("promotedLink",n?"/"+n+"/":"/",t);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:t,pin:{promoter:n,is_downstream_promotion:o,recommendation_reason:a},pinner:r}){const s=i&&i.type;return n&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===t||144===t||141===t||145===t||139===t||3173===t?"related":92===t?"default":3082===t?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:t,recommendationReasonId:n,pinFeedbackType:o,complaintReason:a,throughId:r,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===i;let _,c;switch(i){case"promoted":_="promotedComplaint";break;case"search":_="unrelatedSearchPin";break;case"related":_="relatedPinHide";break;case"newsHub":_="newsHubPinHide";break;default:_="complaint"}switch(i){case"search":c={query:e.query,pin_id:t};break;case"related":c={pin:t};break;case"newsHub":c={pinId:t,newsId:e.newsId};break;default:c={complaint_reason:a||0,pin_id:t,...n?{recommendation_reason_id:n}:{},feedback_type:o||1,promoted:d,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:_,actionOptions:c}},getUnfollowAction:({board:t,feedbackType:n,makeNavigateLink:o,pinner:r,sourceInterest:s})=>{if("topic"===n){if(s){const{id:t,name:n,url_name:r}=s,l=o("topicUrl",`/topics/${r}`,n,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:a.X},title:"",subTitle:d}}}else if("followed"===n&&t&&r){const{id:n,name:a,url:s}=t||{},{explicitly_followed_by_me:l,full_name:d,username:_}=r,c=`/${_}`,u=o("boardUrl",s,a,!0),p=o("pinnerUrl",c,d,!0);let h=l?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:p,formattedBoard:u}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u});return h=l?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:p}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function _(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function c(e,i,t,n,a,r,s){return()=>{const l={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,o.t)(d,l),r(t),s({event_type:101,component:0,element:11181,view_type:n,view_parameter:a})}}},248975:(e,i,t)=>{function n(e,i){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const t=e.images;if(!t)return"";if(i){const e="474x"===i&&t["474x"]||"236x"===i&&t["236x"]||t["736x"];if(e&&e.url)return e.url}const n=Object.keys(t).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(t[i]=t[e],i):e}catch(i){return""}}));n.sort();const o=n.pop();return t[o]&&t[o].url||""}t.d(i,{Z:()=>n})},605028:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(687551),o=t(623568);function a(e){const{access:i,attribution:t,embed:a,is_eligible_for_web_closeup:r,rich_summary:s,sponsorship:l,story_pin_data_id:d,videos:_}=e,c={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(c.isLeadPin=!0),(0,n.Z)(e)&&(c.isCarousel=!0),r&&(c.isOneTap=!0),(0,o.iR)(_)&&(c.isVideo=!0);const u=a||t&&t.embed||null;return u&&"gif"===u.type&&(c.isGif=!0),s&&"product"===s.type_name&&(c.isProduct=!0),s&&"recipe"===s.type_name&&(c.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(c.isPromoted=!0),(i||[]).includes("write")&&(c.isOwnPin=!0),d&&(c.isStoryPin=!0),l&&(c.isSponsored=!0),c}},692627:(e,i,t)=>{function n(e){if(e&&e.pin){const i=e.pin.rich_metadata;if(i)return i.products?144:i.article?141:i.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}t.d(i,{Z:()=>n})},869503:(e,i,t)=>{t.d(i,{KX:()=>c,Uv:()=>_,ZP:()=>u,gP:()=>d});var n=t(939106),o=t(898781),a=t(225643),r=t(349700),s=t(883119),l=t(785893);function d({condition:e}){const i=(0,o.ZP)();switch(e){case a.ConditionType.USED:return i._('Used', 'closeup.product.condition_used', 'product condition that is used');case a.ConditionType.REFURBISHED:return i._('Refurbished', 'closeup.product.condition_refurbished', 'product condition that is refurbished');case a.ConditionType.NEW:default:return""}}function _(){const e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function c({freeShippingPrice:e}){const i=(0,o.ZP)();return(0,r.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u({customStyles:e,shippingInfo:i,showPrevDot:t,condition:o}){const{free_shipping_price:a,free_shipping_value:r}=i||{},u=t?[""]:[],{color:p="subtle",size:h="200"}=e||{},E=d({condition:o});return Number.isFinite(r)?(E&&u.push(E),0===r?u.push((0,l.jsx)(_,{})):a&&u.push((0,l.jsx)(c,{freeShippingPrice:a})),0===u.length?null:(0,l.jsx)(s.xv,{color:p,size:h,children:(0,l.jsx)(n.Z,{color:p,items:u})})):null}},681227:(e,i,t)=>{function n(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,t)=>e[t]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e,i){const{videos:t,is_downstream_promotion:n,is_promoted:o,story_pin_data_id:a,board:r}=e;return!(o||n||(!t||!t.id)&&!a||i||null!=r&&r.is_collaborative&&r.collaborated_by_me)}t.d(i,{At:()=>n,J6:()=>a,Ud:()=>o})},561195:(e,i,t)=>{t.d(i,{A:()=>l,Z:()=>d});var n=t(667294),o=t(498913),a=t.n(o),r=t(883119),s=t(785893);const l=({fill:e,width:i,color:t})=>{const o="half"===e?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(r.xu,{position:"absolute",children:(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:i,width:t,color:o}){const r=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const _=Math.floor(d),c=d-_;return a()(_,(e=>r.push((0,s.jsx)(l,{color:o,fill:"full",width:t},e)))),c>=.75?r.push((0,s.jsx)(l,{color:o,fill:"full",width:t},r.length)):c>=.25&&r.push((0,s.jsx)(l,{color:o,fill:"half",width:t},r.length)),a()(5-r.length,(()=>r.push((0,s.jsx)(l,{color:o,fill:"empty",width:t},r.length)))),(0,s.jsx)(n.Fragment,{children:r})}},736688:(e,i,t)=>{t.d(i,{V:()=>n});const n=e=>{const{thumbnail:i,url:t,width:n,height:o,duration:a}=e||{};return i&&t&&n&&o&&{thumbnail:i,url:t,width:n,height:o,duration:a}||void 0}},124364:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(898781),o=t(883119),a=t(785893);function r({height:e,isDenseView:i,rounding:t,width:r}){const s=(0,n.ZP)();return(0,a.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:t,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(o.xu,{paddingY:i?2:4,children:(0,a.jsx)(o.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(o.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},927104:(e,i,t)=>{t.d(i,{Z:()=>n});const n=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},883561:(e,i,t)=>{t.d(i,{ZP:()=>n});function n(e,i=80,t="…",n=false){let o;if(!e)return"";if(e.length<=i)return e;if(" "!==e[i-1]&&" "===e[i]||n)o=e.substring(0,i);else{const t=e.lastIndexOf(" ",i);o=e.substring(0,t)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+t}},948618:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(883119),o=t(785893);function a({ariaHidden:e=!1,color:i="darkGray",size:t}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:i,inline:!0,size:null!=t?t:"md",children:"·"})})}},939106:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),o=t(948618),a=t(883119),r=t(785893);function s(e){return null!=e}function l({additionalPadding:e,color:i="darkGray",inline:t,items:l}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(o.Z,{color:i})}):(0,r.jsx)(o.Z,{color:i}),_=l.filter(s).reduce(((e,i,t)=>[...e,0!==t?d:null,i]),[]).filter(s).map(((e,i)=>(0,r.jsx)(n.Fragment,{children:e},i)));return 0===_.length?null:t?(0,r.jsx)(a.xu,{children:_}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:_})}},428258:(e,i,t)=>{t.d(i,{Z:()=>a,t:()=>o});const n=()=>{var e,i;const t="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0;let n,o=null===(a=window)||void 0===a||!a.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var a;return t?"4g"===t?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function o(e){const{downloadSpeedGroup:i,screenDimension:t}=n(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[i][t]||e.V_720P||void 0}function a(e){const{video_list:i={}}=e,t=o(i),n=i.V_HLSV3_MOBILE||void 0;return t?{hlsv3:n,mp4:t}:{hlsv3:n}}},229428:(e,i,t)=>{function n(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}t.d(i,{k:()=>n,m:()=>o})},869899:(e,i,t)=>{t.r(i),t.d(i,{RoleBasedAccessControlProvider:()=>P,useRoleBasedAccessControlContext:()=>A});var n=t(667294),o=t(389643),a=t(784590),r=t(19121),s=t(217468),l=t(425288),d=t(70061);const _=e=>{const i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?i[(0,d.Z)(t)]=e[t]:i[(0,d.Z)(t)]=_(e[t]));return i},c=(e,i)=>{const t=[];for(const a in e)a!==i&&t.push({id:a,..._(e[a])});const n=t.sort((({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i))),o=new Map;for(const a of n)o.set(a.id,a);return o};var u=t(622096);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},E=e=>{const[i,t]=(0,n.useReducer)(h,p),o=(({dispatch:e,isEnabled:i,state:t})=>{const{orbacVisibility:o,disableProfileChanger:a,headerVisible:r}=t;return{changeProfile:(0,n.useCallback)((t=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:t})}),[i,e]),toggleORBACVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!o})}),[i,e,o]),toggleDisableProfileChanger:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!a})}),[i,e,a]),toggleHeaderVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!r})}),[i,e,r])}})({dispatch:t,isEnabled:e,state:i}),{activeProfile:a,orbacVisibility:r}=i;(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacVisibility",r)}),[r]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",a)}),[a]);return{state:i,actions:o,receiveProfiles:(0,n.useCallback)(((e,i)=>{t({type:"LOAD_PROFILES",payload:c(e,i)})}),[t])}};var I=t(785893);const{Provider:T,useMaybeHook:A}=(0,l.Z)("RoleBasedAccessControlContext"),P=({children:e})=>{const i=(0,s.tc)("web_m10n_business_access_orbac_www"),t=(0,r.Z)(),l=Boolean(t.isAuth&&t.isPartner&&i().anyEnabled),{state:d,actions:_,receiveProfiles:c}=E(l),{activeProfile:u,headerVisible:p,profiles:h=[]}=d,A=h?Array.from(h.values()):[],P=(0,o.Z)(A),m=!!(t.isAuth&&A.length>0)&&P,f=t.isAuth?t.id:"",S=t.isAuth?t.username:"",{changeProfile:g,toggleORBACVisibility:R,toggleDisableProfileChanger:O,toggleHeaderVisibility:v}=_;(0,n.useEffect)((()=>{l&&("string"!=typeof P?u||g(f):g(P))}),[P,f,l,g,u]),(0,n.useEffect)((()=>{l&&(m&&!p&&v(!0),!m&&p&&v(!1))}),[v,m,l,p,h]);const{data:N}=(0,a.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),y=null==N?void 0:N.profiles;let b;t&&t.isAuth&&d.activeProfile===t.id?b={id:t.id,permissions:["OWNER"],user:{username:S,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:u&&d.profiles&&(b=d.profiles.get(u)),(0,n.useEffect)((()=>{y&&c(y,f)}),[c,y,f]);const x=d.profiles?Array.from(d.profiles.values()):[];return(0,I.jsx)(T,{value:{profiles:x,headerVisible:d.headerVisible,activeProfile:b,changeProfile:g,toggleORBACVisibility:R,toggleDisableProfileChanger:O,toggleHeaderVisibility:v},children:e})}},717615:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(217468),o=t(869899);const a=()=>{const e=(0,n.tc)("web_m10n_business_access_orbac_www"),i=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:t}=i||{};return e().anyEnabled&&t||Object.freeze({})}},389643:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(966338),o=t(19121),a=t(217468),r=t(53987),s=t(925927);const l=e=>{var i;const t=(0,s.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,a.tc)("web_m10n_business_access_orbac_beta_2")(),_=(0,s.$B)("/:username"),c=null==_||null===(i=_.params)||void 0===i?void 0:i.username,u=(0,s.$B)("/pin/:id"),p=(0,n.useSelector)((e=>{var i,t,n,o;return!(null==u||null===(i=u.params)||void 0===i||!i.id)&&(null==e||null===(t=e.pins)||void 0===t||null===(n=t[u.params.id])||void 0===n||null===(o=n.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(t))return!1;if((0,r.RU)(t))return!0;if((0,r.mY)(t))return d;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:i={},id:t}=e||{},{username:n}=i;return!!(n&&c||p&&t)&&(n===c||p===t)}));return!!h&&h.id}},231947:(e,i,t)=>{t.d(i,{D3:()=>d,DX:()=>s,KY:()=>_,Ms:()=>n,N1:()=>c,_P:()=>r,lJ:()=>a,nl:()=>o,q6:()=>l});const n=(e,i)=>{let t=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(t=i.user.username),t},o=(e,i)=>Boolean(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",r=(e,i,t)=>{var n;return t&&t.user&&i&&i.isAuth&&t.id!==i.id?t.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},s=(e,i,t)=>t&&t.user&&e.isAuth&&t.id!==e.id?t.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,l=(e,i,t)=>!!(e&&e.isAuth&&t&&t.id&&t.id!==e.id&&t.id===i),d=(e,i,t)=>!!(l(e,i,t)||e&&e.isAuth&&i===e.id),_=(e,i,t)=>{const n=i&&i.owner&&i.owner.id||"";return d(e,n,t)};function c(e,i,t){const n=i?i.id:"";return d(e,n,t)}},854035:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(67828),o=t(941646),a=t(898781),r=t(892819),s=t(349700),l=t(780280),d=t(561195),_=t(883119),c=t(785893);const u=({rating:e,textSize:i,type:t})=>{if("single"===t){const t=parseFloat(e);return Number.isNaN(t)?null:(0,c.jsxs)(_.kC,{alignItems:"center",children:[(0,c.jsx)(d.A,{fill:"full",width:12}),(0,c.jsx)(_.xv,{size:i,children:t.toFixed(1)})]})}return(0,c.jsx)(d.Z,{rating:e,width:12})},p=({bracket:e,count:i,countFormat:t,countType:n,marginStart:d,textSize:u,underline:p})=>{const{locale:h}=(0,l.B)(),E=(0,a.ZP)(),I=(0,r.Z)();if(null==i)return null;let T=I(h,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){const e="review"===n?E.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):E.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');T=(0,s.nk)(e,{count:i}).join("")}return e&&(T=`(${T})`),(0,c.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:d,children:(0,c.jsx)(_.xv,{color:p?"subtle":"default",size:u,underline:p,children:(0,c.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:T})})})};function h({count:e,countFormat:i,countType:t,rating:o,textSize:a,underline:r}){return(0,n.Z)({count:e,rating:o})?(0,c.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(u,{rating:o,textSize:a,type:"multiple"}),(0,c.jsx)(p,{count:e,countFormat:i,countType:t,textSize:a,underline:r})]}):null}},67828:(e,i,t)=>{function n({count:e,rating:i}){return Boolean(i&&"None"!==i&&Number.isFinite(e))}t.d(i,{Z:()=>n})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48719-cd5b256feff2e5d6.mjs.map